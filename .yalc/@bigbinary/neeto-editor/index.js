import{isNotEmpty as e,findBy as t,noop as n,removeBy as r,removeById as i,humanize as o,slugify as s}from"@bigbinary/neeto-commons-frontend/pure";import a from"ramda/src/pluck";import*as l from"react";import c,{useState as u,useRef as d,useImperativeHandle as p,useEffect as h,createContext as f,useContext as m,forwardRef as g,cloneElement as b,useLayoutEffect as y}from"react";import{renderToString as v}from"react-dom/server";import w from"ramda/src/isEmpty";import _ from"ramda/src/isNil";import x from"ramda/src/mergeDeepLeft";import{initReactI18next as k,useTranslation as E}from"react-i18next";import M from"ramda/src/concat";import{Toastr as C,Tooltip as D,Input as S,Button as A,Typography as N,Dropdown as O,Alert as T,Modal as I,Spinner as L,Avatar as j,Tab as R,Label as F}from"@bigbinary/neetoui";import{LeftAlign as z,CenterAlign as P,RightAlign as B,Delete as U,Close as H,MenuVertical as $,MenuHorizontal as V,Paragraph as W,TextH1 as q,TextH2 as K,Text as G,ListNumber as Y,ListDot as Q,ImageUpload as J,Video as Z,Blockquote as X,Code as ee,Smiley as te,Minus as ne,MediaVideo as re,Notes as ie,NeetoChangelog as oe,LeftArrow as se,Email as ae,TextBold as le,TextItalic as ce,Underline as ue,TextCross as de,Highlight as pe,Quote as he,Undo as fe,Redo as me,Link as ge,Braces as be,File as ye}from"@bigbinary/neeto-icons";import ve from"axios";import we from"ramda/src/assoc";import _e from"ramda/src/mergeRight";import xe,{flushSync as ke,createPortal as Ee}from"react-dom";import Me from"ramda/src/is";import Ce from"ramda/src/prop";import De from"ramda/src/fromPairs";import{Field as Se}from"formik";function Ae(e){this.content=e}function Ne(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let e=0;i.text[e]==o.text[e];e++)n++;return n}if(i.content.size||o.content.size){let e=Ne(i.content,o.content,n+1);if(null!=e)return e}n+=i.nodeSize}else n+=i.nodeSize}}function Oe(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);for(;e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let e=Oe(s.content,a.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}Ae.prototype={constructor:Ae,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return-1==i?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Ae(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Ae(n)},addToStart:function(e,t){return new Ae([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Ae(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(-1==o?i.length:o,0,t,n),new Ae(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Ae.from(e)).size?new Ae(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Ae.from(e)).size?new Ae(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Ae.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},Ae.from=function(e){if(e instanceof Ae)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Ae(t)};class Te{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,i){for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;if(l>e&&!1!==n(a,r+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,e-i),Math.min(a.content.size,t-i),n,r+i)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",o=!0;return this.nodesBetween(e,t,((s,a)=>{s.isText?(i+=s.text.slice(Math.max(e,a)-a,t-a),o=!n):s.isLeaf?(r?i+="function"==typeof r?r(s):r:s.type.spec.leafText&&(i+=s.type.spec.leafText(s)),o=!n):!o&&s.isBlock&&(i+=n,o=!0)}),0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new Te(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,o=0;o<t;i++){let s=this.content[i],a=o+s.nodeSize;a>e&&((o<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),r+=s.nodeSize),o=a}return new Te(n,r)}cutByIndex(e,t){return e==t?Te.empty:0==e&&t==this.content.length?this:new Te(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new Te(r,i)}addToStart(e){return new Te([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Te(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return Ne(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return Oe(this,e,t,n)}findIndex(e,t=-1){if(0==e)return Le(0,e);if(e==this.size)return Le(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=r+this.child(n).nodeSize;if(i>=e)return i==e||t>0?Le(n+1,i):Le(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return Te.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Te(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Te.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new Te(t||e,n)}static from(e){if(!e)return Te.empty;if(e instanceof Te)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Te([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Te.empty=new Te([],0);const Ie={index:0,offset:0};function Le(e,t){return Ie.index=e,Ie.offset=t,Ie}function je(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!je(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!je(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class Re{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&je(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return Re.none;if(e instanceof Re)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}Re.none=[];class Fe extends Error{}class ze{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=Be(this.content,e+this.openStart,t);return n&&new ze(n,this.openStart,this.openEnd)}removeBetween(e,t){return new ze(Pe(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ze.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new ze(Te.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new ze(e,n,r)}}function Pe(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(Pe(o.content,t-i-1,n-i-1)))}function Be(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=Be(s.content,t-o-1,n);return a&&e.replaceChild(i,s.copy(a))}function Ue(e,t,n){if(n.openStart>e.depth)throw new Fe("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Fe("Inconsistent open depths");return He(e,t,n,0)}function He(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=He(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:i,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(Te.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return Ke(o,Ge(e,i,s,t,r))}{let r=e.parent,i=r.content;return Ke(r,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}}return Ke(o,Ye(e,t,r))}function $e(e,t){if(!t.type.compatibleContent(e.type))throw new Fe("Cannot join "+t.type.name+" onto "+e.type.name)}function Ve(e,t,n){let r=e.node(n);return $e(r,t.node(n)),r}function We(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function qe(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(We(e.nodeAfter,r),o++));for(let e=o;e<s;e++)We(i.child(e),r);t&&t.depth==n&&t.textOffset&&We(t.nodeBefore,r)}function Ke(e,t){if(!e.type.validContent(t))throw new Fe("Invalid content for node "+e.type.name);return e.copy(t)}function Ge(e,t,n,r,i){let o=e.depth>i&&Ve(e,t,i+1),s=r.depth>i&&Ve(n,r,i+1),a=[];return qe(null,e,i,a),o&&s&&t.index(i)==n.index(i)?($e(o,s),We(Ke(o,Ge(e,t,n,r,i+1)),a)):(o&&We(Ke(o,Ye(e,t,i+1)),a),qe(t,n,i,a),s&&We(Ke(s,Ye(n,r,i+1)),a)),qe(r,null,i,a),new Te(a)}function Ye(e,t,n){let r=[];if(qe(null,e,n,r),e.depth>n){We(Ke(Ve(e,t,n+1),Ye(e,t,n+1)),r)}return qe(t,null,n,r),new Te(r)}ze.empty=new ze(Te.empty,0,0);class Qe{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Re.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new et(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let t=e;;){let{index:e,offset:o}=t.content.findIndex(i),s=i-o;if(n.push(t,e,r+o),!s)break;if(t=t.child(e),t.isText)break;i=s-1,r+=o+1}return new Qe(t,n,i)}static resolveCached(e,t){for(let n=0;n<Je.length;n++){let r=Je[n];if(r.pos==t&&r.doc==e)return r}let n=Je[Ze]=Qe.resolve(e,t);return Ze=(Ze+1)%Xe,n}}let Je=[],Ze=0,Xe=12;class et{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const tt=Object.create(null);class nt{constructor(e,t,n,r=Re.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||Te.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&je(this.attrs,t||e.defaultAttrs||tt)&&Re.sameSet(this.marks,n||Re.none)}copy(e=null){return e==this.content?this:new nt(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new nt(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return ze.empty;let r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),s=r.start(o),a=r.node(o).content.cut(r.pos-s,i.pos-s);return new ze(a,r.depth-o,i.depth-o)}replace(e,t,n){return Ue(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return Qe.resolveCached(this,e)}resolveNoCache(e){return Qe.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),it(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=Te.empty,r=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let e=r;e<i;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=Re.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Re.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=Te.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}nt.prototype.text=void 0;class rt extends nt{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):it(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new rt(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new rt(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function it(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ot{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new st(e,t);if(null==n.next)return ot.empty;let r=at(n);n.next&&n.err("Unexpected trailing text");let i=function(e){let t=Object.create(null);return n(ht(e,0));function n(r){let i=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<i.length;e++)i[e][0]==t&&(r=i[e][1]);ht(e,n).forEach((e=>{r||i.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let o=t[r.join(",")]=new ot(r.indexOf(e.length-1)>-1);for(let e=0;e<i.length;e++){let r=i[e][1].sort(pt);o.next.push({type:i[e][0],next:t[r.join(",")]||n(r)})}return o}}(function(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((e=>e.to=t))}function o(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(o(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),i(o(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return i(o(e.expr,t),s),i(o(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(o(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();i(o(e.expr,s),t),s=t}if(-1==e.max)i(o(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),i(o(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=o(e.exprs[r],t);if(r==e.exprs.length-1)return s;i(s,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function i(o,s){let a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return Te.from(s.map((e=>e.createAndFill())));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=i(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:o,next:s}=i.next[e];o.isLeaf||o.hasRequiredAttrs()||o.name in t||r.type&&!s.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r})).join("\n")}}ot.empty=new ot(!0);class st{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function at(e){let t=[];do{t.push(lt(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function lt(e){let t=[];do{t.push(ct(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function ct(e){let t=function(e){if(e.eat("(")){let t=at(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let e in n){let r=n[e];r.groups.indexOf(t)>-1&&i.push(r)}0==i.length&&e.err("No node type or group '"+t+"' found");return i}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=dt(e,t)}return t}function ut(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function dt(e,t){let n=ut(e),r=n;return e.eat(",")&&(r="}"!=e.next?ut(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function pt(e,t){return t-e}function ht(e,t){let n=[];return function t(r){let i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(let e=0;e<i.length;e++){let{term:r,to:o}=i[e];r||-1!=n.indexOf(o)||t(o)}}(t),n.sort(pt)}function ft(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function mt(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=t.default}n[r]=i}return n}function gt(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new yt(e[n]);return t}class bt{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=gt(n.attrs),this.defaultAttrs=ft(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ot.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:mt(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new nt(this,this.computeAttrs(e),Te.from(t),Re.setFrom(n))}createChecked(e=null,t,n){if(t=Te.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new nt(this,this.computeAttrs(e),t,Re.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=Te.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(Te.empty,!0);return i?new nt(this,e,t.append(i),Re.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Re.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new bt(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class yt{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class vt{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=gt(r.attrs),this.excluded=null;let i=ft(this.attrs);this.instance=i?new Re(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Re(this,mt(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,i)=>n[e]=new vt(e,r++,t,i))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class wt{constructor(e){this.cached=Object.create(null),this.spec={nodes:Ae.from(e.nodes),marks:Ae.from(e.marks||{}),topNode:e.topNode},this.nodes=bt.compile(this.spec.nodes,this),this.marks=vt.compile(this.spec.marks,this);let t=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let n=this.nodes[e],r=n.spec.content||"",i=n.spec.marks;n.contentMatch=t[r]||(t[r]=ot.parse(r,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.markSet="_"==i?null:i?_t(this,i.split(" ")):""!=i&&n.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:_t(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof bt))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new rt(n,n.defaultAttrs,e,Re.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return nt.fromJSON(this,e)}markFromJSON(e){return Re.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function _t(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class xt{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new Ot(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Ot(this,t,!0);return n.addAll(e,t.from,t.to),ze.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(Tt(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(e)||r.context&&!n.matchesContext(r.context)||o.length>e.length&&(61!=o.charCodeAt(e.length)||o.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach((e=>{n(e=It(e)),e.mark=t}))}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach((e=>{n(e=It(e)),e.node=t}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new xt(e,xt.schemaRules(e)))}}const kt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Et={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Mt={ol:!0,ul:!0},Ct=1,Dt=2,St=4;function At(e,t,n){return null!=t?(t?Ct:0)|("full"===t?Dt:0):e&&"pre"==e.whitespace?Ct|Dt:n&~St}class Nt{constructor(e,t,n,r,i,o,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Re.none,this.stashMarks=[],this.match=o||(s&St?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Te.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ct)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=Te.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Te.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):Lt(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kt.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Ot{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,i=t.topNode,o=At(null,t.preserveWhitespace,0)|(n?St:0);r=i?new Nt(i.type,i.attrs,Re.none,Re.none,!0,t.topMatch||i.type.contentMatch,o):new Nt(n?null:e.schema.topNodeType,null,Re.none,Re.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&Dt||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&Ct)t=n.options&Dt?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();Mt.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&Mt.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(i?i.ignore:Et.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let t,n=this.top,o=this.needsBlock;if(kt.hasOwnProperty(r))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=o}else this.addElementByRule(e,i,!1===i.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=Re.none;e:for(let n=0;n<e.length;n+=2)for(let r;;){let i=this.parser.matchStyle(e[n],e[n+1],this,r);if(!i)continue e;if(i.ignore)return null;if(t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t),!1!==i.consuming)break;r=i}return t}addElementByRule(e,t,n){let r,i,o;if(t.node)i=this.parser.schema.nodes[t.node],i.isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):r=this.enter(i,t.attrs||null,t.preserveWhitespace);else{o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o)}let s=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(e,t,n){let r=t||0;for(let i=t?e.childNodes[t]:e.firstChild,o=null==n?null:e.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=At(e,r,i.options);i.options&St&&0==i.content.length&&(o|=St),this.nodes.push(new Nt(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=i;s--)if(o(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!e||e.name!=a&&-1==e.groups.indexOf(a))return!1;s--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function Tt(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function It(e){let t={};for(let n in e)t[n]=e[n];return t}function Lt(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}class jt{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Ft(t).createDocumentFragment());let r=n,i=[];return e.forEach((e=>{if(i.length||e.marks.length){let n=0,o=0;for(;n<i.length&&o<e.marks.length;){let t=e.marks[o];if(this.marks[t.type.name]){if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,o++}else o++}for(;n<i.length;)r=i.pop()[1];for(;o<e.marks.length;){let n=e.marks[o++],s=this.serializeMark(n,e.isInline,t);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=jt.renderSpec(Ft(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&jt.renderSpec(Ft(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,i=t[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let s=n?e.createElementNS(n,i):e.createElement(i),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(let e in a)if(null!=a[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),a[e]):s.setAttribute(e,a[e])}}for(let i=l;i<t.length;i++){let o=t[i];if(0===o){if(i<t.length-1||i>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:i}=jt.renderSpec(e,o,n);if(s.appendChild(t),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:s,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new jt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Rt(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return Rt(e.marks)}}function Rt(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Ft(e){return e.document||window.document}const zt=65535,Pt=Math.pow(2,16);function Bt(e,t){return e+t*Pt}function Ut(e){return e&zt}const Ht=1,$t=2,Vt=4,Wt=8;class qt{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Wt)>0}get deletedBefore(){return(this.delInfo&(Ht|Vt))>0}get deletedAfter(){return(this.delInfo&($t|Vt))>0}get deletedAcross(){return(this.delInfo&Vt)>0}}class Kt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Kt.empty)return Kt.empty}recover(e){let t=0,n=Ut(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(e&zt))/Pt}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;let l=this.ranges[s+i],c=this.ranges[s+o],u=a+l;if(e<=u){let i=a+r+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return i;let o=e==(t<0?a:u)?null:Bt(s/3,e-a),d=e==a?$t:e==u?Ht:Vt;return(t<0?e!=a:e!=u)&&(d|=Wt),new qt(i,d,o)}r+=c-l}return n?e+r:new qt(e+r,0,null)}touches(e,t){let n=0,r=Ut(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let s=this.ranges[t]-(this.inverted?n:0);if(s>e)break;let a=this.ranges[t+i];if(e<=s+a&&t==3*r)return!0;n+=this.ranges[t+o]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),i+=c-l}}invert(){return new Kt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Kt.empty:new Kt(e<0?[0,-e,0]:[0,0,e])}}Kt.empty=new Kt([]);class Gt{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new Gt(this.maps,this.mirror,e,t)}copy(){return new Gt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new Gt;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this.maps[n].mapResult(e,t);if(null!=i.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new qt(e,r,null)}}const Yt=Object.create(null);class Qt{getMap(){return Kt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Yt[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Yt)throw new RangeError("Duplicate use of step JSON ID "+e);return Yt[e]=t,t.prototype.jsonID=e,t}}class Jt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Jt(e,null)}static fail(e){return new Jt(null,e)}static fromReplace(e,t,n,r){try{return Jt.ok(e.replace(t,n,r))}catch(e){if(e instanceof Fe)return Jt.fail(e.message);throw e}}}function Zt(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(Zt(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Te.fromArray(r)}class Xt extends Qt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),i=new ze(Zt(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),r),t.openStart,t.openEnd);return Jt.fromReplace(e,this.from,this.to,i)}invert(){return new en(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Xt(t.pos,n.pos,this.mark)}merge(e){return e instanceof Xt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xt(t.from,t.to,e.markFromJSON(t.mark))}}Qt.jsonID("addMark",Xt);class en extends Qt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new ze(Zt(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return Jt.fromReplace(e,this.from,this.to,n)}invert(){return new Xt(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new en(t.pos,n.pos,this.mark)}merge(e){return e instanceof en&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new en(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new en(t.from,t.to,e.markFromJSON(t.mark))}}Qt.jsonID("removeMark",en);class tn extends Qt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Jt.fromReplace(e,this.pos,this.pos+1,new ze(Te.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new tn(this.pos,t.marks[n]);return new tn(this.pos,this.mark)}}return new nn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new tn(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new tn(t.pos,e.markFromJSON(t.mark))}}Qt.jsonID("addNodeMark",tn);class nn extends Qt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Jt.fromReplace(e,this.pos,this.pos+1,new ze(Te.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new tn(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new nn(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new nn(t.pos,e.markFromJSON(t.mark))}}Qt.jsonID("removeNodeMark",nn);class rn extends Qt{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&sn(e,this.from,this.to)?Jt.fail("Structure replace would overwrite content"):Jt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Kt([this.from,this.to-this.from,this.slice.size])}invert(e){return new rn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new rn(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof rn)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?ze.empty:new ze(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new rn(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?ze.empty:new ze(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new rn(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new rn(t.from,t.to,ze.fromJSON(e,t.slice),!!t.structure)}}Qt.jsonID("replace",rn);class on extends Qt{constructor(e,t,n,r,i,o,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=s}apply(e){if(this.structure&&(sn(e,this.from,this.gapFrom)||sn(e,this.gapTo,this.to)))return Jt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Jt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Jt.fromReplace(e,this.from,this.to,n):Jt.fail("Content does not fit in gap")}getMap(){return new Kt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new on(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new on(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new on(t.from,t.to,t.gapFrom,t.gapTo,ze.fromJSON(e,t.slice),t.insert,!!t.structure)}}function sn(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let e=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function an(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function ln(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),i=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,o,t))return n;if(0==n||r.type.spec.isolating||!an(r,i,o))break}return null}function cn(e,t,n=null,r=e){let i=function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}(e,t),o=i&&function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let e=r;a&&e<i;e++)a=a.matchType(n.child(e).type);return a&&a.validEnd?s:null}(r,t);return o?i.map(un).concat({type:t,attrs:n}).concat(o.map(un)):null}function un(e){return{type:e,attrs:null}}function dn(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let e=i.depth-1,t=n-2;e>o;e--,t--){let n=i.node(e),o=i.index(e);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(o,n.childCount),a=r&&r[t]||n;if(a!=n&&(s=s.replaceChild(0,a.type.create(a.attrs))),!n.canReplace(o+1,n.childCount)||!a.type.validContent(s))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function pn(e,t){let n=e.resolve(t),r=n.index();return function(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function hn(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let e=0;e<n.openStart;e++)i=i.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,o=r.index(t)+(n>0?1:0),s=r.node(t),a=!1;if(1==e)a=s.canReplace(o,o,i);else{let e=s.contentMatchAt(o).findWrapping(i.firstChild.type);a=e&&s.canReplaceWith(o,o,e[0])}if(a)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function fn(e,t,n=t,r=ze.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return mn(i,o,r)?new rn(t,n,r):new gn(i,o,r).fit()}function mn(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Qt.jsonID("replaceAround",on);class gn{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=Te.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=Te.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,o=n.depth,s=r.depth;for(;o&&s&&1==i.childCount;)i=i.firstChild.content,o--,s--;let a=new ze(i,o,s);return e>-1?new on(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new rn(n.pos,r.pos,a):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,r=null;t?(r=vn(this.unplaced.content,t-1).firstChild,n=r.content):n=this.unplaced.content;let i=n.firstChild;for(let n=this.depth;n>=0;n--){let o,{type:s,match:a}=this.frontier[n],l=null;if(1==e&&(i?a.matchType(i.type)||(l=a.fillBefore(Te.from(i),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:n,parent:r,inject:l};if(2==e&&i&&(o=a.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:n,parent:r,wrap:o};if(r&&a.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=vn(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new ze(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=vn(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new ze(bn(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new ze(bn(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let e=0;e<i.length;e++)this.openFrontierNode(i[e]);let o=this.unplaced,s=n?n.content:o.content,a=o.openStart-e,l=0,c=[],{match:u,type:d}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let p=s.size+e-(o.content.size-o.openEnd);for(;l<s.childCount;){let e=s.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==a||e.content.size)&&(u=t,c.push(wn(e.mark(d.allowedMarks(e.marks)),1==l?a:0,l==s.childCount?p:-1)))}let h=l==s.childCount;h||(p=-1),this.placed=yn(this.placed,t,Te.from(c)),this.frontier[t].match=u,h&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=s;e<p;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=h?0==e?ze.empty:new ze(bn(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new ze(bn(o.content,e,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!_n(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=_n(e,t,r,n,i);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=_n(e,n,r,t,!0);if(!i||i.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=yn(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=yn(this.placed,this.depth,Te.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Te.empty,!0);e.childCount&&(this.placed=yn(this.placed,this.frontier.length,e))}}function bn(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(bn(e.firstChild.content,t-1,n)))}function yn(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(yn(e.lastChild.content,t-1,n)))}function vn(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function wn(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,wn(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Te.empty,!0)))),e.copy(r)}function _n(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,o.content,s)?a:null}function xn(e){return e.spec.defining||e.spec.definingForContent}function kn(e,t,n,r,i){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(kn(i.content,t+1,n,r,i)))}if(t>r){let t=i.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(Te.empty,!0))}return e}function En(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let i=e.start(r);if(i<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(i==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==i-1)&&n.push(r)}return n}class Mn extends Qt{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jt.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Jt.fromReplace(e,this.pos,this.pos+1,new ze(Te.from(r),0,t.isLeaf?0:1))}getMap(){return Kt.empty}invert(e){return new Mn(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Mn(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Mn(t.pos,t.attr,t.value)}}Qt.jsonID("attr",Mn);let Cn=class extends Error{};Cn=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(Cn.prototype=Object.create(Error.prototype)).constructor=Cn,Cn.prototype.name="TransformError";class Dn{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Gt}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Cn(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=ze.empty){let r=fn(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new ze(Te.from(n),0,0))}delete(e,t){return this.replace(e,t,ze.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(mn(i,o,r))return e.step(new rn(t,n,r));let s=En(i,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let e=i.depth,t=i.pos-1;e>0;e--,t--){let n=i.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(e)>-1?a=e:i.before(e)==t&&s.splice(1,0,-e)}let l=s.indexOf(a),c=[],u=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==r.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=c[e].type,n=xn(t);if(n&&i.node(l).type!=t)u=e;else if(n||!t.isTextblock)break}for(let t=r.openStart;t>=0;t--){let a=(t+u+1)%(r.openStart+1),d=c[a];if(d)for(let t=0;t<s.length;t++){let c=s[(t+l)%s.length],u=!0;c<0&&(u=!1,c=-c);let p=i.node(c-1),h=i.index(c-1);if(p.canReplaceWith(h,h,d.type,d.marks))return e.replace(i.before(c),u?o.after(c):n,new ze(kn(r.content,0,r.openStart,a),a,r.openEnd))}}let d=e.steps.length;for(let a=s.length-1;a>=0&&(e.replace(t,n,r),!(e.steps.length>d));a--){let e=s[a];e<0||(t=i.before(e),n=o.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,r.type);null!=i&&(t=n=i)}e.replaceRange(t,n,new ze(Te.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=En(r,i);for(let t=0;t<o.length;t++){let n=o[t],s=t==o.length-1;if(s&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),i.end(n));if(n>0&&(s||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return e.delete(r.before(n),i.after(n))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=Te.empty,d=0;for(let e=o,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,u=Te.from(r.node(e).copy(u)),d++):l--;let p=Te.empty,h=0;for(let e=o,t=!1;e>n;e--)t||i.after(e+1)<i.end(e)?(t=!0,p=Te.from(i.node(e).copy(p)),h++):c++;e.step(new on(l,c,s,a,new ze(u.append(p),d,h),u.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=new rn(t-n,t+n,ze.empty,!0);e.step(r)}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=Te.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Te.from(n[e].type.create(n[e].attrs,r))}let i=t.start,o=t.end;e.step(new on(i,o,i,o,new ze(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(r,i)&&function(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(e.doc,e.mapping.slice(o).map(n),r)){e.clearIncompatible(e.mapping.slice(o).map(n,1),r);let s=e.mapping.slice(o),a=s.map(n,1),l=s.map(n+t.nodeSize,1);return e.step(new on(a,l,a+1,l-1,new ze(Te.from(r.create(i,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r=[]){return function(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new on(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new ze(Te.from(s),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new Mn(e,t,n)),this}addNodeMark(e,t){return this.step(new tn(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Re)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new nn(e,t)),this}split(e,t=1,n){return function(e,t,n=1,r){let i=e.doc.resolve(t),o=Te.empty,s=Te.empty;for(let e=i.depth,t=i.depth-n,a=n-1;e>t;e--,a--){o=Te.from(i.node(e).copy(o));let t=r&&r[a];s=Te.from(t?t.type.create(t.attrs,s):i.node(e).copy(s))}e.step(new rn(t,t,new ze(o.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let i,o,s=[],a=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),p=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(p)||(i&&i.to==c&&i.mark.eq(u[e])?i.to=d:s.push(i=new en(c,d,u[e])));o&&o.to==c?o.to=d:a.push(o=new Xt(c,d,r))}})),s.forEach((t=>e.step(t))),a.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;o++;let a=null;if(r instanceof vt){let t,n=e.marks;for(;t=r.isInSet(n);)(a||(a=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(a=[r]):a=e.marks;if(a&&a.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<i.length;e++){let t=i[e];t.step==o-1&&l.eq(i[e].style)&&(n=t)}n?(n.to=r,n.step=o):i.push({style:l,from:Math.max(s,t),to:r,step:o})}}})),i.forEach((t=>e.step(new en(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),o=[],s=t+1;for(let t=0;t<i.childCount;t++){let a=i.child(t),l=s+a.nodeSize,c=r.matchType(a.type);if(c){r=c;for(let t=0;t<a.marks.length;t++)n.allowsMarkType(a.marks[t].type)||e.step(new en(s,l,a.marks[t]))}else o.push(new rn(s,l,ze.empty));s=l}if(!r.validEnd){let t=r.fillBefore(Te.empty,!0);e.replace(s,s,new ze(t,0,0))}for(let t=o.length-1;t>=0;t--)e.step(o[t])}(this,e,t,n),this}}const Sn=Object.create(null);class An{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Nn(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ze.empty){let n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:l}=o[s],c=e.mapping.slice(i);e.replaceRange(c.map(a.pos),c.map(l.pos),s?ze.empty:t),0==s&&Bn(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=e.mapping.slice(n),l=a.map(o.pos),c=a.map(s.pos);i?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),Bn(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new In(e):Pn(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let i=t<0?Pn(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):Pn(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(i)return i}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Fn(e.node(0))}static atStart(e){return Pn(e,e,0,0,1)||new Fn(e)}static atEnd(e){return Pn(e,e,e.content.size,e.childCount,-1)||new Fn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Sn[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Sn)throw new RangeError("Duplicate use of selection JSON ID "+e);return Sn[e]=t,t.prototype.jsonID=e,t}getBookmark(){return In.between(this.$anchor,this.$head).getBookmark()}}An.prototype.visible=!0;class Nn{constructor(e,t){this.$from=e,this.$to=t}}let On=!1;function Tn(e){On||e.parent.inlineContent||(On=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class In extends An{constructor(e,t=e){Tn(e),Tn(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return An.near(n);let r=e.resolve(t.map(this.anchor));return new In(r.parent.inlineContent?r:n,n)}replace(e,t=ze.empty){if(super.replace(e,t),t==ze.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof In&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ln(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new In(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=An.findFrom(t,n,!0)||An.findFrom(t,-n,!0);if(!e)return An.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(An.findFrom(e,-n,!0)||An.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new In(e,t)}}An.jsonID("text",In);class Ln{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ln(e.map(this.anchor),e.map(this.head))}resolve(e){return In.between(e.resolve(this.anchor),e.resolve(this.head))}}class jn extends An{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?An.near(i):new jn(i)}content(){return new ze(Te.from(this.node),0,0)}eq(e){return e instanceof jn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Rn(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new jn(e.resolve(t.anchor))}static create(e,t){return new jn(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}jn.prototype.visible=!1,An.jsonID("node",jn);class Rn{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Ln(n,n):new Rn(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&jn.isSelectable(n)?new jn(t):An.near(t)}}class Fn extends An{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ze.empty){if(t==ze.empty){e.delete(0,e.doc.content.size);let t=An.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Fn(e)}map(e){return new Fn(e)}eq(e){return e instanceof Fn}getBookmark(){return zn}}An.jsonID("all",Fn);const zn={map(){return this},resolve:e=>new Fn(e)};function Pn(e,t,n,r,i,o=!1){if(t.inlineContent)return In.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let r=t.child(s);if(r.isAtom){if(!o&&jn.isSelectable(r))return jn.create(e,n-(i<0?r.nodeSize:0))}else{let t=Pn(e,r,n+i,i<0?r.childCount:0,i,o);if(t)return t}n+=r.nodeSize*i}return null}function Bn(e,t,n){let r=e.steps.length-1;if(r<t)return;let i,o=e.steps[r];(o instanceof rn||o instanceof on)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==i&&(i=r)})),e.setSelection(An.near(e.doc.resolve(i),n)))}const Un=1,Hn=2,$n=4;class Vn extends Dn{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Un)&~Hn,this.storedMarks=null,this}get selectionSet(){return(this.updated&Un)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Hn,this}ensureMarks(e){return Re.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Hn)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Hn,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Re.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(An.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=$n,this}get scrolledIntoView(){return(this.updated&$n)>0}}function Wn(e,t){return t&&e?e.bind(t):e}class qn{constructor(e,t,n){this.name=e,this.init=Wn(t.init,n),this.apply=Wn(t.apply,n)}}const Kn=[new qn("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new qn("selection",{init:(e,t)=>e.selection||An.atStart(t.doc),apply:e=>e.selection}),new qn("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new qn("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class Gn{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Kn.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new qn(e.key,e.spec.state,e))}))}}class Yn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let a=r?r[o].n:0,l=r?r[o].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Yn(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new Vn(this)}static create(e){let t=new Gn(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Yn(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new Gn(this.schema,e.plugins),n=t.fields,r=new Yn(t);for(let t=0;t<n.length;t++){let i=n[t].name;r[i]=this.hasOwnProperty(i)?this[i]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Gn(e.schema,e.plugins),i=new Yn(r);return r.fields.forEach((r=>{if("doc"==r.name)i.doc=nt.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=An.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let s=n[o],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(i[r.name]=a.fromJSON.call(s,e,t[o],i))}i[r.name]=r.init(e,i)}})),i}}function Qn(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=Qn(i,t,{})),n[r]=i}return n}class Jn{constructor(e){this.spec=e,this.props={},e.props&&Qn(e.props,this,this.props),this.key=e.key?e.key.key:Xn("plugin")}getState(e){return e[this.key]}}const Zn=Object.create(null);function Xn(e){return e in Zn?e+"$"+ ++Zn[e]:(Zn[e]=0,e+"$")}class er{constructor(e="key"){this.key=Xn(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const tr={BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",STRIKETHROUGH:"strike",LINK:"link",PARAGRAPH:"paragraph",H1:"h1",H2:"h2",H3:"h3",LIST_BULLETS:"bullet-list",LIST_ORDERED:"ordered-list",CODE:"code",CODE_BLOCK:"code-block",BLOCKQUOTE:"block-quote",ATTACHMENTS:"attachments",UNDO:"undo",REDO:"redo",HIGHLIGHT:"highlight",EMOJI:"emoji",IMAGE_UPLOAD:"image-upload",IMAGE_UPLOAD_UNSPLASH:"image-upload-unsplash",VIDEO_UPLOAD:"video-upload",DIVIDER:"divider",VIDEO_EMBED:"video-embed",PASTE_UNFORMATTED:"paste-unformatted",TABLE:"table"},nr="https://api.unsplash.com/search/photos",rr="/api/direct_uploads",ir=/[(http(s)?)://(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/,or=/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,sr=/((?:http|https):\/\/)?(www\.|player\.)?vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/([^/]*)\/videos\/|(?:manage\/)?videos?\/|)(\d+)(?:(?:\/|\?h=)(\w+))?(?:|\/\?)/,ar=/((?:http|https):\/\/)?(www\.)?loom\.com\/(share|embed)\/((?:\w|\d)*)\/?(?:\?(?:t=)?(\d+)?)?/,lr=new RegExp(a("source",[or,sr,ar]).join("|"),"g"),cr=[tr.BOLD,tr.ITALIC,tr.UNDERLINE,tr.STRIKETHROUGH,tr.LINK,tr.PARAGRAPH,tr.H1,tr.H2,tr.LIST_BULLETS,tr.LIST_ORDERED,tr.CODE],ur=12,dr=1,pr=21,hr=e=>{let{rows:t}=e;return`min-height: ${t*pr+2*(ur+dr)}px;`},fr=(t,n)=>{const r=[];t.split(/\n/).forEach((t=>{const i={type:"paragraph"};e(t)&&(i.content=[{type:"text",text:t}]);const o=nt.fromJSON(n.doc.type.schema,i);r.push(o)}));const i=Te.fromArray(r);return ze.maxOpen(i)},mr=()=>document.querySelector(".ne-media-uploader,.ne-embed-modal,.tippy-content");const gr=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],br=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],yr=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],vr=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],wr=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();var _r="[0-9](_*[0-9])*",xr=`\\.(${_r})`,kr="[0-9a-fA-F](_*[0-9a-fA-F])*",Er={className:"number",variants:[{begin:`(\\b(${_r})((${xr})|\\.)?|(${xr}))`+`[eE][+-]?(${_r})[fFdD]?\\b`},{begin:`\\b(${_r})((${xr})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${xr})[fFdD]?\\b`},{begin:`\\b(${_r})[fFdD]\\b`},{begin:`\\b0[xX]((${kr})\\.?|(${kr})?\\.(${kr}))`+`[pP][+-]?(${_r})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${kr})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Mr(e,t,n){return-1===n?"":e.replace(t,(r=>Mr(e,t,n-1)))}const Cr="[A-Za-z$_][0-9A-Za-z$_]*",Dr=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Sr=["true","false","null","undefined","NaN","Infinity"],Ar=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Nr=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Or=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Tr=["arguments","this","super","console","window","document","localStorage","module","global"],Ir=[].concat(Or,Ar,Nr);var Lr="[0-9](_*[0-9])*",jr=`\\.(${Lr})`,Rr="[0-9a-fA-F](_*[0-9a-fA-F])*",Fr={className:"number",variants:[{begin:`(\\b(${Lr})((${jr})|\\.)?|(${jr}))`+`[eE][+-]?(${Lr})[fFdD]?\\b`},{begin:`\\b(${Lr})((${jr})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${jr})[fFdD]?\\b`},{begin:`\\b(${Lr})[fFdD]\\b`},{begin:`\\b0[xX]((${Rr})\\.?|(${Rr})?\\.(${Rr}))`+`[pP][+-]?(${Lr})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Rr})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};const zr=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Pr=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Br=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Ur=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Hr=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),$r=Br.concat(Ur);const Vr=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Wr=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],qr=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Kr=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Gr=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function Yr(e){return e?"string"==typeof e?e:e.source:null}function Qr(e){return Jr("(?=",e,")")}function Jr(...e){const t=e.map((e=>Yr(e))).join("");return t}function Zr(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e),n="("+(t.capture?"":"?:")+e.map((e=>Yr(e))).join("|")+")";return n}const Xr=e=>Jr(/\b/,e,/\w$/.test(e)?/\b/:/\B/),ei=["Protocol","Type"].map(Xr),ti=["init","self"].map(Xr),ni=["Any","Self"],ri=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],ii=["false","nil","true"],oi=["assignment","associativity","higherThan","left","lowerThan","none","right"],si=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],ai=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],li=Zr(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),ci=Zr(li,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),ui=Jr(li,ci,"*"),di=Zr(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),pi=Zr(di,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),hi=Jr(di,pi,"*"),fi=Jr(/[A-Z]/,pi,"*"),mi=["autoclosure",Jr(/convention\(/,Zr("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Jr(/objc\(/,hi,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],gi=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];const bi="[A-Za-z$_][0-9A-Za-z$_]*",yi=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],vi=["true","false","null","undefined","NaN","Infinity"],wi=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],_i=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],xi=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],ki=["arguments","this","super","console","window","document","localStorage","module","global"],Ei=[].concat(xi,wi,_i);function Mi(e){const t=e.regex,n=bi,r="<>",i="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let i;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());(i=e.input.substring(n).match(/^\s+extends\s+/))&&0===i.index&&t.ignoreMatch()}},s={$pattern:bi,keyword:yi,literal:vi,built_in:Ei,"variable.language":ki},a="[0-9](_?[0-9])*",l=`\\.(${a})`,c=`0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`,u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))`+`[eE][+-]?(${a})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:`\\b(0|[1-9](_?[0-9])*)n\\b`},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},p={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},h={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},m={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},g=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,h,f,u];d.contains=g.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(g)});const b=[].concat(m,d.contains),y=b.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(b)}]),v={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:y},w={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...wi,..._i]}},x={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[v],illegal:/%/};const k={match:t.concat(/\b/,(E=[...xi,"super"],t.concat("(?!",E.join("|"),")")),n,t.lookahead(/\(/)),className:"title.function",relevance:0};var E;const M={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},C={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},v]},D="(\\("+"[^()]*(\\("+"[^()]*(\\("+"[^()]*"+"\\)[^()]*)*"+"\\)[^()]*)*"+"\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",S={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(D)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[v]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:y,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,h,f,m,u,_,{className:"attr",begin:n+t.lookahead(":"),relevance:0},S,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,e.REGEXP_MODE,{className:"function",begin:D,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:i},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},x,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\("+"[^()]*(\\("+"[^()]*(\\("+"[^()]*"+"\\)[^()]*)*"+"\\)[^()]*)*"+"\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[v,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},M,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[v]},k,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},w,C,{match:/\$[(.]/}]}}var Ci="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function Si(e){var t=e.default;if("function"==typeof t){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var Ai={exports:{}};function Ni(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];"object"!=typeof n||Object.isFrozen(n)||Ni(n)})),e}Ai.exports=Ni,Ai.exports.default=Ni;class Oi{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Ti(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Ii(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const Li="</span>",ji=e=>!!e.scope||e.sublanguage&&e.language;class Ri{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=Ti(e)}openNode(e){if(!ji(e))return;let t="";t=e.sublanguage?`language-${e.language}`:((e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix}),this.span(t)}closeNode(e){ji(e)&&(this.buffer+=Li)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Fi=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class zi{constructor(){this.rootNode=Fi(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=Fi({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{zi._collapse(e)})))}}class Pi extends zi{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.sublanguage=!0,n.language=t,this.add(n)}toHTML(){return new Ri(this,this.options).value()}finalize(){return!0}}function Bi(e){return e?"string"==typeof e?e:e.source:null}function Ui(e){return Vi("(?=",e,")")}function Hi(e){return Vi("(?:",e,")*")}function $i(e){return Vi("(?:",e,")?")}function Vi(...e){const t=e.map((e=>Bi(e))).join("");return t}function Wi(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e),n="("+(t.capture?"":"?:")+e.map((e=>Bi(e))).join("|")+")";return n}function qi(e){return new RegExp(e.toString()+"|").exec("").length-1}const Ki=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Gi(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=Bi(e),i="";for(;r.length>0;){const e=Ki.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i})).map((e=>`(${e})`)).join(t)}const Yi="[a-zA-Z]\\w*",Qi="[a-zA-Z_]\\w*",Ji="\\b\\d+(\\.\\d+)?",Zi="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Xi="\\b(0b[01]+)",eo={begin:"\\\\[\\s\\S]",relevance:0},to={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[eo]},no={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[eo]},ro=function(e,t,n={}){const r=Ii({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=Wi("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Vi(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},io=ro("//","$"),oo=ro("/\\*","\\*/"),so=ro("#","$"),ao={scope:"number",begin:Ji,relevance:0},lo={scope:"number",begin:Zi,relevance:0},co={scope:"number",begin:Xi,relevance:0},uo={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[eo,{begin:/\[/,end:/\]/,relevance:0,contains:[eo]}]}]},po={scope:"title",begin:Yi,relevance:0},ho={scope:"title",begin:Qi,relevance:0},fo={begin:"\\.\\s*"+Qi,relevance:0};var mo=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:Yi,UNDERSCORE_IDENT_RE:Qi,NUMBER_RE:Ji,C_NUMBER_RE:Zi,BINARY_NUMBER_RE:Xi,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Vi(t,/.*\b/,e.binary,/\b.*/)),Ii({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:eo,APOS_STRING_MODE:to,QUOTE_STRING_MODE:no,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:ro,C_LINE_COMMENT_MODE:io,C_BLOCK_COMMENT_MODE:oo,HASH_COMMENT_MODE:so,NUMBER_MODE:ao,C_NUMBER_MODE:lo,BINARY_NUMBER_MODE:co,REGEXP_MODE:uo,TITLE_MODE:po,UNDERSCORE_TITLE_MODE:ho,METHOD_GUARD:fo,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function go(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function bo(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function yo(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=go,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function vo(e,t){Array.isArray(e.illegal)&&(e.illegal=Wi(...e.illegal))}function wo(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function _o(e,t){void 0===e.relevance&&(e.relevance=1)}const xo=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=Vi(n.beforeMatch,Ui(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},ko=["of","and","for","in","not","or","if","then","parent","list","value"],Eo="keyword";function Mo(e,t,n=Eo){const r=Object.create(null);return"string"==typeof e?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach((function(n){Object.assign(r,Mo(e[n],t,n))})),r;function i(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,Co(n[0],n[1])]}))}}function Co(e,t){return t?Number(t):function(e){return ko.includes(e.toLowerCase())}(e)?0:1}const Do={},So=e=>{console.error(e)},Ao=(e,...t)=>{console.log(`WARN: ${e}`,...t)},No=(e,t)=>{Do[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Do[`${e}/${t}`]=!0)},Oo=new Error;function To(e,t,{key:n}){let r=0;const i=e[n],o={},s={};for(let e=1;e<=t.length;e++)s[e+r]=i[e],o[e+r]=!0,r+=qi(t[e-1]);e[n]=s,e[n]._emit=o,e[n]._multi=!0}function Io(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw So("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Oo;if("object"!=typeof e.beginScope||null===e.beginScope)throw So("beginScope must be object"),Oo;To(e,e.begin,{key:"beginScope"}),e.begin=Gi(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw So("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Oo;if("object"!=typeof e.endScope||null===e.endScope)throw So("endScope must be object"),Oo;To(e,e.end,{key:"endScope"}),e.end=Gi(e.end,{joinWith:""})}}(e)}function Lo(e){function t(t,n){return new RegExp(Bi(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=qi(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(Gi(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Ii(e.classNameAliases||{}),function n(i,o){const s=i;if(i.isCompiled)return s;[bo,wo,Io,xo].forEach((e=>e(i,o))),e.compilerExtensions.forEach((e=>e(i,o))),i.__beforeBegin=null,[yo,vo,_o].forEach((e=>e(i,o))),i.isCompiled=!0;let a=null;return"object"==typeof i.keywords&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),a=i.keywords.$pattern,delete i.keywords.$pattern),a=a||/\w+/,i.keywords&&(i.keywords=Mo(i.keywords,e.case_insensitive)),s.keywordPatternRe=t(a,!0),o&&(i.begin||(i.begin=/\B|\b/),s.beginRe=t(s.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(s.endRe=t(s.end)),s.terminatorEnd=Bi(s.end)||"",i.endsWithParent&&o.terminatorEnd&&(s.terminatorEnd+=(i.end?"|":"")+o.terminatorEnd)),i.illegal&&(s.illegalRe=t(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return Ii(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(jo(e))return Ii(e,{starts:e.starts?Ii(e.starts):null});if(Object.isFrozen(e))return Ii(e);return e}("self"===e?i:e)}))),i.contains.forEach((function(e){n(e,s)})),i.starts&&n(i.starts,o),s.matcher=function(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}function jo(e){return!!e&&(e.endsWithParent||jo(e.starts))}var Ro="11.6.0";class Fo extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const zo=Ti,Po=Ii,Bo=Symbol("nomatch"),Uo=7;var Ho=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Pi};function l(e){return a.noHighlightRe.test(e)}function c(e,t,n){let r="",i="";"object"==typeof t?(r=e,n=t.ignoreIllegals,i=t.language):(No("10.7.0","highlight(lang, code, ...args) has been deprecated."),No("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,r=t),void 0===n&&(n=!0);const o={code:r,language:i};y("before:highlight",o);const s=o.result?o.result:u(o.language,o.code,n);return s.code=o.code,y("after:highlight",s),s}function u(e,n,r,s){const l=Object.create(null);function c(){if(!E.keywords)return void C.addText(D);let e=0;E.keywordPatternRe.lastIndex=0;let t=E.keywordPatternRe.exec(D),n="";for(;t;){n+=D.substring(e,t.index);const i=_.case_insensitive?t[0].toLowerCase():t[0],o=(r=i,E.keywords[r]);if(o){const[e,r]=o;if(C.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=Uo&&(S+=r),e.startsWith("_"))n+=t[0];else{const n=_.classNameAliases[e]||e;C.addKeyword(t[0],n)}}else n+=t[0];e=E.keywordPatternRe.lastIndex,t=E.keywordPatternRe.exec(D)}var r;n+=D.substring(e),C.addText(n)}function p(){null!=E.subLanguage?function(){if(""===D)return;let e=null;if("string"==typeof E.subLanguage){if(!t[E.subLanguage])return void C.addText(D);e=u(E.subLanguage,D,!0,M[E.subLanguage]),M[E.subLanguage]=e._top}else e=d(D,E.subLanguage.length?E.subLanguage:null);E.relevance>0&&(S+=e.relevance),C.addSublanguage(e._emitter,e.language)}():c(),D=""}function h(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=_.classNameAliases[e[n]]||e[n],i=t[n];r?C.addKeyword(i,r):(D=i,c(),D=""),n++}}function f(e,t){return e.scope&&"string"==typeof e.scope&&C.openNode(_.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(C.addKeyword(D,_.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),D=""):e.beginScope._multi&&(h(e.beginScope,t),D="")),E=Object.create(e,{parent:{value:E}}),E}function g(e,t,n){let r=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(r){if(e["on:end"]){const n=new Oi(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return g(e.parent,t,n)}function b(e){return 0===E.matcher.regexIndex?(D+=e[0],1):(O=!0,0)}function y(e){const t=e[0],r=n.substring(e.index),i=g(E,e,r);if(!i)return Bo;const o=E;E.endScope&&E.endScope._wrap?(p(),C.addKeyword(t,E.endScope._wrap)):E.endScope&&E.endScope._multi?(p(),h(E.endScope,e)):o.skip?D+=t:(o.returnEnd||o.excludeEnd||(D+=t),p(),o.excludeEnd&&(D=t));do{E.scope&&C.closeNode(),E.skip||E.subLanguage||(S+=E.relevance),E=E.parent}while(E!==i.parent);return i.starts&&f(i.starts,e),o.returnEnd?0:t.length}let v={};function w(t,o){const s=o&&o[0];if(D+=t,null==s)return p(),0;if("begin"===v.type&&"end"===o.type&&v.index===o.index&&""===s){if(D+=n.slice(o.index,o.index+1),!i){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=v.rule,t}return 1}if(v=o,"begin"===o.type)return function(e){const t=e[0],n=e.rule,r=new Oi(n),i=[n.__beforeBegin,n["on:begin"]];for(const n of i)if(n&&(n(e,r),r.isMatchIgnored))return b(t);return n.skip?D+=t:(n.excludeBegin&&(D+=t),p(),n.returnBegin||n.excludeBegin||(D=t)),f(n,e),n.returnBegin?0:t.length}(o);if("illegal"===o.type&&!r){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(E.scope||"<unnamed>")+'"');throw e.mode=E,e}if("end"===o.type){const e=y(o);if(e!==Bo)return e}if("illegal"===o.type&&""===s)return 1;if(N>1e5&&N>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return D+=s,s.length}const _=m(e);if(!_)throw So(o.replace("{}",e)),new Error('Unknown language: "'+e+'"');const x=Lo(_);let k="",E=s||x;const M={},C=new a.__emitter(a);!function(){const e=[];for(let t=E;t!==_;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>C.openNode(e)))}();let D="",S=0,A=0,N=0,O=!1;try{for(E.matcher.considerAll();;){N++,O?O=!1:E.matcher.considerAll(),E.matcher.lastIndex=A;const e=E.matcher.exec(n);if(!e)break;const t=w(n.substring(A,e.index),e);A=e.index+t}return w(n.substring(A)),C.closeAllNodes(),C.finalize(),k=C.toHTML(),{language:e,value:k,relevance:S,illegal:!1,_emitter:C,_top:E}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:zo(n),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:A,context:n.slice(A-100,A+100),mode:t.mode,resultSoFar:k},_emitter:C};if(i)return{language:e,value:zo(n),illegal:!1,relevance:0,errorRaised:t,_emitter:C,_top:E};throw t}}function d(e,n){n=n||a.languages||Object.keys(t);const r=function(e){const t={value:zo(e),illegal:!1,relevance:0,_top:s,_emitter:new a.__emitter(a)};return t._emitter.addText(e),t}(e),i=n.filter(m).filter(b).map((t=>u(t,e,!1)));i.unshift(r);const o=i.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(m(e.language).supersetOf===t.language)return 1;if(m(t.language).supersetOf===e.language)return-1}return 0})),[l,c]=o,d=l;return d.secondBest=c,d}function p(e){let t=null;const r=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=a.languageDetectRe.exec(t);if(n){const t=m(n[1]);return t||(Ao(o.replace("{}",n[1])),Ao("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>l(e)||m(e)))}(e);if(l(r))return;if(y("before:highlightElement",{el:e,language:r}),e.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),a.throwUnescapedHTML)){throw new Fo("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const i=t.textContent,s=r?c(i,{language:r,ignoreIllegals:!0}):d(i);e.innerHTML=s.value,function(e,t,r){const i=t&&n[t]||r;e.classList.add("hljs"),e.classList.add(`language-${i}`)}(e,r,s.language),e.result={language:s.language,re:s.relevance,relevance:s.relevance},s.secondBest&&(e.secondBest={language:s.secondBest.language,relevance:s.secondBest.relevance}),y("after:highlightElement",{el:e,result:s,text:i})}let h=!1;function f(){if("loading"===document.readyState)return void(h=!0);document.querySelectorAll(a.cssSelector).forEach(p)}function m(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function g(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{n[e.toLowerCase()]=t}))}function b(e){const t=m(e);return t&&!t.disableAutodetect}function y(e,t){const n=e;r.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){h&&f()}),!1),Object.assign(e,{highlight:c,highlightAuto:d,highlightAll:f,highlightElement:p,highlightBlock:function(e){return No("10.7.0","highlightBlock will be removed entirely in v12.0"),No("10.7.0","Please use highlightElement now."),p(e)},configure:function(e){a=Po(a,e)},initHighlighting:()=>{f(),No("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){f(),No("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,r){let o=null;try{o=r(e)}catch(e){if(So("Language definition for '{}' could not be registered.".replace("{}",n)),!i)throw e;So(e),o=s}o.name||(o.name=n),t[n]=o,o.rawDefinition=r.bind(null,e),o.aliases&&g(o.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function(){return Object.keys(t)},getLanguage:m,registerAliases:g,autoDetection:b,inherit:Po,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),r.push(e)}}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=Ro,e.regex={concat:Vi,lookahead:Ui,either:Wi,optional:$i,anyNumberOfTimes:Hi};for(const e in mo)"object"==typeof mo[e]&&Ai.exports(mo[e]);return Object.assign(e,mo),e}({}),$o=Ho;Ho.HighlightJS=Ho,Ho.default=Ho;var Vo,Wo={exports:{}};Vo=Wo,function(){var e;function t(e){for(var t,n,r,i,o=1,s=[].slice.call(arguments),a=0,l=e.length,c="",u=!1,d=!1,p=function(){return s[o++]},h=function(){for(var n="";/\d/.test(e[a]);)n+=e[a++],t=e[a];return n.length>0?parseInt(n):null};a<l;++a)if(t=e[a],u)switch(u=!1,"."==t?(d=!1,t=e[++a]):"0"==t&&"."==e[a+1]?(d=!0,t=e[a+=2]):d=!0,i=h(),t){case"b":c+=parseInt(p(),10).toString(2);break;case"c":c+="string"==typeof(n=p())||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(p(),10);break;case"f":r=String(parseFloat(p()).toFixed(i||6)),c+=d?r:r.replace(/^0/,"");break;case"j":c+=JSON.stringify(p());break;case"o":c+="0"+parseInt(p(),10).toString(8);break;case"s":c+=p();break;case"x":c+="0x"+parseInt(p(),10).toString(16);break;case"X":c+="0x"+parseInt(p(),10).toString(16).toUpperCase();break;default:c+=t}else"%"===t?u=!0:c+=t;return c}(e=Vo.exports=t).format=t,e.vsprintf=function(e,n){return t.apply(null,[e].concat(n))},"undefined"!=typeof console&&"function"==typeof console.log&&(e.printf=function(){console.log(t.apply(null,arguments))})}();var qo=Wo.exports;const Ko=Object.assign(Go(Error),{eval:Go(EvalError),range:Go(RangeError),reference:Go(ReferenceError),syntax:Go(SyntaxError),type:Go(TypeError),uri:Go(URIError)});function Go(e){return t.displayName=e.displayName||e.name,t;function t(t,...n){const r=t?qo(t,...n):t;return new e(r)}}const Yo={}.hasOwnProperty,Qo="hljs-";function Jo(e,t,n={}){let r=n.prefix;if("string"!=typeof e)throw Ko("Expected `string` for name, got `%s`",e);if(!$o.getLanguage(e))throw Ko("Unknown language: `%s` is not registered",e);if("string"!=typeof t)throw Ko("Expected `string` for value, got `%s`",t);null==r&&(r=Qo),$o.configure({__emitter:Zo,classPrefix:r});const i=$o.highlight(t,{language:e,ignoreIllegals:!0});if($o.configure({}),i.errorRaised)throw i.errorRaised;return i._emitter.root.data.language=i.language,i._emitter.root.data.relevance=i.relevance,i._emitter.root}class Zo{constructor(e){this.options=e,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(e){if(""===e)return;const t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e})}addKeyword(e,t){this.openNode(t),this.addText(e),this.closeNode()}addSublanguage(e,t){const n=this.stack[this.stack.length-1],r=e.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:r}):n.children.push(...r)}openNode(e){const t=e.split(".").map(((e,t)=>t?e+"_".repeat(t):this.options.classPrefix+e)),n={type:"element",tagName:"span",properties:{className:t},children:[]};this.stack[this.stack.length-1].children.push(n),this.stack.push(n)}closeNode(){this.stack.pop()}closeAllNodes(){}finalize(){}toHTML(){return""}}const Xo={highlight:Jo,highlightAuto:function(e,t={}){const n=t.subset||$o.listLanguages();t.prefix;let r=-1,i={type:"root",data:{language:null,relevance:0},children:[]};if("string"!=typeof e)throw Ko("Expected `string` for value, got `%s`",e);for(;++r<n.length;){const o=n[r];if(!$o.getLanguage(o))continue;const s=Jo(o,e,t);s.data.relevance>i.data.relevance&&(i=s)}return i},registerLanguage:function(e,t){$o.registerLanguage(e,t)},registered:function(e){return Boolean($o.getLanguage(e))},listLanguages:function(){return $o.listLanguages()},registerAlias:function(e,t){if("string"==typeof e)$o.registerAliases(t,{languageName:e});else{let t;for(t in e)Yo.call(e,t)&&$o.registerAliases(e[t],{languageName:t})}}};Xo.registerLanguage("arduino",(function(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},a={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line "+"pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(a,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},d=t.optional(i)+e.IDENT_RE+"\\s*\\(",p={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},h={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},f=[h,c,s,n,e.C_BLOCK_COMMENT_MODE,l,a],m={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:p,contains:f.concat([{begin:/\(/,end:/\)/,keywords:p,contains:f.concat(["self"]),relevance:0}]),relevance:0},g={className:"function",begin:"("+o+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:p,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:p,relevance:0},{begin:d,returnBegin:!0,contains:[u],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[a,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:p,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,a,l,s,{begin:/\(/,end:/\)/,keywords:p,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,a,l,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:p,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(m,g,h,f,[c,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:p,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:p},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n})),Xo.registerLanguage("bash",(function(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,`(?![\\w\\d])(?![$])`)},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const a={begin:/\$\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},l=e.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),c={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","for","while","in","do","done","case","esac","function"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[l,e.SHEBANG(),c,a,e.HASH_COMMENT_MODE,o,{match:/(\/[a-z._-]+)+/},s,{className:"",begin:/\\"/},{className:"string",begin:/'/,end:/'/},n]}})),Xo.registerLanguage("c",(function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},a={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line "+"pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(a,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},d=t.optional(i)+e.IDENT_RE+"\\s*\\(",p={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream "+"auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set "+"unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos "+"asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp "+"fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper "+"isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow "+"printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp "+"strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan "+"vfprintf vprintf vsprintf endl initializer_list unique_ptr"},h=[c,s,n,e.C_BLOCK_COMMENT_MODE,l,a],f={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:p,contains:h.concat([{begin:/\(/,end:/\)/,keywords:p,contains:h.concat(["self"]),relevance:0}]),relevance:0},m={begin:"("+o+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:p,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:p,relevance:0},{begin:d,returnBegin:!0,contains:[e.inherit(u,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:p,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,a,l,s,{begin:/\(/,end:/\)/,keywords:p,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,a,l,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C",aliases:["h"],keywords:p,disableAutodetect:!0,illegal:"</",contains:[].concat(f,m,h,[c,{begin:e.IDENT_RE+"::",keywords:p},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:c,strings:a,keywords:p}}})),Xo.registerLanguage("cpp",(function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},a={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line "+"pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(a,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},d=t.optional(i)+e.IDENT_RE+"\\s*\\(",p={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},h={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},f=[h,c,s,n,e.C_BLOCK_COMMENT_MODE,l,a],m={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:p,contains:f.concat([{begin:/\(/,end:/\)/,keywords:p,contains:f.concat(["self"]),relevance:0}]),relevance:0},g={className:"function",begin:"("+o+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:p,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:p,relevance:0},{begin:d,returnBegin:!0,contains:[u],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[a,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:p,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,a,l,s,{begin:/\(/,end:/\)/,keywords:p,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,a,l,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:p,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(m,g,h,f,[c,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:p,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:p},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}})),Xo.registerLanguage("csharp",(function(e){const t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},o=e.inherit(i,{illegal:/\n/}),s={className:"subst",begin:/\{/,end:/\}/,keywords:t},a=e.inherit(s,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,a]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]},u=e.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]});s.contains=[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.C_BLOCK_COMMENT_MODE],a.contains=[u,l,o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const d={variants:[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},p={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},h=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",f={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},d,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,p,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,p,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+h+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,p],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[d,r,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},f]}})),Xo.registerLanguage("css",(function(e){const t=e.regex,n=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"("+"%|em|ex|ch|rem"+"|vw|vh|vmin|vmax"+"|cm|mm|in|pt|pc|px"+"|deg|grad|rad|turn"+"|s|ms"+"|Hz|kHz"+"|dpi|dpcm|dppx"+")?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}))(e),r=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+yr.join("|")+")"},{begin:":(:)?("+vr.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+wr.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...r,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...r,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:br.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...r,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+gr.join("|")+")\\b"}]}})),Xo.registerLanguage("diff",(function(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}})),Xo.registerLanguage("go",(function(e){const t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}})),Xo.registerLanguage("graphql",(function(e){const t=e.regex;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(/[_A-Za-z][_0-9A-Za-z]*/,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}})),Xo.registerLanguage("ini",(function(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},s={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[r,o,i,s,n,"self"],relevance:0},l=t.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:t.concat(l,"(\\s*\\.\\s*",l,")*",t.lookahead(/\s*=\s*[^#\s]/)),className:"attr",starts:{end:/$/,contains:[r,a,o,i,s,n]}}]}})),Xo.registerLanguage("java",(function(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+Mr("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},o={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},s={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[s,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Er,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Er,o]}})),Xo.registerLanguage("javascript",(function(e){const t=e.regex,n=Cr,r="<>",i="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let i;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());(i=e.input.substring(n).match(/^\s+extends\s+/))&&0===i.index&&t.ignoreMatch()}},s={$pattern:Cr,keyword:Dr,literal:Sr,built_in:Ir,"variable.language":Tr},a="[0-9](_?[0-9])*",l=`\\.(${a})`,c=`0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`,u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))`+`[eE][+-]?(${a})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:`\\b(0|[1-9](_?[0-9])*)n\\b`},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},p={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},h={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},m={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},g=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,h,f,u];d.contains=g.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(g)});const b=[].concat(m,d.contains),y=b.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(b)}]),v={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:y},w={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},_={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ar,...Nr]}},x={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[v],illegal:/%/},k={match:t.concat(/\b/,(E=[...Or,"super"],t.concat("(?!",E.join("|"),")")),n,t.lookahead(/\(/)),className:"title.function",relevance:0};var E;const M={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},C={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},v]},D="(\\("+"[^()]*(\\("+"[^()]*(\\("+"[^()]*"+"\\)[^()]*)*"+"\\)[^()]*)*"+"\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",S={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(D)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[v]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:y,CLASS_REFERENCE:_},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,h,f,m,u,_,{className:"attr",begin:n+t.lookahead(":"),relevance:0},S,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,e.REGEXP_MODE,{className:"function",begin:D,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:i},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},x,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\("+"[^()]*(\\("+"[^()]*(\\("+"[^()]*"+"\\)[^()]*)*"+"\\)[^()]*)*"+"\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[v,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},M,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[v]},k,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},w,C,{match:/\$[(.]/}]}})),Xo.registerLanguage("json",(function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}})),Xo.registerLanguage("kotlin",(function(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline "+"crossinline dynamic final enum if else do while for when throw try catch finally "+"import package is in fun override companion reified inline lateinit init "+"interface annotation data sealed internal infix operator out by constructor super "+"tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},r={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,r]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,i,r]}]};r.contains.push(o);const s={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},a={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},l=Fr,c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),u={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=u;return d.variants[1].contains=[u],u.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n,s,a,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[u,e.C_LINE_COMMENT_MODE,c],relevance:0},e.C_LINE_COMMENT_MODE,c,s,a,o,e.C_NUMBER_MODE]},c]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},s,a]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},l]}})),Xo.registerLanguage("less",(function(e){const t=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"("+"%|em|ex|ch|rem"+"|vw|vh|vmin|vmax"+"|cm|mm|in|pt|pc|px"+"|deg|grad|rad|turn"+"|s|ms"+"|Hz|kHz"+"|dpi|dpcm|dppx"+")?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}))(e),n=$r,r="[\\w-]+",i="("+r+"|@\\{"+r+"\\})",o=[],s=[],a=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},l=function(e,t,n){return{className:e,begin:t,relevance:n}},c={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Pr.join(" ")},u={begin:"\\(",end:"\\)",contains:s,keywords:c,relevance:0};s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,a("'"),a('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,u,l("variable","@@?"+r,10),l("variable","@\\{"+r+"\\}"),l("built_in","~?`[^`]*?`"),{className:"attribute",begin:r+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const d=s.concat({begin:/\{/,end:/\}/,contains:o}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(s)},h={begin:i+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Hr.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]},f={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:c,returnEnd:!0,contains:s,relevance:0}},m={className:"variable",variants:[{begin:"@"+r+"\\s*:",relevance:15},{begin:"@"+r}],starts:{end:"[;}]",returnEnd:!0,contains:d}},g={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:i,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,l("keyword","all\\b"),l("variable","@\\{"+r+"\\}"),{begin:"\\b("+zr.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,l("selector-tag",i,0),l("selector-id","#"+i),l("selector-class","\\."+i,0),l("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Br.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Ur.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},t.FUNCTION_DISPATCH]},b={begin:r+":(:)?"+`(${n.join("|")})`,returnBegin:!0,contains:[g]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,f,m,b,h,g,p,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:o}})),Xo.registerLanguage("lua",(function(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len "+"__gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert "+"collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring "+"module next pairs pcall print rawequal rawget rawset require select setfenv "+"setmetatable tonumber tostring type unpack xpcall arg self "+"coroutine resume yield status wrap create running debug getupvalue "+"debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv "+"io lines write close flush open output type read stderr stdin input stdout popen tmpfile "+"math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan "+"os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall "+"string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower "+"table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}})),Xo.registerLanguage("makefile",(function(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort "+"word wordlist firstword lastword dir notdir suffix basename "+"addsuffix addprefix join wildcard realpath abspath error warning "+"shell origin flavor foreach if or and call eval file value"},contains:[t]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif "+"include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,{className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o]}})),Xo.registerLanguage("markdown",(function(e){const t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},r={className:"strong",contains:[],variants:[{begin:/_{2}/,end:/_{2}/},{begin:/\*{2}/,end:/\*{2}/}]},i={className:"emphasis",contains:[],variants:[{begin:/\*(?!\*)/,end:/\*/},{begin:/_(?!_)/,end:/_/,relevance:0}]},o=e.inherit(r,{contains:[]}),s=e.inherit(i,{contains:[]});r.contains.push(s),i.contains.push(o);let a=[t,n];return[r,i,o,s].forEach((e=>{e.contains=e.contains.concat(a)})),a=a.concat(r,i),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:a},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:a}]}]},t,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},r,i,{className:"quote",begin:"^>\\s+",contains:a,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},n,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}})),Xo.registerLanguage("objectivec",(function(e){const t=/[a-zA-Z@][a-zA-Z0-9_]*/,n={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:{"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line "+"pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+n.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:n,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}})),Xo.registerLanguage("perl",(function(e){const t=e.regex,n=/[dualxmsipngr]{0,12}/,r={$pattern:/[\w.]+/,keyword:["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"].join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:r},o={begin:/->\{/,end:/\}/},s={variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,`(?![A-Za-z])(?![@$%])`)},{begin:/[$%@][^\s\w{]/,relevance:0}]},a=[e.BACKSLASH_ESCAPE,i,s],l=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=(e,r,i="\\1")=>{const o="\\1"===i?i:t.concat(i,r);return t.concat(t.concat("(?:",e,")"),r,/(?:\\.|[^\\\/])*?/,o,/(?:\\.|[^\\\/])*?/,i,n)},u=(e,r,i)=>t.concat(t.concat("(?:",e,")"),r,/(?:\\.|[^\\\/])*?/,i,n),d=[s,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:a,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:c("s|tr|y",t.either(...l,{capture:!0}))},{begin:c("s|tr|y","\\(","\\)")},{begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:u("(?:m|qr)?",/\//,/\//)},{begin:u("m|qr",t.either(...l,{capture:!0}),/\1/)},{begin:u("m|qr",/\(/,/\)/)},{begin:u("m|qr",/\[/,/\]/)},{begin:u("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=d,o.contains=d,{name:"Perl",aliases:["pl","pm"],keywords:r,contains:d}})),Xo.registerLanguage("php",(function(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o={scope:"variable",match:"\\$+"+r},s={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},a=e.inherit(e.APOS_STRING_MODE,{illegal:null}),l="[ \t\n]",c={scope:"string",variants:[e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(s)}),a,e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(s)})]},u={scope:"number",variants:[{begin:`\\b0[bB][01]+(?:_[01]+)*\\b`},{begin:`\\b0[oO][0-7]+(?:_[0-7]+)*\\b`},{begin:`\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b`},{begin:`(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?`}],relevance:0},d=["false","null","true"],p=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],h=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],f={keyword:p,literal:(e=>{const t=[];return e.forEach((e=>{t.push(e),e.toLowerCase()===e?t.push(e.toUpperCase()):t.push(e.toLowerCase())})),t})(d),built_in:h},m=e=>e.map((e=>e.replace(/\|\d+$/,""))),g={variants:[{match:[/new/,t.concat(l,"+"),t.concat("(?!",m(h).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},b=t.concat(r,"\\b(?!\\()"),y={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),b],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),b],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},v={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},w={relevance:0,begin:/\(/,end:/\)/,keywords:f,contains:[v,o,y,e.C_BLOCK_COMMENT_MODE,c,u,g]},_={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",m(p).join("\\b|"),"|",m(h).join("\\b|"),"\\b)"),r,t.concat(l,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[w]};w.contains.push(_);const x=[v,y,e.C_BLOCK_COMMENT_MODE,c,u,g];return{case_insensitive:!1,keywords:f,contains:[{begin:t.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:d,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:d,keyword:["new","array"]},contains:["self",...x]},...x,{scope:"meta",match:i}]},e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},o,_,y,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},g,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:f,contains:["self",o,y,e.C_BLOCK_COMMENT_MODE,c,u]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},c,u]}})),Xo.registerLanguage("php-template",(function(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}})),Xo.registerLanguage("plaintext",(function(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}})),Xo.registerLanguage("python",(function(e){const t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},s={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},a={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o,a,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o,a,s]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,a,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,a,s]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",u=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,d=`\\b|${r.join("|")}`,p={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${u}))[eE][+-]?(${c})[jJ]?(?=${d})`},{begin:`(${u})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${d})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${d})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${d})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${d})`},{begin:`\\b(${c})[jJ](?=${d})`}]},h={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},f={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",o,p,l,e.HASH_COMMENT_MODE]}]};return s.contains=[l,p,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|->|\?)|=>/,contains:[o,p,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},l,h,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[f]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[p,f,l]}]}})),Xo.registerLanguage("python-repl",(function(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}})),Xo.registerLanguage("r",(function(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 "+"NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F "+"abs acos acosh all any anyNA Arg as.call as.character "+"as.complex as.double as.environment as.integer as.logical "+"as.null.default as.numeric as.raw asin asinh atan atanh attr "+"attributes baseenv browser c call ceiling class Conj cos cosh "+"cospi cummax cummin cumprod cumsum digamma dim dimnames "+"emptyenv exp expression floor forceAndCall gamma gc.time "+"globalenv Im interactive invisible is.array is.atomic is.call "+"is.character is.complex is.double is.environment is.expression "+"is.finite is.function is.infinite is.integer is.language "+"is.list is.logical is.matrix is.na is.name is.nan is.null "+"is.numeric is.object is.pairlist is.raw is.recursive is.single "+"is.symbol lazyLoadDBfetch length lgamma list log max min "+"missing Mod names nargs nzchar oldClass on.exit pos.to.env "+"proc.time prod quote range Re rep retracemem return round "+"seq_along seq_len seq.int sign signif sin sinh sinpi sqrt "+"standardGeneric substitute sum switch tan tanh tanpi tracemem "+"trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[o,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}})),Xo.registerLanguage("ruby",(function(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__"],"variable.language":["self","super"],keyword:["alias","and","attr_accessor","attr_reader","attr_writer","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","include","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield"],built_in:["proc","lambda"],literal:["true","false","nil"]},s={className:"doctag",begin:"@[A-Za-z]+"},a={begin:"#<",end:">"},l=[e.COMMENT("#","$",{contains:[s]}),e.COMMENT("^=begin","^=end",{contains:[s],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],c={className:"subst",begin:/#\{/,end:/\}/,keywords:o},u={className:"string",contains:[e.BACKSLASH_ESCAPE,c],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,c]})]}]},d="[0-9](_?[0-9])*",p={className:"number",relevance:0,variants:[{begin:`\\b(${"[1-9](_?[0-9])*|0"})(\\.(${d}))?([eE][+-]?(${d})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},h={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},f=[u,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/class\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{relevance:0,match:[i,/\.new[ (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[h]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[u,{begin:n}],relevance:0},p,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])"+`(?![A-Za-z])(?![@$?'])`},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,c],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(a,l),relevance:0}].concat(a,l);c.contains=f,h.contains=f;const m=[{begin:/^\s*=>/,starts:{end:"$",contains:f}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:f}}];return l.unshift(a),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(m).concat(l).concat(f)}})),Xo.registerLanguage("rust",(function(e){const t=e.regex,n={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let\b)/,e.IDENT_RE,t.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",i=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],o=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:o,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:i},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:i,type:o}},{className:"punctuation",begin:"->"},n]}})),Xo.registerLanguage("scss",(function(e){const t=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"("+"%|em|ex|ch|rem"+"|vw|vh|vmin|vmax"+"|cm|mm|in|pt|pc|px"+"|deg|grad|rad|turn"+"|s|ms"+"|Hz|kHz"+"|dpi|dpcm|dppx"+")?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}))(e),n=Kr,r=qr,i="@[a-z-]+",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Vr.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Gr.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Wr.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}})),Xo.registerLanguage("shell",(function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}})),Xo.registerLanguage("sql",(function(e){const t=e.regex,n=e.COMMENT("--","$"),r=["true","false","unknown"],i=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],o=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],s=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],a=o,l=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((e=>!o.includes(e))),c={begin:t.concat(/\b/,t.either(...a),/\s*\(/),relevance:0,keywords:{built_in:a}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){const r=n;return t=t||[],e.map((e=>e.match(/\|\d+$/)||t.includes(e)?e:r(e)?`${e}|0`:e))}(l,{when:e=>e.length<3}),literal:r,type:i,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:t.either(...s),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:l.concat(s),literal:r,type:i}},{className:"type",begin:t.either("double precision","large object","with timezone","without timezone")},c,{className:"variable",begin:/@[a-z0-9]+/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}})),Xo.registerLanguage("swift",(function(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,Zr(...ei,...ti)],className:{2:"keyword"}},o={match:Jr(/\./,Zr(...ri)),relevance:0},s=ri.filter((e=>"string"==typeof e)).concat(["_|0"]),a={variants:[{className:"keyword",match:Zr(...ri.filter((e=>"string"!=typeof e)).concat(ni).map(Xr),...ti)}]},l={$pattern:Zr(/\b\w+/,/#\w+/),keyword:s.concat(si),literal:ii},c=[i,o,a],u=[{match:Jr(/\./,Zr(...ai)),relevance:0},{className:"built_in",match:Jr(/\b/,Zr(...ai),/(?=\()/)}],d={match:/->/,relevance:0},p=[d,{className:"operator",relevance:0,variants:[{match:ui},{match:`\\.(\\.|${ci})+`}]}],h="([0-9]_*)+",f="([0-9a-fA-F]_*)+",m={className:"number",relevance:0,variants:[{match:`\\b(${h})(\\.(${h}))?`+`([eE][+-]?(${h}))?\\b`},{match:`\\b0x(${f})(\\.(${f}))?`+`([pP][+-]?(${h}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},g=(e="")=>({className:"subst",variants:[{match:Jr(/\\/,e,/[0\\tnr"']/)},{match:Jr(/\\/,e,/u\{[0-9a-fA-F]{1,8}\}/)}]}),b=(e="")=>({className:"subst",match:Jr(/\\/,e,/[\t ]*(?:[\r\n]|\r\n)/)}),y=(e="")=>({className:"subst",label:"interpol",begin:Jr(/\\/,e,/\(/),end:/\)/}),v=(e="")=>({begin:Jr(e,/"""/),end:Jr(/"""/,e),contains:[g(e),b(e),y(e)]}),w=(e="")=>({begin:Jr(e,/"/),end:Jr(/"/,e),contains:[g(e),y(e)]}),_={className:"string",variants:[v(),v("#"),v("##"),v("###"),w(),w("#"),w("##"),w("###")]},x={match:Jr(/`/,hi,/`/)},k=[x,{className:"variable",match:/\$\d+/},{className:"variable",match:`\\$${pi}+`}],E=[{match:/(@|#(un)?)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:gi,contains:[...p,m,_]}]}},{className:"keyword",match:Jr(/@/,Zr(...mi))},{className:"meta",match:Jr(/@/,hi)}],M={match:Qr(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Jr(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,pi,"+")},{className:"type",match:fi,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Jr(/\s+&\s+/,Qr(fi)),relevance:0}]},C={begin:/</,end:/>/,keywords:l,contains:[...r,...c,...E,d,M]};M.contains.push(C);const D={begin:/\(/,end:/\)/,relevance:0,keywords:l,contains:["self",{match:Jr(hi,/\s*:/),keywords:"_|0",relevance:0},...r,...c,...u,...p,m,_,...k,...E,M]},S={begin:/</,end:/>/,contains:[...r,M]},A={begin:/\(/,end:/\)/,keywords:l,contains:[{begin:Zr(Qr(Jr(hi,/\s*:/)),Qr(Jr(hi,/\s+/,hi,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:hi}]},...r,...c,...p,m,_,...E,M,D],endsParent:!0,illegal:/["']/},N={match:[/func/,/\s+/,Zr(x.match,hi,ui)],className:{1:"keyword",3:"title.function"},contains:[S,A,t],illegal:[/\[/,/%/]},O={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[S,A,t],illegal:/\[|%/},T={match:[/operator/,/\s+/,ui],className:{1:"keyword",3:"title"}},I={begin:[/precedencegroup/,/\s+/,fi],className:{1:"keyword",3:"title"},contains:[M],keywords:[...oi,...ii],end:/}/};for(const e of _.variants){const t=e.contains.find((e=>"interpol"===e.label));t.keywords=l;const n=[...c,...u,...p,m,_,...k];t.contains=[...n,{begin:/\(/,end:/\)/,contains:["self",...n]}]}return{name:"Swift",keywords:l,contains:[...r,N,O,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:l,contains:[e.inherit(e.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...c]},T,I,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},...c,...u,...p,m,_,...k,...E,M,D]}})),Xo.registerLanguage("typescript",(function(e){const t=Mi(e),n=bi,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[t.exports.CLASS_REFERENCE]},s={$pattern:bi,keyword:yi.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),literal:vi,built_in:Ei.concat(r),"variable.language":ki},a={className:"meta",begin:"@"+n},l=(e,t,n)=>{const r=e.contains.findIndex((e=>e.label===t));if(-1===r)throw new Error("can not find mode to replace");e.contains.splice(r,1,n)};Object.assign(t.keywords,s),t.exports.PARAMS_CONTAINS.push(a),t.contains=t.contains.concat([a,i,o]),l(t,"shebang",e.SHEBANG()),l(t,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/});const c=t.contains.find((e=>"func.def"===e.label));return c.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx"]}),t})),Xo.registerLanguage("vbnet",(function(e){const t=e.regex,n=/\d{1,2}\/\d{1,2}\/\d{4}/,r=/\d{4}-\d{1,2}-\d{1,2}/,i=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,s={className:"literal",variants:[{begin:t.concat(/# */,t.either(r,n),/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,i,/ *#/)},{begin:t.concat(/# */,t.either(r,n),/ +/,t.either(i,o),/ *#/)}]},a=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),l=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval "+"call case catch class compare const continue custom declare default delegate dim distinct do "+"each equals else elseif end enum erase error event exit explicit finally for friend from function "+"get global goto group handles if implements imports in inherits interface into iterator "+"join key let lib loop me mid module mustinherit mustoverride mybase myclass "+"namespace narrowing new next notinheritable notoverridable "+"of off on operator option optional order overloads overridable overrides "+"paramarray partial preserve private property protected public "+"raiseevent readonly redim removehandler resume return "+"select set shadows shared skip static step stop structure strict sub synclock "+"take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor "+"cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[{className:"string",begin:/"(""|[^/n])"C\b/},{className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},s,{className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},{className:"label",begin:/^\w+:/},a,l,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[l]}]}})),Xo.registerLanguage("wasm",(function(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);return t.contains.push("self"),{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"]},contains:[e.COMMENT(/;;/,/$/),t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},{className:"variable",begin:/\$[\w_]+/},{match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},{begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},e.QUOTE_STRING_MODE,{match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},{className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/},{className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/}]}})),Xo.registerLanguage("xml",(function(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(i,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{className:"string"}),a=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,a,s,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,a,s]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[a]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}})),Xo.registerLanguage("yaml",(function(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},i=e.inherit(r,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),o={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},s={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},a={begin:/\{/,end:/\}/,contains:[s],illegal:"\\n",relevance:0},l={begin:"\\[",end:"\\]",contains:[s],illegal:"\\n",relevance:0},c=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},o,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},a,l,r],u=[...c];return u.pop(),u.push(i),s.contains=u,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:c}}));const es="neeto-editor-content",ts={ADD_TAGS:["iframe"],ADD_ATTR:["target","allow","allowfullscreen","frameborder"]},ns=/<pre><code>([\S\s]*?)<\/code><\/pre>/gim,rs=/<span data-variable="" [^>]*data-label="([^"]+)">{{([^}]+)}}<\/span>/g,is=e=>{if(e.tagName){const t=e.children?e.children.map(is):null;return c.createElement(e.tagName,e.properties,t)}return e.value},ss=(e,n)=>e.replace(rs,((e,r)=>{const i=r.split(".");if(i.length>1){const r=t({category_key:i[0]},n),o=t({key:i[1]},null==r?void 0:r.variables);return null!=o&&o.value?o.value:e}const o=t({key:i[0]},n);return null!=o&&o.value?o.value:e})),as=["img","iframe"],ls=8,cs=e=>_(e)||w(e),us=e=>{var t;if(cs(e))return!0;if(as.some((t=>e.includes(t))))return!1;const n=document.createElement("div");n.innerHTML=e;const r=cs(null===(t=n.textContent)||void 0===t?void 0:t.trim());return n.remove(),r};function ds(e){return ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(e)}function ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hs(e){var t=function(e,t){if("object"!==ds(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ds(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ds(t)?t:String(t)}function fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hs(r.key),r)}}function ms(e,t,n){return t&&fs(e.prototype,t),n&&fs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bs(e,t){return bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bs(e,t)}function ys(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bs(e,t)}function vs(e,t){if(t&&("object"===ds(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gs(e)}function ws(e){return ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ws(e)}function _s(e,t,n){return(t=hs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ks(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){_s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cs={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Ds=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ps(this,e),this.init(t,n)}return ms(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Cs,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Ms(Ms({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}()),Ss=function(){function e(){ps(this,e),this.observers={}}return ms(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function As(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Ns(e){return null==e?"":""+e}function Os(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function Ts(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var s=r(o.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function Is(e,t,n){var r=Ts(e,t,Object);r.obj[r.k]=n}function Ls(e,t){var n=Ts(e,t),r=n.obj,i=n.k;if(r)return r[i]}function js(e,t,n){var r=Ls(e,n);return void 0!==r?r:Ls(t,n)}function Rs(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Rs(e[r],t[r],n):e[r]=t[r]);return e}function Fs(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var zs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ps(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return zs[e]})):e}var Bs="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Us=[" ",",","?","!",";"];function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){_s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ws(e);if(t){var i=ws(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vs(this,n)}}function Ws(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var s=2,a=r.slice(o,o+s).join(n),l=i[a];void 0===l&&r.length>o+s;)s++,l=i[a=r.slice(o,o+s).join(n)];if(void 0===l)return;if(t.endsWith(a)){if("string"==typeof l)return l;if(a&&"string"==typeof l[a])return l[a]}var c=r.slice(o+s).join(n);return c?Ws(l,c,n):void 0}i=i[r[o]]}return i}}var qs=function(e){ys(n,Ss);var t=Vs(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return ps(this,n),r=t.call(this),Bs&&Ss.call(gs(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return ms(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."));var a=Ls(this.data,s);return a||!o||"string"!=typeof n?a:Ws(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(s=e.split("."))[1]),this.addNamespaces(t),Is(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var a=Ls(this.data,s)||{};r?Rs(a,n,i):a=$s($s({},a),n),Is(this.data,s,a),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?$s($s({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(),Ks={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function Gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(n),!0).forEach((function(t){_s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ws(e);if(t){var i=ws(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vs(this,n)}}var Js={},Zs=function(e){ys(n,Ss);var t=Qs(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ps(this,n),r=t.call(this),Bs&&Ss.call(gs(r)),Os(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,gs(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=Ds.create("translator"),r}return ms(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=Us.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o}(e,n,r));if(o&&!s){var a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==ds(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],t),l=a.key,c=a.namespaces,u=c[c.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var h=t.nsSeparator||this.options.nsSeparator;return o?(f.res="".concat(u).concat(h).concat(l),f):"".concat(u).concat(h).concat(l)}return o?(f.res=l,f):l}var f=this.resolve(e,t),m=f&&f.res,g=f&&f.usedKey||l,b=f&&f.exactUsedKey||l,y=Object.prototype.toString.apply(m),v=["[object Number]","[object Function]","[object RegExp]"],w=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,x="string"!=typeof m&&"boolean"!=typeof m&&"number"!=typeof m;if(_&&m&&x&&v.indexOf(y)<0&&("string"!=typeof w||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,Ys(Ys({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return o?(f.res=k,f):k}if(s){var E="[object Array]"===y,M=E?[]:{},C=E?b:g;for(var D in m)if(Object.prototype.hasOwnProperty.call(m,D)){var S="".concat(C).concat(s).concat(D);M[D]=this.translate(S,Ys(Ys({},t),{joinArrays:!1,ns:c})),M[D]===S&&(M[D]=m[D])}m=M}}else if(_&&"string"==typeof w&&"[object Array]"===y)(m=m.join(w))&&(m=this.extendTranslation(m,e,t,r));else{var A=!1,N=!1,O=void 0!==t.count&&"string"!=typeof t.count,T=n.hasDefaultValue(t),I=O?this.pluralResolver.getSuffix(d,t.count,t):"",L=t["defaultValue".concat(I)]||t.defaultValue;!this.isValidLookup(m)&&T&&(A=!0,m=L),this.isValidLookup(m)||(N=!0,m=l);var j=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,R=j&&N?void 0:m,F=T&&L!==m&&this.options.updateMissing;if(N||A||F){if(this.logger.log(F?"updateKey":"missingKey",d,u,l,F?L:m),s){var z=this.resolve(l,Ys(Ys({},t),{},{keySeparator:!1}));z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var P=[],B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&B&&B[0])for(var U=0;U<B.length;U++)P.push(B[U]);else"all"===this.options.saveMissingTo?P=this.languageUtils.toResolveHierarchy(t.lng||this.language):P.push(t.lng||this.language);var H=function(e,n,r){var o=T&&r!==m?r:R;i.options.missingKeyHandler?i.options.missingKeyHandler(e,u,n,o,F,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,u,n,o,F,t),i.emit("missingKey",e,u,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?P.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){H([e],l+n,t["defaultValue".concat(n)]||L)}))})):H(P,l,L))}m=this.extendTranslation(m,e,t,f,r),N&&m===l&&this.options.appendNamespaceToMissingKey&&(m="".concat(u,":").concat(l)),(N||A)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(l,A?m:void 0):this.options.parseMissingKeyHandler(m))}return o?(f.res=m,f):m}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Ys(Ys({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Ys(Ys({},n),{interpolation:Ys(Ys({},this.options.interpolation),n.interpolation)}));var s,a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){var l=e.match(this.interpolator.nestingRegexp);s=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=Ys(Ys({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),a){var u=e.match(this.interpolator.nestingRegexp);s<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=Ks.handle(p,e,t,this.options&&this.options.postProcessPassResolved?Ys({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var l=s.extractFromKey(e,a),c=l.key;n=c;var u=l.namespaces;s.options.fallbackNS&&(u=u.concat(s.options.fallbackNS));var d=void 0!==a.count&&"string"!=typeof a.count,p=d&&!a.ordinal&&0===a.count&&s.pluralResolver.shouldUseIntlApi(),h=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);u.forEach((function(e){s.isValidLookup(t)||(o=e,!Js["".concat(f[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&(Js["".concat(f[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!s.isValidLookup(t)){i=n;var o,l=[c];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(l,c,n,e,a);else{var u;d&&(u=s.pluralResolver.getSuffix(n,a.count,a));var f="_zero";if(d&&(l.push(c+u),p&&l.push(c+f)),h){var m="".concat(c).concat(s.options.contextSeparator).concat(a.context);l.push(m),d&&(l.push(m+u),p&&l.push(m+f))}}for(;o=l.pop();)s.isValidLookup(t)||(r=o,t=s.getResource(n,e,o,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}();function Xs(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ea=function(){function e(t){ps(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ds.create("languageUtils")}return ms(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Xs(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Xs(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Xs(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e["default"]||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e["default"]),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),ta=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],na={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},ra=["v1","v2","v3"],ia={zero:0,one:1,two:2,few:3,many:4,other:5};function oa(){var e={};return ta.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:na[t.fc]}}))})),e}var sa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ps(this,e),this.languageUtils=t,this.options=n,this.logger=Ds.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=oa()}return ms(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return ia[e]-ia[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!ra.includes(this.options.compatibilityJSON)}}]),e}();function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){_s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ca=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ps(this,e),this.logger=Ds.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return ms(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Ps,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Fs(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Fs(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Fs(t.nestingPrefix):t.nestingPrefixEscaped||Fs("$t("),this.nestingSuffix=t.nestingSuffix?Fs(t.nestingSuffix):t.nestingSuffixEscaped||Fs(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,s,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(a.formatSeparator)<0){var i=js(t,l,e);return a.alwaysFormat?a.format(i,void 0,n,la(la(la({},r),t),{},{interpolationkey:e})):i}var o=e.split(a.formatSeparator),s=o.shift().trim(),c=o.join(a.formatSeparator).trim();return a.format(js(t,l,s),c,n,la(la(la({},r),t),{},{interpolationkey:s}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?c(a.escape(e)):c(e)}}].forEach((function(t){for(s=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(o=u(n)))if("function"==typeof d){var l=d(e,i,r);o="string"==typeof l?l:""}else if(r&&r.hasOwnProperty(n))o="";else{if(p){o=i[0];continue}a.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=Ns(o));var c=t.safeValue(o);if(e=e.replace(i[0],c),p?(t.regex.lastIndex+=c.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=la({},o);function a(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,s)).replace(/'/g,'"');try{s=JSON.parse(i),t&&(s=la(la({},t),s))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((r=t(a.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=Ns(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=l.reduce((function(e,t){return i.format(e,t,o.lng,la(la({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){_s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ps(this,e),this.logger=Ds.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,da(da({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,da({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,da({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,da({},n)).format(e)}},this.init(t)}return ms(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var i=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=ks(e.split(":")),r=t[0],i=t.slice(1).join(":");n[r.trim()]||(n[r.trim()]=i.trim()),"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10))}}))}return{formatName:t,formatOptions:n}}(t),s=o.formatName,a=o.formatOptions;if(i.formats[s]){var l=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=c.locale||c.lng||r.locale||r.lng||n;l=i.formats[s](e,u,da(da(da({},a),r),c))}catch(e){i.logger.warn(e)}return l}return i.logger.warn("there was no format function for ".concat(s)),e}),e);return o}}]),e}();function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){_s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ws(e);if(t){var i=ws(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vs(this,n)}}var ga=function(e){ys(n,Ss);var t=ma(n);function n(e,r,i){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ps(this,n),o=t.call(this),Bs&&Ss.call(gs(o)),o.backend=e,o.store=r,o.services=i,o.languageUtils=i.languageUtils,o.options=s,o.logger=Ds.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,s.backend,s),o}return ms(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],s=[],a=[],l=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[a]=2:i.state[a]<0||(1===i.state[a]?s.indexOf(a)<0&&s.push(a):(i.state[a]=1,r=!1,s.indexOf(a)<0&&s.push(a),o.indexOf(a)<0&&o.push(a),l.indexOf(t)<0&&l.push(t)))})),r||a.push(e)})),(o.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:r}),{toLoad:o,pending:s,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){!function(e,t,n,r){var i=Ts(e,t,Object),o=i.obj,s=i.k;o[s]=o[s]||[],r&&(o[s]=o[s].concat(n)),r||o[s].push(n)}(n.loaded,[i],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,l){a&&l&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,s)}),o):s(a,l)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,s){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),s),t.loaded(e,r,s)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,fa(fa({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}();function ba(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===ds(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===ds(e[2])||"object"===ds(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ya(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){_s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ws(e);if(t){var i=ws(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vs(this,n)}}function xa(){}function ka(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var Ea=function(e){ys(n,Ss);var t=_a(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(ps(this,n),e=t.call(this),Bs&&Ss.call(gs(e)),e.options=ya(r),e.services={},e.logger=Ds,e.modules={external:[]},ka(gs(e)),i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,i),vs(e,gs(e));setTimeout((function(){e.init(r,i)}),0)}return e}return ms(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=ba();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=wa(wa(wa({},r),this.options),ya(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=wa(wa({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?Ds.init(i(this.modules.logger),this.options):Ds.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=pa);var s=new ea(this.options);this.store=new qs(this.options.resources,this.options);var a=this.services;a.logger=Ds,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new sa(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(a.formatter=i(o),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new ca(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new ga(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new Zs(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=xa),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=As(),p=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa,r=n,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)s(i);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=As();return e||(e=this.languages),t||(t=this.options.ns),n||(n=xa),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Ks.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=As();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var s="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||i(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==ds(i)){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([t,i].concat(a))}else o=wa({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var c=r.options.keySeparator||".",u=n?"".concat(n).concat(c).concat(t):t;return r.t(u,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(r,e)||i&&!s(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=As();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=As();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa,i=wa(wa(wa({},this.options),t),{isClone:!0}),o=new n(i),s=["store","services","language"];return s.forEach((function(t){o[t]=e[t]})),o.services=wa({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new Zs(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}();_s(Ea,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Ea(e,t)}));var Ma=Ea.createInstance();Ma.createInstance=Ea.createInstance,Ma.createInstance,Ma.init,Ma.loadResources,Ma.reloadResources,Ma.use,Ma.changeLanguage,Ma.getFixedT,Ma.t,Ma.exists,Ma.setDefaultNamespace,Ma.hasLoadedNamespace,Ma.loadNamespaces,Ma.loadLanguages;var Ca={common:{back:"back",cancel:"Cancel",caption:"Caption",embed:"Embed","save-changes":"Save changes",unlink:"Unlink","video-url":"Video URL:"},attachments:{"actions-blocked":"You are not permitted to update or delete attachments",add:"Add Attachment","delete-confirmation":"Are you sure you want to remove {{entity}}?","delete-title":"Remove Attachment?","max-files":"You can only attach {{entity}} files","name-empty":"Filename cannot be empty","one-attachment-allowed":"Only one attachment is allowed"},error:{"invalid-url":"Please enter a valid URL"},menu:{attachments:"Attachments","block-quote":"Block quote",bold:"Bold","bulleted-list":"Bulleted list",code:"Code","embed-video":"Embed video",emoji:"Emoji","font-size":"Font size",highlight:"Highlight","image-upload":"Image upload",italic:"Italic",link:"Link",mention:"Mention","ordered-list":"Ordered list",redo:"Redo",strike:"Strike",table:"Table",underline:"Underline",undo:"Undo",variables:"Variables","video-embed":"Video embed","video-upload":"Video upload"},placeholders:{url:"Paste URL"}};var Da=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function Sa(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Aa=0;function Na(e){return"__private_"+Aa+++"_"+e}const Oa=Da;function Ta(e,t,n){const r=[];return e.forEach((e=>"string"!=typeof e?r.push(e):t[Symbol.split](e).forEach(((e,t,i)=>{""!==e&&r.push(e),t<i.length-1&&r.push(n)})))),r}
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function Ia(e,t){const n=/\$/g,r="$$$$";let i=[e];if(null==t)return i;for(const e of Object.keys(t))if("_"!==e){let o=t[e];"string"==typeof o&&(o=n[Symbol.replace](o,r)),i=Ta(i,new RegExp(`%\\{${e}\\}`,"g"),o)}return i}var La=Na("apply");function ja(e){if(null==e||!e.strings)return;const t=this.locale;this.locale={...t,strings:{...t.strings,...e.strings}},this.locale.pluralize=e.pluralize||t.pluralize}var Ra=class{constructor(e){Object.defineProperty(this,La,{value:ja}),this.locale={strings:{},pluralize:e=>1===e?0:1},Array.isArray(e)?e.forEach(Sa(this,La)[La],this):Sa(this,La)[La](e)}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){if(!Oa(this.locale.strings,e))throw new Error(`missing string: ${e}`);const n=this.locale.strings[e];if("object"==typeof n){if(t&&void 0!==t.smart_count){return Ia(n[this.locale.pluralize(t.smart_count)],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return Ia(n,t)}};const Fa=Ra;var za=class{constructor(e,t){void 0===t&&(t={}),this.uppy=e,this.opts=t}getPluginState(){const{plugins:e}=this.uppy.getState();return e[this.id]||{}}setPluginState(e){const{plugins:t}=this.uppy.getState();this.uppy.setState({plugins:{...t,[this.id]:{...t[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(),this.i18nInit()}i18nInit(){const e=new Fa([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}};function Pa(e,t,n,r){let{onSuccess:i}=r;e.readEntries((r=>{const o=[...t,...r];r.length?queueMicrotask((()=>{Pa(e,o,n,{onSuccess:i})})):i(o)}),(e=>{n(e),i(t)}))}function Ba(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:()=>new Promise(((t,n)=>e.file(t,n))),async*values(){const n=e.createReader(),r=await new Promise((e=>{Pa(n,[],t,{onSuccess:n=>e(n.map((e=>Ba(e,t))))})}));yield*r}}}async function*Ua(e,t){if("file"===e.kind){const n=await e.getFile();null!==n&&(n.relativePath=t?`${t}/${e.name}`:null,yield n)}else if("directory"===e.kind)for await(const n of e.values())yield*Ua(n,`${t}/${e.name}`)}var Ha=Array.from;async function $a(e,t){let{logDropError:n=(()=>{})}=void 0===t?{}:t;try{const t=[];for await(const r of async function*(e,t){const n=await Promise.all(Array.from(e.items,(async e=>{var n;return{lastResortFile:e.getAsFile(),entry:null!=(n=await(null==e.getAsFileSystemHandle?void 0:e.getAsFileSystemHandle()))?n:Ba(e.webkitGetAsEntry(),t)}})));for(const{lastResortFile:e,entry:r}of n)if(null!=r)try{yield*Ua(r,"")}catch(n){e?yield e:t(n)}}(e,n))t.push(r);return t}catch{return function(e){const t=Ha(e.files);return Promise.resolve(t)}(e)}}function Va(e){var t,n;return null!=(t=null==(n=e.dataTransfer.types)?void 0:n.some((e=>"Files"===e)))&&t}class Wa extends za{constructor(e,t){super(e,t),this.addFiles=e=>{const t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}},this.handleDrop=async e=>{var t,n;if(!Va(e))return;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),e.currentTarget.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins((t=>{"acquirer"===t.type&&(null==t.handleRootDrop||t.handleRootDrop(e))}));let r=!1;const i=await $a(e.dataTransfer,{logDropError:e=>{this.uppy.log(e,"error"),r||(this.uppy.info(e.message,"error"),r=!0)}});i.length>0&&(this.uppy.log("[DropTarget] Files were dropped"),this.addFiles(i)),null==(t=(n=this.opts).onDrop)||t.call(n,e)},this.handleDragOver=e=>{var t,n;Va(e)&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),e.currentTarget.classList.add("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!0}),null==(t=(n=this.opts).onDragOver)||t.call(n,e))},this.handleDragLeave=e=>{var t,n;if(!Va(e))return;e.preventDefault(),e.stopPropagation();const{currentTarget:r}=e;clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{r.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=this.opts).onDragLeave)||t.call(n,e)},this.addListeners=()=>{const{target:e}=this.opts;if(e instanceof Element?this.nodes=[e]:"string"==typeof e&&(this.nodes=Ha(document.querySelectorAll(e))),!this.nodes&&!this.nodes.length>0)throw new Error(`"${e}" does not match any HTML elements`);this.nodes.forEach((e=>{e.addEventListener("dragover",this.handleDragOver,!1),e.addEventListener("dragleave",this.handleDragLeave,!1),e.addEventListener("drop",this.handleDrop,!1)}))},this.removeListeners=()=>{this.nodes&&this.nodes.forEach((e=>{e.removeEventListener("dragover",this.handleDragOver,!1),e.removeEventListener("dragleave",this.handleDragLeave,!1),e.removeEventListener("drop",this.handleDrop,!1)}))},this.type="acquirer",this.id=this.opts.id||"DropTarget",this.title="Drop Target";this.opts={target:null,...t},this.removeDragOverClassTimeout=null}install(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}uninstall(){this.removeListeners()}}Wa.VERSION="2.0.1";var qa={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var s=n.apply(null,i);s&&e.push(s)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(qa);var Ka=qa.exports,Ga={exports:{}},Ya={};function Qa(e){return e<10?`0${e}`:e.toString()}var Ja=function(){const e=new Date;return`${Qa(e.getHours())}:${Qa(e.getMinutes())}:${Qa(e.getSeconds())}`};Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.justErrorsLogger=Ya.debugLogger=void 0;const Za=Ja,Xa={debug:()=>{},warn:()=>{},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error(`[Uppy] [${Za()}]`,...t)}};Ya.justErrorsLogger=Xa;const el={debug:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.debug(`[Uppy] [${Za()}]`,...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.warn(`[Uppy] [${Za()}]`,...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error(`[Uppy] [${Za()}]`,...t)}};Ya.debugLogger=el;let tl="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var nl={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+=tl[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r}},rl={},il=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,r));var i=n[r];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+i:(t?"-":"")+e.toFixed(1)+" "+i};function ol(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}ol.prototype.match=function(e){var t,n,r=!0,i=this.parts,o=i.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;r&&t<o;t++)"*"!==i[t]&&(r=t<n.length&&i[t]===n[t]);r=r&&n}else r=!1;else if("function"==typeof e.splice)for(r=[],t=e.length;t--;)this.match(e[t])&&(r[r.length]=e[t]);else if("object"==typeof e)for(var s in r={},e)this.match(s)&&(r[s]=e[s]);return r};var sl=function(e,t,n){var r=new ol(e,n||/[\/\.]/);return void 0!==t?r.match(t):r},al=/[\/\+\.]/;Object.defineProperty(rl,"__esModule",{value:!0}),rl.defaultOptions=rl.RestrictionError=rl.Restricter=void 0;const ll=il,cl=function(e,t){function n(t){var n=sl(t,e,al);return n&&n.length>=2}return t?n(t.split(";")[0]):n};rl.defaultOptions={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class ul extends Error{constructor(){super(...arguments),this.isRestriction=!0}}rl.RestrictionError=ul,"undefined"==typeof AggregateError&&(globalThis.AggregateError=class extends Error{constructor(e,t){super(t),this.errors=e}});rl.Restricter=class{constructor(e,t){this.i18n=t,this.getOpts=()=>{const t=e();if(null!=t.restrictions.allowedFileTypes&&!Array.isArray(t.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return t}}validate(e,t){const{maxFileSize:n,minFileSize:r,maxTotalFileSize:i,maxNumberOfFiles:o,allowedFileTypes:s}=this.getOpts().restrictions;if(o&&t.length+1>o)throw new ul(`${this.i18n("youCanOnlyUploadX",{smart_count:o})}`);if(s){if(!s.some((t=>t.includes("/")?!!e.type&&cl(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()))){const e=s.join(", ");throw new ul(this.i18n("youCanOnlyUploadFileTypes",{types:e}))}}if(i&&null!=e.size){const n=t.reduce(((e,t)=>e+t.size),e.size);if(n>i)throw new ul(this.i18n("exceedsSize",{size:ll(i),file:e.name}))}if(n&&null!=e.size&&e.size>n)throw new ul(this.i18n("exceedsSize",{size:ll(n),file:e.name}));if(r&&null!=e.size&&e.size<r)throw new ul(this.i18n("inferiorSize",{size:ll(r)}))}validateMinNumberOfFiles(e){const{minNumberOfFiles:t}=this.getOpts().restrictions;if(Object.keys(e).length<t)throw new ul(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))}getMissingRequiredMetaFields(e){const t=new ul(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),{requiredMetaFields:n}=this.getOpts().restrictions,r=Object.prototype.hasOwnProperty,i=[];for(const t of n)r.call(e.meta,t)&&""!==e.meta[t]||i.push(t);return{missingFields:i,error:t}}};var dl="Expected a function",pl=0/0,hl="[object Symbol]",fl=/^\s+|\s+$/g,ml=/^[-+]0x[0-9a-f]+$/i,gl=/^0b[01]+$/i,bl=/^0o[0-7]+$/i,yl=parseInt,vl="object"==typeof Ci&&Ci&&Ci.Object===Object&&Ci,wl="object"==typeof self&&self&&self.Object===Object&&self,_l=vl||wl||Function("return this")(),xl=Object.prototype.toString,kl=Math.max,El=Math.min,Ml=function(){return _l.Date.now()};function Cl(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(dl);function h(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function f(e){return c=e,a=setTimeout(g,t),u?h(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function g(){var e=Ml();if(m(e))return b(e);a=setTimeout(g,function(e){var n=t-(e-l);return d?El(n,o-(e-c)):n}(e))}function b(e){return a=void 0,p&&r?h(e):(r=i=void 0,s)}function y(){var e=Ml(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return f(l);if(d)return a=setTimeout(g,t),h(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=Sl(t)||0,Dl(n)&&(u=!!n.leading,o=(d="maxWait"in n)?kl(Sl(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},y.flush=function(){return void 0===a?s:b(Ml())},y}function Dl(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Sl(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&xl.call(e)==hl}(e))return pl;if(Dl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Dl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(fl,"");var n=gl.test(e);return n||bl.test(e)?yl(e.slice(2),n?2:8):ml.test(e)?pl:+e}var Al=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(dl);return Dl(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Cl(e,t,{leading:r,maxWait:t,trailing:i})};var Nl=0;function Ol(e){return"__private_"+Nl+++"_"+e}var Tl=Ol("publish");class Il{constructor(){Object.defineProperty(this,Tl,{value:Ll}),this.state={},this.callbacks=[]}getState(){return this.state}setState(e){const t={...this.state},n={...this.state,...e};this.state=n,function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(this,Tl)[Tl](t,n,e)}subscribe(e){return this.callbacks.push(e),()=>{this.callbacks.splice(this.callbacks.indexOf(e),1)}}}function Ll(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.forEach((e=>{e(...t)}))}Il.VERSION="2.1.1";var jl=function(e){const t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}};const Rl=jl,Fl={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function zl(e){let t="";return e.replace(/[^A-Z0-9]/gi,(e=>(t+=`-${function(e){return e.charCodeAt(0).toString(32)}(e)}`,"/")))+t}var Pl=function(e){let t="uppy";return"string"==typeof e.name&&(t+=`-${zl(e.name.toLowerCase())}`),void 0!==e.type&&(t+=`-${e.type}`),e.meta&&"string"==typeof e.meta.relativePath&&(t+=`-${zl(e.meta.relativePath.toLowerCase())}`),void 0!==e.data.size&&(t+=`-${e.data.size}`),void 0!==e.data.lastModified&&(t+=`-${e.data.lastModified}`),t};var Bl=function(e){if(null==e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const n=t[1];let[r,i]=n.split(".");return r=parseInt(r,10),i=parseInt(i,10),r<15||15===r&&i<15063||(r>18||18===r&&i>=18218)};var Ul=nl,Hl=Ya,$l=rl;let Vl,Wl;function ql(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Kl=0;function Gl(e){return"__private_"+Kl+++"_"+e}const Yl=Ra,Ql=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,o,s,a){var l=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],o=Object.keys(t),s=0,a=o.length;for(;s<a;s++){var l=o[s];if("*"===l&&(n=n.concat(t[l])),2===i.length&&i[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,l,[n,r,i,o,s,a])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,o=r?r.length:0;i<o;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e},Jl=Al,Zl=function(){return new Il},Xl=function(e){var t;if(e.type)return e.type;const n=e.name?null==(t=Rl(e.name).extension)?void 0:t.toLowerCase():null;return n&&n in Fl?Fl[n]:"application/octet-stream"},ec=jl,tc=Pl,nc=Bl,rc=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"},ic={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};var oc=Gl("plugins"),sc=Gl("restricter"),ac=Gl("storeUnsubscribe"),lc=Gl("emitter"),cc=Gl("preProcessors"),uc=Gl("uploaders"),dc=Gl("postProcessors"),pc=Gl("informAndEmit"),hc=Gl("checkRequiredMetaFieldsOnFile"),fc=Gl("checkRequiredMetaFields"),mc=Gl("assertNewUploadAllowed"),gc=Gl("checkAndCreateFileStateObject"),bc=Gl("startIfAutoProceed"),yc=Gl("addListeners"),vc=Gl("updateOnlineStatus"),wc=Gl("createUpload"),_c=Gl("getUpload"),xc=Gl("removeUpload"),kc=Gl("runUpload");Vl=Symbol.for("uppy test: getPlugins"),Wl=Symbol.for("uppy test: createUpload");class Ec{constructor(e){Object.defineProperty(this,kc,{value:jc}),Object.defineProperty(this,xc,{value:Lc}),Object.defineProperty(this,_c,{value:Ic}),Object.defineProperty(this,wc,{value:Tc}),Object.defineProperty(this,yc,{value:Oc}),Object.defineProperty(this,bc,{value:Nc}),Object.defineProperty(this,gc,{value:Ac}),Object.defineProperty(this,mc,{value:Sc}),Object.defineProperty(this,fc,{value:Dc}),Object.defineProperty(this,hc,{value:Cc}),Object.defineProperty(this,pc,{value:Mc}),Object.defineProperty(this,oc,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,sc,{writable:!0,value:void 0}),Object.defineProperty(this,ac,{writable:!0,value:void 0}),Object.defineProperty(this,lc,{writable:!0,value:Ql()}),Object.defineProperty(this,cc,{writable:!0,value:new Set}),Object.defineProperty(this,uc,{writable:!0,value:new Set}),Object.defineProperty(this,dc,{writable:!0,value:new Set}),Object.defineProperty(this,vc,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=ic;const t={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:$l.defaultOptions,meta:{},onBeforeFileAdded:e=>e,onBeforeUpload:e=>e,store:Zl(),logger:Hl.justErrorsLogger,infoTimeout:5e3};this.opts={...t,...e,restrictions:{...t.restrictions,...e&&e.restrictions}},e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=Hl.debugLogger),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.calculateProgress=Jl(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:nc(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),ql(this,sc)[sc]=new $l.Restricter((()=>this.opts),this.i18n),ql(this,ac)[ac]=this.store.subscribe(((e,t,n)=>{this.emit("state-update",e,t,n),this.updateAll(t)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),ql(this,yc)[yc]()}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ql(this,lc)[lc].emit(e,...n)}on(e,t){return ql(this,lc)[lc].on(e,t),this}once(e,t){return ql(this,lc)[lc].once(e,t),this}off(e,t){return ql(this,lc)[lc].off(e,t),this}updateAll(e){this.iteratePlugins((t=>{t.update(e)}))}setState(e){this.store.setState(e)}getState(){return this.store.getState()}get state(){return this.getState()}setFileState(e,t){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.setState({files:{...this.getState().files,[e]:{...this.getState().files[e],...t}}})}i18nInit(){const e=new Yl([this.defaultLocale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e&&e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((e=>{e.setOptions()})),this.setState()}resetProgress(){const e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t={...this.getState().files},n={};Object.keys(t).forEach((r=>{const i={...t[r]};i.progress={...i.progress,...e},n[r]=i})),this.setState({files:n,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(e){ql(this,cc)[cc].add(e)}removePreProcessor(e){return ql(this,cc)[cc].delete(e)}addPostProcessor(e){ql(this,dc)[dc].add(e)}removePostProcessor(e){return ql(this,dc)[dc].delete(e)}addUploader(e){ql(this,uc)[uc].add(e)}removeUploader(e){return ql(this,uc)[uc].delete(e)}setMeta(e){const t={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach((t=>{n[t]={...n[t],meta:{...n[t].meta,...e}}})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})}setFileMeta(e,t){const n={...this.getState().files};if(!n[e])return void this.log("Was trying to set metadata for a file that has been removed: ",e);const r={...n[e].meta,...t};n[e]={...n[e],meta:r},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getObjectOfFilesPerState(){const{files:e,totalProgress:t,error:n}=this.getState(),r=Object.values(e),i=r.filter((e=>{let{progress:t}=e;return!t.uploadComplete&&t.uploadStarted})),o=r.filter((e=>!e.progress.uploadStarted)),s=r.filter((e=>e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess)),a=r.filter((e=>e.progress.uploadStarted)),l=r.filter((e=>e.isPaused)),c=r.filter((e=>e.progress.uploadComplete)),u=r.filter((e=>e.error)),d=i.filter((e=>!e.isPaused)),p=r.filter((e=>e.progress.preprocess||e.progress.postprocess));return{newFiles:o,startedFiles:s,uploadStartedFiles:a,pausedFiles:l,completeFiles:c,erroredFiles:u,inProgressFiles:i,inProgressNotPausedFiles:d,processingFiles:p,isUploadStarted:a.length>0,isAllComplete:100===t&&c.length===r.length&&0===p.length,isAllErrored:!!n&&u.length===r.length,isAllPaused:0!==i.length&&l.length===i.length,isUploadInProgress:i.length>0,isSomeGhost:r.some((e=>e.isGhost))}}validateRestrictions(e,t){void 0===t&&(t=this.getFiles());try{return ql(this,sc)[sc].validate(e,t),{result:!0}}catch(e){return{result:!1,reason:e.message}}}checkIfFileAlreadyExists(e){const{files:t}=this.getState();return!(!t[e]||t[e].isGhost)}addFile(e){ql(this,mc)[mc](e);const{files:t}=this.getState();let n=ql(this,gc)[gc](t,e);return t[n.id]&&t[n.id].isGhost&&(n={...t[n.id],data:e.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${n.name}, ${n.id}`)),this.setState({files:{...t,[n.id]:n}}),this.emit("file-added",n),this.emit("files-added",[n]),this.log(`Added file: ${n.name}, ${n.id}, mime type: ${n.type}`),ql(this,bc)[bc](),n.id}addFiles(e){ql(this,mc)[mc]();const t={...this.getState().files},n=[],r=[];for(let i=0;i<e.length;i++)try{let r=ql(this,gc)[gc](t,e[i]);t[r.id]&&t[r.id].isGhost&&(r={...t[r.id],data:e[i].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${r.name}, ${r.id}`)),t[r.id]=r,n.push(r)}catch(e){e.isRestriction||r.push(e)}if(this.setState({files:t}),n.forEach((e=>{this.emit("file-added",e)})),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.keys(n).forEach((e=>{this.log(`Added file: ${n[e].name}\n id: ${n[e].id}\n type: ${n[e].type}`)})),n.length>0&&ql(this,bc)[bc](),r.length>0){let e="Multiple errors occurred while adding files:\n";if(r.forEach((t=>{e+=`\n * ${t.message}`})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:r.length}),details:e},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(r,e);{const t=new Error(e);throw t.errors=r,t}}}removeFiles(e,t){const{files:n,currentUploads:r}=this.getState(),i={...n},o={...r},s=Object.create(null);function a(e){return void 0===s[e]}e.forEach((e=>{n[e]&&(s[e]=n[e],delete i[e])})),Object.keys(o).forEach((e=>{const t=r[e].fileIDs.filter(a);0!==t.length?o[e]={...r[e],fileIDs:t}:delete o[e]}));const l={currentUploads:o,files:i};0===Object.keys(i).length&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),this.calculateTotalProgress();const c=Object.keys(s);c.forEach((e=>{this.emit("file-removed",s[e],t)})),c.length>5?this.log(`Removed ${c.length} files`):this.log(`Removed files: ${c.join(", ")}`)}removeFile(e,t){void 0===t&&(t=null),this.removeFiles([e],t)}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).uploadComplete)return;const t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}pauseAll(){const e={...this.getState().files};Object.keys(e).filter((t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted)).forEach((t=>{const n={...e[t],isPaused:!0};e[t]=n})),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter((t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted)).forEach((t=>{const n={...e[t],isPaused:!1,error:null};e[t]=n})),this.setState({files:e}),this.emit("resume-all")}retryAll(){const e={...this.getState().files},t=Object.keys(e).filter((t=>e[t].error));if(t.forEach((t=>{const n={...e[t],isPaused:!1,error:null};e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});const n=ql(this,wc)[wc](t,{forceAllowNewUpload:!0});return ql(this,kc)[kc](n)}cancelAll(e){let{reason:t="user"}=void 0===e?{}:e;if(this.emit("cancel-all",{reason:t}),"user"===t){const{files:e}=this.getState(),t=Object.keys(e);t.length&&this.removeFiles(t,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);const t=ql(this,wc)[wc]([e],{forceAllowNewUpload:!0});return ql(this,kc)[kc](t)}reset(){this.cancelAll(...arguments)}logout(){this.iteratePlugins((e=>{e.provider&&e.provider.logout&&e.provider.logout()}))}calculateProgress(e,t){if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${null==e?void 0:e.id}`);const n=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:n?Math.round(t.bytesUploaded/t.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){const e=this.getFiles().filter((e=>e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});const t=e.filter((e=>null!=e.progress.bytesTotal)),n=e.filter((e=>null==e.progress.bytesTotal));if(0===t.length){const t=100*e.length,r=n.reduce(((e,t)=>e+t.progress.percentage),0),i=Math.round(r/t*100);return void this.setState({totalProgress:i})}let r=t.reduce(((e,t)=>e+t.progress.bytesTotal),0);const i=r/t.length;r+=i*n.length;let o=0;t.forEach((e=>{o+=e.progress.bytesUploaded})),n.forEach((e=>{o+=i*(e.progress.percentage||0)/100}));let s=0===r?0:Math.round(o/r*100);s>100&&(s=100),this.setState({totalProgress:s}),this.emit("progress",s)}updateOnlineStatus(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,t){if("function"!=typeof e){throw new TypeError(`Expected a plugin class, but got ${null===e?"null":typeof e}.`+" Please verify that the plugin was imported and spelled correctly.")}const n=new e(this,t),r=n.id;if(!r)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const i=this.getPlugin(r);if(i){const e=`Already found a plugin named '${i.id}'. `+`Tried to use: '${r}'.\n`+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(e)}return e.VERSION&&this.log(`Using ${r} v${e.VERSION}`),n.type in ql(this,oc)[oc]?ql(this,oc)[oc][n.type].push(n):ql(this,oc)[oc][n.type]=[n],n.install(),this}getPlugin(e){for(const t of Object.values(ql(this,oc)[oc])){const n=t.find((t=>t.id===e));if(null!=n)return n}}[Vl](e){return ql(this,oc)[oc][e]}iteratePlugins(e){Object.values(ql(this,oc)[oc]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const t=ql(this,oc)[oc][e.type],n=t.findIndex((t=>t.id===e.id));-1!==n&&t.splice(n,1);const r={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(r)}close(e){let{reason:t}=void 0===e?{}:e;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:t}),ql(this,ac)[ac](),this.iteratePlugins((e=>{this.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",ql(this,vc)[vc]),window.removeEventListener("offline",ql(this,vc)[vc]))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t,n){void 0===t&&(t="info"),void 0===n&&(n=3e3);const r="object"==typeof e;this.setState({info:[...this.getState().info,{type:t,message:r?e.message:e,details:r?e.details:null}]}),setTimeout((()=>this.hideInfo()),n),this.emit("info-visible")}log(e,t){const{logger:n}=this.opts;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?ql(this,kc)[kc](e):(ql(this,xc)[xc](e),Promise.reject(new Error("Nonexistent upload")))}[Wl](){return ql(this,wc)[wc](...arguments)}addResultData(e,t){if(!ql(this,_c)[_c](e))return void this.log(`Not setting result for an upload that has been removed: ${e}`);const{currentUploads:n}=this.getState(),r={...n[e],result:{...n[e].result,...t}};this.setState({currentUploads:{...n,[e]:r}})}upload(){var e;null!=(e=ql(this,oc)[oc].uploader)&&e.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();const n=this.opts.onBeforeUpload(t);return!1===n?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&"object"==typeof n&&(t=n,this.setState({files:t})),Promise.resolve().then((()=>ql(this,sc)[sc].validateMinNumberOfFiles(t))).catch((e=>{throw ql(this,pc)[pc](e),e})).then((()=>{if(!ql(this,fc)[fc](t))throw new $l.RestrictionError(this.i18n("missingRequiredMetaField"))})).catch((e=>{throw e})).then((()=>{const{currentUploads:e}=this.getState(),n=Object.values(e).flatMap((e=>e.fileIDs)),r=[];Object.keys(t).forEach((e=>{const t=this.getFile(e);t.progress.uploadStarted||-1!==n.indexOf(e)||r.push(t.id)}));const i=ql(this,wc)[wc](r);return ql(this,kc)[kc](i)})).catch((e=>{throw this.emit("error",e),this.log(e,"error"),e})))}}function Mc(e,t){const{message:n,details:r=""}=e;e.isRestriction?this.emit("restriction-failed",t,e):this.emit("error",e),this.info({message:n,details:r},"error",this.opts.infoTimeout),this.log(`${n} ${r}`.trim(),"error")}function Cc(e){const{missingFields:t,error:n}=ql(this,sc)[sc].getMissingRequiredMetaFields(e);return!(t.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:t}),this.log(n.message),this.emit("restriction-failed",e,n),!1)}function Dc(e){let t=!0;for(const n of Object.values(e))ql(this,hc)[hc](n)||(t=!1);return t}function Sc(e){const{allowNewUpload:t}=this.getState();if(!1===t){const t=new $l.RestrictionError(this.i18n("noMoreFilesAllowed"));throw ql(this,pc)[pc](t,e),t}}function Ac(e,t){const n=Xl(t),r=rc(n,t),i=ec(r).extension,o=Boolean(t.isRemote),s=tc({...t,type:n});if(this.checkIfFileAlreadyExists(s)){const e=new $l.RestrictionError(this.i18n("noDuplicates",{fileName:r}));throw ql(this,pc)[pc](e,t),e}const a=t.meta||{};a.name=r,a.type=n;const l=Number.isFinite(t.data.size)?t.data.size:null;let c={source:t.source||"",id:s,name:r,extension:i||"",meta:{...this.getState().meta,...a},type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:o,remote:t.remote||"",preview:t.preview};const u=this.opts.onBeforeFileAdded(c,e);if(!1===u){const e=new $l.RestrictionError("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",t,e),e}"object"==typeof u&&null!==u&&(c=u);try{const t=Object.keys(e).map((t=>e[t]));ql(this,sc)[sc].validate(c,t)}catch(e){throw ql(this,pc)[pc](e,c),e}return c}function Nc(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((()=>{this.scheduledAutoProceed=null,this.upload().catch((e=>{e.isRestriction||this.log(e.stack||e.message||e)}))}),4))}function Oc(){const e=(e,t,n)=>{let r=e.message||"Unknown error";e.details&&(r+=` ${e.details}`),this.setState({error:r}),null!=t&&t.id in this.getState().files&&this.setFileState(t.id,{error:r,response:n})};this.on("error",e),this.on("upload-error",((t,n,r)=>{if(e(n,t,r),"object"==typeof n&&n.message){const e=new Error(n.message);e.details=n.message,n.details&&(e.details+=` ${n.details}`),e.message=this.i18n("failedToUpload",{file:null==t?void 0:t.name}),ql(this,pc)[pc](e)}else ql(this,pc)[pc](n)})),this.on("upload",(()=>{this.setState({error:null})})),this.on("upload-started",(e=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}):this.log(`Not setting progress for a file that has been removed: ${null==e?void 0:e.id}`)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",((e,t)=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${null==e?void 0:e.id}`);const n=this.getFile(e.id).progress;this.setFileState(e.id,{progress:{...n,postprocess:ql(this,dc)[dc].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:n.bytesTotal},response:t,uploadURL:t.uploadURL,isPaused:!1}),null==e.size&&this.setFileState(e.id,{size:t.bytesUploaded||n.bytesTotal}),this.calculateTotalProgress()})),this.on("preprocess-progress",((e,t)=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,preprocess:t}}):this.log(`Not setting progress for a file that has been removed: ${null==e?void 0:e.id}`)})),this.on("preprocess-complete",(e=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${null==e?void 0:e.id}`);const t={...this.getState().files};t[e.id]={...t[e.id],progress:{...t[e.id].progress}},delete t[e.id].progress.preprocess,this.setState({files:t})})),this.on("postprocess-progress",((e,t)=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:{...this.getState().files[e.id].progress,postprocess:t}}):this.log(`Not setting progress for a file that has been removed: ${null==e?void 0:e.id}`)})),this.on("postprocess-complete",(e=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${null==e?void 0:e.id}`);const t={...this.getState().files};t[e.id]={...t[e.id],progress:{...t[e.id].progress}},delete t[e.id].progress.postprocess,this.setState({files:t})})),this.on("restored",(()=>{this.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(e=>{e&&ql(this,hc)[hc](e)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",ql(this,vc)[vc]),window.addEventListener("offline",ql(this,vc)[vc]),setTimeout(ql(this,vc)[vc],3e3))}function Tc(e,t){void 0===t&&(t={});const{forceAllowNewUpload:n=!1}=t,{allowNewUpload:r,currentUploads:i}=this.getState();if(!r&&!n)throw new Error("Cannot create a new upload: already uploading.");const o=(0,Ul.nanoid)();return this.emit("upload",{id:o,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:{...i,[o]:{fileIDs:e,step:0,result:{}}}}),o}function Ic(e){const{currentUploads:t}=this.getState();return t[e]}function Lc(e){const t={...this.getState().currentUploads};delete t[e],this.setState({currentUploads:t})}async function jc(e){let{currentUploads:t}=this.getState(),n=t[e];const r=n.step||0,i=[...ql(this,cc)[cc],...ql(this,uc)[uc],...ql(this,dc)[dc]];try{for(let o=r;o<i.length&&n;o++){const r=i[o],s={...n,step:o};this.setState({currentUploads:{...t,[e]:s}}),await r(s.fileIDs,e),t=this.getState().currentUploads,n=t[e]}}catch(t){throw ql(this,xc)[xc](e),t}if(n){n.fileIDs.forEach((e=>{const t=this.getFile(e);t&&t.progress.postprocess&&this.emit("postprocess-complete",t)}));const r=n.fileIDs.map((e=>this.getFile(e))),i=r.filter((e=>!e.error)),o=r.filter((e=>e.error));await this.addResultData(e,{successful:i,failed:o,uploadID:e}),t=this.getState().currentUploads,n=t[e]}let o;return n&&(o=n.result,this.emit("complete",o),ql(this,xc)[xc](e)),null==o&&this.log(`Not setting result for an upload that has been removed: ${e}`),o}Ec.VERSION="2.3.1";var Rc,Fc,zc,Pc,Bc,Uc,Hc,$c=Ec,Vc={},Wc={},qc=[],Kc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Gc(e,t){for(var n in t)e[n]=t[n];return e}function Yc(e){var t=e.parentNode;t&&t.removeChild(e)}function Qc(e,t,n){var r,i,o,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Rc.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return Jc(e,s,r,i,null)}function Jc(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++zc:i};return null==i&&null!=Fc.vnode&&Fc.vnode(o),o}function Zc(e){return e.children}function Xc(e,t){this.props=e,this.context=t}function eu(e,t){if(null==t)return e.__?eu(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?eu(e):null}function tu(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return tu(e)}}function nu(e){(!e.__d&&(e.__d=!0)&&Bc.push(e)&&!ru.__r++||Uc!==Fc.debounceRendering)&&((Uc=Fc.debounceRendering)||setTimeout)(ru)}function ru(){for(var e;ru.__r=Bc.length;)e=Bc.sort((function(e,t){return e.__v.__b-t.__v.__b})),Bc=[],e.some((function(e){var t,n,r,i,o,s;e.__d&&(o=(i=(t=e).__v).__e,(s=t.__P)&&(n=[],(r=Gc({},i)).__v=i.__v+1,du(s,i,r,t.__n,void 0!==s.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?eu(i):o,i.__h),pu(n,i),i.__e!=o&&tu(i)))}))}function iu(e,t,n,r,i,o,s,a,l,c){var u,d,p,h,f,m,g,b=r&&r.__k||qc,y=b.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(h=n.__k[u]=null==(h=t[u])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?Jc(null,h,null,null,h):Array.isArray(h)?Jc(Zc,{children:h},null,null,null):h.__b>0?Jc(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(p=b[u])||p&&h.key==p.key&&h.type===p.type)b[u]=void 0;else for(d=0;d<y;d++){if((p=b[d])&&h.key==p.key&&h.type===p.type){b[d]=void 0;break}p=null}du(e,h,p=p||Wc,i,o,s,a,l,c),f=h.__e,(d=h.ref)&&p.ref!=d&&(g||(g=[]),p.ref&&g.push(p.ref,null,h),g.push(d,h.__c||f,h)),null!=f?(null==m&&(m=f),"function"==typeof h.type&&h.__k===p.__k?h.__d=l=ou(h,l,e):l=su(e,h,p,b,f,l),"function"==typeof n.type&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=e&&(l=eu(p))}for(n.__e=m,u=y;u--;)null!=b[u]&&("function"==typeof n.type&&null!=b[u].__e&&b[u].__e==n.__d&&(n.__d=eu(r,u+1)),mu(b[u],b[u]));if(g)for(u=0;u<g.length;u++)fu(g[u],g[++u],g[++u])}function ou(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?ou(r,t,n):su(n,r,r,i,r.__e,t));return t}function su(e,t,n,r,i,o){var s,a,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<r.length;l+=2)if(a==i)break e;e.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function au(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||Kc.test(t)?n:n+"px"}function lu(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||au(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||au(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?uu:cu,o):e.removeEventListener(t,o?uu:cu,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function cu(e){this.l[e.type+!1](Fc.event?Fc.event(e):e)}function uu(e){this.l[e.type+!0](Fc.event?Fc.event(e):e)}function du(e,t,n,r,i,o,s,a,l){var c,u,d,p,h,f,m,g,b,y,v,w,_,x=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,a=t.__e=n.__e,t.__h=null,o=[a]),(c=Fc.__b)&&c(t);try{e:if("function"==typeof x){if(g=t.props,b=(c=x.contextType)&&r[c.__c],y=c?b?b.props.value:c.__:r,n.__c?m=(u=t.__c=n.__c).__=u.__E:("prototype"in x&&x.prototype.render?t.__c=u=new x(g,y):(t.__c=u=new Xc(g,y),u.constructor=x,u.render=gu),b&&b.sub(u),u.props=g,u.state||(u.state={}),u.context=y,u.__n=r,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=x.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=Gc({},u.__s)),Gc(u.__s,x.getDerivedStateFromProps(g,u.__s))),p=u.props,h=u.state,d)null==x.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==x.getDerivedStateFromProps&&g!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,y)||t.__v===n.__v){u.props=g,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&s.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,y),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(p,h,f)}))}if(u.context=y,u.props=g,u.__v=t,u.__P=e,v=Fc.__r,w=0,"prototype"in x&&x.prototype.render)u.state=u.__s,u.__d=!1,v&&v(t),c=u.render(u.props,u.state,u.context);else do{u.__d=!1,v&&v(t),c=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++w<25);u.state=u.__s,null!=u.getChildContext&&(r=Gc(Gc({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(p,h)),_=null!=c&&c.type===Zc&&null==c.key?c.props.children:c,iu(e,Array.isArray(_)?_:[_],t,n,r,i,o,s,a,l),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),m&&(u.__E=u.__=null),u.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=hu(n.__e,t,n,r,i,o,s,l);(c=Fc.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=o)&&(t.__e=a,t.__h=!!l,o[o.indexOf(a)]=null),Fc.__e(e,t,n)}}function pu(e,t){Fc.__c&&Fc.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Fc.__e(e,t.__v)}}))}function hu(e,t,n,r,i,o,s,a){var l,c,u,d=n.props,p=t.props,h=t.type,f=0;if("svg"===h&&(i=!0),null!=o)for(;f<o.length;f++)if((l=o[f])&&"setAttribute"in l==!!h&&(h?l.localName===h:3===l.nodeType)){e=l,o[f]=null;break}if(null==e){if(null===h)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,p.is&&p),o=null,a=!1}if(null===h)d===p||a&&e.data===p||(e.data=p);else{if(o=o&&Rc.call(e.childNodes),c=(d=n.props||Wc).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!a){if(null!=o)for(d={},f=0;f<e.attributes.length;f++)d[e.attributes[f].name]=e.attributes[f].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||lu(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||lu(e,o,t[o],n[o],r)}(e,p,d,i,a),u)t.__k=[];else if(f=t.props.children,iu(e,Array.isArray(f)?f:[f],t,n,r,i&&"foreignObject"!==h,o,s,o?o[0]:n.__k&&eu(n,0),a),null!=o)for(f=o.length;f--;)null!=o[f]&&Yc(o[f]);a||("value"in p&&void 0!==(f=p.value)&&(f!==e.value||"progress"===h&&!f||"option"===h&&f!==d.value)&&lu(e,"value",f,d.value,!1),"checked"in p&&void 0!==(f=p.checked)&&f!==e.checked&&lu(e,"checked",f,d.checked,!1))}return e}function fu(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Fc.__e(e,n)}}function mu(e,t,n){var r,i;if(Fc.unmount&&Fc.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||fu(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Fc.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&mu(r[i],t,"function"!=typeof e.type);n||null==e.__e||Yc(e.__e),e.__=e.__e=e.__d=void 0}function gu(e,t,n){return this.constructor(e,n)}function bu(e,t,n){var r,i,o;Fc.__&&Fc.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],du(t,e=(!r&&n||t).__k=Qc(Zc,null,[e]),i||Wc,Wc,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?Rc.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),pu(o,e)}Rc=qc.slice,Fc={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},zc=0,Pc=function(e){return null!=e&&void 0===e.constructor},Xc.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Gc({},this.state),"function"==typeof e&&(e=e(Gc({},n),this.props)),e&&Gc(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),nu(this))},Xc.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nu(this))},Xc.prototype.render=Zc,Bc=[],ru.__r=0,Hc=0,Vc.Component=Xc,Vc.Fragment=Zc,Vc.cloneElement=function(e,t,n){var r,i,o,s=Gc({},e.props);for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];return arguments.length>2&&(s.children=arguments.length>3?Rc.call(arguments,2):n),Jc(e.type,s,r||e.key,i||e.ref,null)},Vc.createContext=function(e,t){var n={__c:t="__cC"+Hc++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(nu)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},Vc.createElement=Qc,Vc.createRef=function(){return{current:null}},Vc.h=Qc,Vc.hydrate=function e(t,n){bu(t,n,e)},Vc.isValidElement=Pc,Vc.options=Fc,Vc.render=bu,Vc.toChildArray=function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){e(t,n)})):n.push(t)),n};var yu=function(e){return(null==e?void 0:e.nodeType)===Node.ELEMENT_NODE};const vu=yu;var wu=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir},_u=Vc;function xu(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ku=0;function Eu(e){return"__private_"+ku+++"_"+e}const Mu=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):vu(e)?e:null},Cu=wu,Du=za;var Su=Eu("updateUI");class Au extends Du{constructor(){super(...arguments),Object.defineProperty(this,Su,{writable:!0,value:void 0})}mount(e,t){const n=t.id,r=Mu(e);if(r){this.isTargetDOMEl=!0;const t=document.createElement("div");return t.classList.add("uppy-Root"),xu(this,Su)[Su]=function(e){let t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=i,t||(t=Promise.resolve().then((()=>(t=null,e(...n))))),t}}((e=>{this.uppy.getPlugin(this.id)&&((0,_u.render)(this.render(e),t),this.afterUpdate())})),this.uppy.log(`Installing ${n} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(r.innerHTML=""),(0,_u.render)(this.render(this.uppy.getState()),t),this.el=t,r.appendChild(t),t.dir=this.opts.direction||Cu(t)||"ltr",this.onMount(),this.el}let i;if("object"==typeof e&&e instanceof Au)i=e;else if("function"==typeof e){const t=e;this.uppy.iteratePlugins((e=>{e instanceof t&&(i=e)}))}if(i)return this.uppy.log(`Installing ${n} to ${i.id}`),this.parent=i,this.el=i.addTarget(t),this.onMount(),this.el;this.uppy.log(`Not installing ${n}`);let o=`Invalid target option given to ${n}.`;throw o+="function"==typeof e?" The given target is not a Plugin class. "+"Please check that you're not specifying a React Component instead of a plugin. "+"If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: "+"run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. "+"Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. "+"(see https://github.com/transloadit/uppy/issues/1042)\n\n"+"If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(o)}update(e){var t,n;null!=this.el&&(null==(t=(n=xu(this,Su))[Su])||t.call(n,e))}unmount(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}onMount(){}onUnmount(){}}var Nu=Au;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Uppy=t.UIPlugin=t.BasePlugin=void 0,Object.defineProperty(t,"debugLogger",{enumerable:!0,get:function(){return n.debugLogger}});var n=Ya;e.exports=$c;const r=Nu;t.UIPlugin=r;const i=za;t.BasePlugin=i;const o=$c;t.Uppy=o;const s=Nu,a=za;o.Uppy=o,o.UIPlugin=s,o.BasePlugin=a,o.debugLogger=n.debugLogger}(Ga,Ga.exports);var Ou=Di(Ga.exports),Tu={exports:{}},Iu={},Lu=Array.from,ju=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];var Ru=function(e,t){if(t){const n=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(n)return n}return e};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.forInline=function(e,t,n){null===t||Uu(e,t,n)},Iu.forModal=Uu;const Fu=Lu,zu=ju,Pu=Ru;function Bu(e,t){const n=t[0];n&&(n.focus(),e.preventDefault())}function Uu(e,t,n){const r=Pu(n,t),i=Fu(r.querySelectorAll(zu)),o=i.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(r)?Bu(e,i):e.shiftKey&&0===o?function(e,t){const n=t[t.length-1];n&&(n.focus(),e.preventDefault())}(e,i):e.shiftKey||o!==i.length-1||Bu(e,i)}var Hu={exports:{}};var $u=function(e){if(!e.bytesUploaded)return 0;const t=Date.now()-e.uploadStarted;return e.bytesUploaded/(t/1e3)};var Vu=function(e){return e.bytesTotal-e.bytesUploaded},Wu={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},qu={};const Ku=function(e){return{hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:Math.floor(e%60)}};var Gu=function(e){const t=Ku(e);return`${0===t.hours?"":`${t.hours}h`}${0===t.minutes?"":`${0===t.hours?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`}${0!==t.hours?"":`${0===t.minutes?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`}`};Object.defineProperty(qu,"__esModule",{value:!0}),qu.CancelBtn=function(e){const{i18n:t,uppy:n}=e;return(0,Yu.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},(0,Yu.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,Yu.h)("g",{fill:"none",fillRule:"evenodd"},(0,Yu.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,Yu.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},qu.DoneBtn=function(e){const{i18n:t,doneButtonHandler:n}=e;return(0,Yu.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))},qu.LoadingSpinner=nd,qu.PauseResumeButton=function(e){const{isAllPaused:t,i18n:n,isAllComplete:r,resumableUploads:i,uppy:o}=e,s=n(t?"resume":"pause");return(0,Yu.h)("button",{title:s,"aria-label":s,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){return r?null:i?t?o.resumeAll():o.pauseAll():o.cancelAll()},"data-uppy-super-focusable":!0},(0,Yu.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,Yu.h)("g",{fill:"none",fillRule:"evenodd"},(0,Yu.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,Yu.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))},qu.ProgressBarComplete=function(e){const{i18n:t}=e;return(0,Yu.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,Yu.h)("div",{className:"uppy-StatusBar-status"},(0,Yu.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,Yu.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,Yu.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))},qu.ProgressBarError=function(e){const{error:t,i18n:n,complete:r,numUploads:i}=e;return(0,Yu.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,Yu.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,Yu.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,Yu.h)("div",{className:"uppy-StatusBar-status"},(0,Yu.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,Yu.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){const e=`${n("uploadFailed")} \n\n ${t}`;alert(e)},type:"button"},"?")),(0,Yu.h)(id,{i18n:n,complete:r,numUploads:i})))},qu.ProgressBarProcessing=function(e){const{progress:t}=e,{value:n,mode:r,message:i}=t,o=Math.round(100*n),s=``;return(0,Yu.h)("div",{className:"uppy-StatusBar-content"},(0,Yu.h)(nd,null),"determinate"===r?`${o}% ${s} `:"",i)},qu.ProgressBarUploading=function(e){const{i18n:t,supportsUploadProgress:n,totalProgress:r,showProgressDetails:i,isUploadStarted:o,isAllComplete:s,isAllPaused:a,newFiles:l,numUploads:c,complete:u,totalUploadedSize:d,totalSize:p,totalETA:h,startUpload:f}=e,m=l&&o;if(!o||s)return null;const g=t(a?"paused":"uploading");return(0,Yu.h)("div",{className:"uppy-StatusBar-content","aria-label":g,title:g},a?null:(0,Yu.h)(nd,null),(0,Yu.h)("div",{className:"uppy-StatusBar-status"},(0,Yu.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?`${g}: ${r}%`:g),a||m||!i?null:n?(0,Yu.h)(sd,{numUploads:c,complete:u,totalUploadedSize:d,totalSize:p,totalETA:h,i18n:t}):(0,Yu.h)(id,{i18n:t,complete:u,numUploads:c}),m?(0,Yu.h)(od,{i18n:t,newFiles:l,startUpload:f}):null))},qu.ProgressDetails=rd,qu.RetryBtn=function(e){const{i18n:t,uppy:n}=e;return(0,Yu.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>n.retryAll(),"data-uppy-super-focusable":!0},(0,Yu.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,Yu.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))},qu.UploadBtn=function(e){const{newFiles:t,isUploadStarted:n,recoveredState:r,i18n:i,uploadState:o,isSomeGhost:s,startUpload:a}=e,l=Qu("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":o===Xu.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":s}),c=i(t&&n&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,Yu.h)("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:a,disabled:s,"data-uppy-super-focusable":!0},c)};var Yu=Vc;const Qu=qa.exports,Ju=il,Zu=Gu,Xu=Wu,ed=``,td=()=>` ${ed} `;function nd(){return(0,Yu.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,Yu.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function rd(e){const{numUploads:t,complete:n,totalUploadedSize:r,totalSize:i,totalETA:o,i18n:s}=e,a=t>1;return(0,Yu.h)("div",{className:"uppy-StatusBar-statusSecondary"},a&&s("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,Yu.h)("span",{className:"uppy-StatusBar-additionalInfo"},a&&td(),s("dataUploadedOfTotal",{complete:Ju(r),total:Ju(i)}),td(),s("xTimeLeft",{time:Zu(o)})))}function id(e){const{i18n:t,complete:n,numUploads:r}=e;return(0,Yu.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function od(e){const{i18n:t,newFiles:n,startUpload:r}=e,i=Qu("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,Yu.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,Yu.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,Yu.h)("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}const sd=Al(rd,500,{leading:!0,trailing:!0});var ad=Vc,ld=qu;const cd=qa.exports,ud=Wu,dd=function(e){const t=[];let n,r;for(const{progress:i}of Object.values(e)){const{preprocess:e,postprocess:o}=i;null==r&&(e||o)&&({mode:n,message:r}=e||o),"determinate"===(null==e?void 0:e.mode)&&t.push(e.value),"determinate"===(null==o?void 0:o.mode)&&t.push(o.value)}return{mode:n,message:r,value:t.reduce(((e,n)=>e+n/t.length),0)}},{STATE_ERROR:pd,STATE_WAITING:hd,STATE_PREPROCESSING:fd,STATE_UPLOADING:md,STATE_POSTPROCESSING:gd,STATE_COMPLETE:bd}=ud;var yd=function(e){const{newFiles:t,allowNewUpload:n,isUploadInProgress:r,isAllPaused:i,resumableUploads:o,error:s,hideUploadButton:a,hidePauseResumeButton:l,hideCancelButton:c,hideRetryButton:u,recoveredState:d,uploadState:p,totalProgress:h,files:f,supportsUploadProgress:m,hideAfterFinish:g,isSomeGhost:b,doneButtonHandler:y,isUploadStarted:v,i18n:w,startUpload:_,uppy:x,isAllComplete:k,showProgressDetails:E,numUploads:M,complete:C,totalSize:D,totalETA:S,totalUploadedSize:A}=e,N=function(){switch(p){case gd:case fd:{const e=dd(f);return"determinate"===e.mode?100*e.value:h}case pd:return null;case md:return m?h:null;default:return h}}(),O=function(){if(d)return!1;switch(p){case hd:return a||0===t;case bd:return g;default:return!1}}(),T=null!=N?N:100,I=!s&&t&&!r&&!i&&n&&!a,L=!c&&p!==hd&&p!==bd,j=o&&!l&&p===md,R=s&&!k&&!u,F=y&&p===bd,z=cd("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(p){case gd:case fd:{const{mode:e}=dd(f);return"indeterminate"===e}case md:return!m;default:return!1}}()}),P=cd("uppy-StatusBar",`is-${p}`,{"has-ghosts":b});return(0,ad.h)("div",{className:P,"aria-hidden":O},(0,ad.h)("div",{className:z,style:{width:`${T}%`},role:"progressbar","aria-label":`${T}%`,"aria-valuetext":`${T}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":N}),(()=>{switch(p){case fd:case gd:return(0,ad.h)(ld.ProgressBarProcessing,{progress:dd(f)});case bd:return(0,ad.h)(ld.ProgressBarComplete,{i18n:w});case pd:return(0,ad.h)(ld.ProgressBarError,{error:s,i18n:w,numUploads:M,complete:C});case md:return(0,ad.h)(ld.ProgressBarUploading,{i18n:w,supportsUploadProgress:m,totalProgress:h,showProgressDetails:E,isUploadStarted:v,isAllComplete:k,isAllPaused:i,newFiles:t,numUploads:M,complete:C,totalUploadedSize:A,totalSize:D,totalETA:S,startUpload:_});default:return null}})(),(0,ad.h)("div",{className:"uppy-StatusBar-actions"},d||I?(0,ad.h)(ld.UploadBtn,{newFiles:t,isUploadStarted:v,recoveredState:d,i18n:w,isSomeGhost:b,startUpload:_,uploadState:p}):null,R?(0,ad.h)(ld.RetryBtn,{i18n:w,uppy:x}):null,j?(0,ad.h)(ld.PauseResumeButton,{isAllPaused:i,i18n:w,isAllComplete:k,resumableUploads:o,uppy:x}):null,L?(0,ad.h)(ld.CancelBtn,{i18n:w,uppy:x}):null,F?(0,ad.h)(ld.DoneBtn,{i18n:w,doneButtonHandler:y}):null))},vd=Ga.exports;const wd=$u,_d=Vu,xd=wu,kd=Wu,Ed=yd,Md={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function Cd(e){const t=function(e){let t=0;return e.forEach((e=>{t+=wd(e.progress)})),t}(e);if(0===t)return 0;const n=e.reduce(((e,t)=>e+_d(t.progress)),0);return Math.round(n/t*10)/10}function Dd(e,t,n,r){if(e&&!t)return kd.STATE_ERROR;if(t)return kd.STATE_COMPLETE;if(n)return kd.STATE_WAITING;let i=kd.STATE_WAITING;const o=Object.keys(r);for(let e=0;e<o.length;e++){const{progress:t}=r[o[e]];if(t.uploadStarted&&!t.uploadComplete)return kd.STATE_UPLOADING;t.preprocess&&i!==kd.STATE_UPLOADING&&(i=kd.STATE_PREPROCESSING),t.postprocess&&i!==kd.STATE_UPLOADING&&i!==kd.STATE_PREPROCESSING&&(i=kd.STATE_POSTPROCESSING)}return i}class Sd extends vd.UIPlugin{constructor(e,t){super(e,t),this.startUpload=()=>{const{recoveredState:e}=this.uppy.getState();if(!e)return this.uppy.upload().catch((()=>{}));this.uppy.emit("restore-confirmed")},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Md;this.opts={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null,...t},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){const{capabilities:t,files:n,allowNewUpload:r,totalProgress:i,error:o,recoveredState:s}=e,{newFiles:a,startedFiles:l,completeFiles:c,inProgressNotPausedFiles:u,isUploadStarted:d,isAllComplete:p,isAllErrored:h,isAllPaused:f,isUploadInProgress:m,isSomeGhost:g}=this.uppy.getObjectOfFilesPerState(),b=s?Object.values(n):a,y=Cd(u),v=!!t.resumableUploads,w=!1!==t.uploadProgress;let _=0,x=0;return l.forEach((e=>{_+=e.progress.bytesTotal||0,x+=e.progress.bytesUploaded||0})),Ed({error:o,uploadState:Dd(o,p,s,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:_,totalUploadedSize:x,isAllComplete:!1,isAllPaused:f,isAllErrored:h,isUploadStarted:d,isUploadInProgress:m,isSomeGhost:g,recoveredState:s,complete:c.length,newFiles:b.length,numUploads:l.length,totalETA:y,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:v,supportsUploadProgress:w,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const e=this.el;xd(e)||(e.dir="ltr")}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}Sd.VERSION="2.2.2",Hu.exports=Sd;var Ad={exports:{}},Nd=Vc;const Od=300;class Td extends Nd.Component{constructor(){super(...arguments),this.ref=(0,Nd.createRef)()}componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,Od)}componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,Od)}render(){const{children:e}=this.props;return(0,Nd.h)("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}var Id=Td,Ld=Vc;function jd(e,t){const n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=n=>{e.refs[t]=n})}function Rd(e){const t={};for(let o=0;o<e.length;o++)if(null!=e[o]){t[(n=e[o],r=o.toString(36),i=void 0,null!=(i=null==n?void 0:n.key)?i:r)]=e[o]}var n,r,i;return t}function Fd(e,t){e=e||{},t=t||{};const n=n=>t.hasOwnProperty(n)?t[n]:e[n],r={};let i=[];for(const n in e)t.hasOwnProperty(n)?i.length&&(r[n]=i,i=[]):i.push(n);const o={};for(const e in t){if(r.hasOwnProperty(e))for(let t=0;t<r[e].length;t++){const i=r[e][t];o[r[e][t]]=n(i)}o[e]=n(e)}for(let e=0;e<i.length;e++)o[i[e]]=n(i[e]);return o}class zd extends Ld.Component{constructor(e,t){super(e,t),this.refs={},this.state={children:Rd((0,Ld.toChildArray)((0,Ld.toChildArray)(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const t in e)e[t]&&this.performAppear(t)}componentWillReceiveProps(e){const t=Rd((0,Ld.toChildArray)(e.children)||[]),n=this.state.children;let r;for(r in this.setState((e=>({children:Fd(e.children,t)}))),t)if(t.hasOwnProperty(r)){const e=n&&n.hasOwnProperty(r);t[r]&&e&&this.currentlyTransitioningKeys[r]?(this.keysToEnter.push(r),this.keysToAbortLeave.push(r)):!t[r]||e||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n)if(n.hasOwnProperty(r)){const e=t&&t.hasOwnProperty(r);!n[r]||e||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:t}=this;this.keysToLeave=[],t.forEach(this.performLeave)}_finishAbort(e){const t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Rd((0,Ld.toChildArray)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Rd((0,Ld.toChildArray)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}performLeave(e){if(-1!==this.keysToAbortLeave.indexOf(e))return;this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(-1!==this.keysToAbortLeave.indexOf(e))return;const t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const n=Rd((0,Ld.toChildArray)(this.props.children)||[]);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{const t=(r={},i=this.state.children,Object.assign(r,i));delete t[e],this.setState({children:t})}var r,i}render(e,t){let{childFactory:n,transitionLeave:r,transitionName:i,transitionAppear:o,transitionEnter:s,transitionLeaveTimeout:a,transitionEnterTimeout:l,transitionAppearTimeout:c,component:u,...d}=e,{children:p}=t;const h=[];for(const e in p)if(p.hasOwnProperty(e)){const t=p[e];if(t){const r=jd(this,e),i=(0,Ld.cloneElement)(n(t),{ref:r,key:e});h.push(i)}}return(0,Ld.h)(u,d,h)}}zd.defaultProps={component:"span",childFactory:e=>e};var Pd=Vc,Bd=Ga.exports;const Ud=Id,Hd=zd;class $d extends Bd.UIPlugin{constructor(e,t){super(e,t),this.render=e=>(0,Pd.h)("div",{className:"uppy uppy-Informer"},(0,Pd.h)(Hd,null,e.info.map((e=>(0,Pd.h)(Ud,{key:e.message},(0,Pd.h)("p",{role:"alert"},e.message," ",e.details&&(0,Pd.h)("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${e.message} \n\n ${e.details}`)},"?"))))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";this.opts={...t}}install(){const{target:e}=this.opts;e&&this.mount(e,this)}}$d.VERSION="2.1.1",Ad.exports=$d;var Vd={exports:{}};!function(e){function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n="undefined"!=typeof self?self:Ci;const r="undefined"!=typeof navigator,i=r&&"undefined"==typeof HTMLImageElement,o=!(void 0===Ci||"undefined"==typeof process||!process.versions||!process.versions.node),s=n.Buffer,a=!!s,l=e=>void 0!==e;function c(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(l).length)}function u(e){let t=new Error(e);throw delete t.stack,t}function d(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const p=e=>String.fromCharCode.apply(null,e),h="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class f{static from(e,t){return e instanceof this&&e.le===t?e:new f(e,void 0,void 0,t)}constructor(e,t=0,n,r){if("boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);let r=new DataView(e,t,n);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof f){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&u("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,t,n);this._swapDataView(r)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else u("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,n=f){return e instanceof DataView||e instanceof f?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||u("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new n(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new f(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return n=this.getUint8Array(e,t),h?h.decode(n):a?Buffer.from(n).toString("utf8"):decodeURIComponent(escape(p(n)));var n}getLatin1String(e=0,t=this.byteLength){let n=this.getUint8Array(e,t);return p(n)}getUnicodeString(e=0,t=this.byteLength){const n=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return p(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function m(e,t){u(`${e} '${t}' was not loaded, try using full build of exifr.`)}class g extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||m(this.kind,e),t&&(e in t||function(e,t){u(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||m(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var b=new g("file parser"),y=new g("segment parser"),v=new g("file reader");let w=n.fetch;const _="Invalid input argument";function x(e,t){return(n=e).startsWith("data:")||n.length>1e4?E(e,t,"base64"):o&&e.includes("://")?k(e,t,"url",M):o?E(e,t,"fs"):r?k(e,t,"url",M):void u(_);var n}async function k(e,t,n,r){return v.has(n)?E(e,t,n):r?async function(e,t){let n=await t(e);return new f(n)}(e,r):void u(`Parser ${n} is not loaded`)}async function E(e,t,n){let r=new(v.get(n))(e,t);return await r.read(),r}const M=e=>w(e).then((e=>e.arrayBuffer())),C=e=>new Promise(((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}));class D extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function S(e,t,n){let r=new D;for(let[e,t]of n)r.set(e,t);if(Array.isArray(t))for(let n of t)e.set(n,r);else e.set(t,r);return r}function A(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}const N=new Map,O=new Map,T=new Map,I=37500,L=37510,j=33723,R=34675,F=34665,z=34853,P=40965,B=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],U=["jfif","xmp","icc","iptc","ihdr"],H=["tiff",...U],$=["ifd0","ifd1","exif","gps","interop"],V=[...H,...$],W=["makerNote","userComment"],q=["translateKeys","translateValues","reviveValues","multiSegment"],K=[...q,"sanitize","mergeOutput","silentErrors"];class G{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Y extends G{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,i){if(super(),t(this,"enabled",!1),t(this,"skip",new Set),t(this,"pick",new Set),t(this,"deps",new Set),t(this,"translateKeys",!1),t(this,"translateValues",!1),t(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=$.includes(e),this.canBeFiltered&&(this.dict=N.get(e)),void 0!==r)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if("object"==typeof r){if(this.enabled=!0,this.parse=!1!==r.parse,this.canBeFiltered){let{pick:e,skip:t}=r;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(r)}else!0===r||!1===r?this.parse=this.enabled=r:u(`Invalid options argument: ${r}`)}applyInheritables(e){let t,n;for(t of q)n=e[t],void 0!==n&&(this[t]=n)}translateTagSet(e,t){if(this.dict){let n,r,{tagKeys:i,tagValues:o}=this.dict;for(n of e)"string"==typeof n?(r=o.indexOf(n),-1===r&&(r=i.indexOf(Number(n))),-1!==r&&t.add(Number(i[r]))):t.add(n)}else for(let n of e)t.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,te(this.pick,this.deps)):this.enabled&&this.pick.size>0&&te(this.pick,this.deps)}}var Q={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},J=new Map;class Z extends G{static useCached(e){let t=J.get(e);return void 0!==t||(t=new this(e),J.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):u(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=r?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of B)this[e]=Q[e];for(e of K)this[e]=Q[e];for(e of W)this[e]=Q[e];for(e of V)this[e]=new Y(e,Q[e],void 0,this)}setupFromTrue(){let e;for(e of B)this[e]=Q[e];for(e of K)this[e]=Q[e];for(e of W)this[e]=!0;for(e of V)this[e]=new Y(e,!0,void 0,this)}setupFromArray(e){let t;for(t of B)this[t]=Q[t];for(t of K)this[t]=Q[t];for(t of W)this[t]=Q[t];for(t of V)this[t]=new Y(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,$)}setupFromObject(e){let t;for(t of($.ifd0=$.ifd0||$.image,$.ifd1=$.ifd1||$.thumbnail,Object.assign(this,e),B))this[t]=ee(e[t],Q[t]);for(t of K)this[t]=ee(e[t],Q[t]);for(t of W)this[t]=ee(e[t],Q[t]);for(t of H)this[t]=new Y(t,Q[t],e[t],this);for(t of $)this[t]=new Y(t,Q[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,$,V),!0===e.tiff?this.batchEnableWithBool($,!0):!1===e.tiff?this.batchEnableWithUserValue($,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,$):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,$)}batchEnableWithBool(e,t){for(let n of e)this[n].enabled=t}batchEnableWithUserValue(e,t){for(let n of e){let e=t[n];this[n].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,n,r=n){if(e&&e.length){for(let e of r)this[e].enabled=!1;let t=X(e,n);for(let[e,n]of t)te(this[e].pick,n),this[e].enabled=!0}else if(t&&t.length){let e=X(t,n);for(let[t,n]of e)te(this[t].skip,n)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:n,iptc:r,icc:i}=this;this.makerNote?t.deps.add(I):t.skip.add(I),this.userComment?t.deps.add(L):t.skip.add(L),n.enabled||e.skip.add(700),r.enabled||e.skip.add(j),i.enabled||e.skip.add(R)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:n,interop:r}=this;r.needed&&(t.deps.add(P),e.deps.add(P)),t.needed&&e.deps.add(F),n.needed&&e.deps.add(z),this.tiff.enabled=$.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of $)this[e].finalizeFilters()}get onlyTiff(){return!U.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of H)this[e].enabled&&!y.has(e)&&m("segment parser",e)}}function X(e,t){let n,r,i,o,s=[];for(i of t){for(o of(n=N.get(i),r=[],n))(e.includes(o[0])||e.includes(o[1]))&&r.push(o[0]);r.length&&s.push([i,r])}return s}function ee(e,t){return void 0!==e?e:void 0!==t?t:void 0}function te(e,t){for(let n of t)e.add(n)}t(Z,"default",Q);class ne{constructor(e){t(this,"parsers",{}),t(this,"output",{}),t(this,"errors",[]),t(this,"pushToErrors",(e=>this.errors.push(e))),this.options=Z.useCached(e)}async read(e){this.file=await function(e,t){return"string"==typeof e?x(e,t):r&&!i&&e instanceof HTMLImageElement?x(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new f(e):r&&e instanceof Blob?k(e,t,"blob",C):void u(_)}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[n,r]of b)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),u("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),c(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let n=await t.parse();t.assignToOutput(e,n)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,n=y.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),void 0===r)return;let i=await this.fileParser.ensureSegmentChunk(r),o=this.parsers.tiff=new n(i,e,t),s=await o.extractThumbnail();return t.close&&t.close(),s}}async function re(e,t){let n=new ne(t);return await n.read(e),n.parse()}var ie=Object.freeze({__proto__:null,parse:re,Exifr:ne,fileParsers:b,segmentParsers:y,fileReaders:v,tagKeys:N,tagValues:O,tagRevivers:T,createDictionary:S,extendDictionary:A,fetchUrlAsArrayBuffer:M,readBlobAsArrayBuffer:C,chunkedProps:B,otherSegments:U,segments:H,tiffBlocks:$,segmentsAndBlocks:V,tiffExtractables:W,inheritables:q,allFormatters:K,Options:Z});class oe{static findPosition(e,t){let n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,o=n-r;return{offset:t,length:n,headerLength:r,start:i,size:o,end:i+o}}static parse(e,t={}){return new this(e,new Z({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof f?e:new f(e)}constructor(e,n={},r){t(this,"errors",[]),t(this,"raw",new Map),t(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let n=T.get(t),r=O.get(t),i=N.get(t),o=this.options[t],s=o.reviveValues&&!!n,a=o.translateValues&&!!r,l=o.translateKeys&&!!i,c={};for(let[t,o]of e)s&&n.has(t)?o=n.get(t)(o):a&&r.has(t)&&(o=this.translateValue(o,r.get(t))),l&&i.has(t)&&(t=i.get(t)||t),c[t]=o;return c}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}function se(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function ae(e){return e>=224&&e<=239}function le(e,t,n){for(let[r,i]of y)if(i.canHandle(e,t,n))return r}t(oe,"headerLength",4),t(oe,"type",void 0),t(oe,"multiSegment",!1),t(oe,"canHandle",(()=>!1));class ce extends class{constructor(e,n,r){t(this,"errors",[]),t(this,"ensureSegmentChunk",(async e=>{let t=e.start,n=e.size||65536;if(this.file.chunked)if(this.file.available(t,n))e.chunk=this.file.subarray(t,n);else try{e.chunk=await this.file.readChunk(t,n)}catch(t){u(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+n?e.chunk=this.file.subarray(t,n):void 0===e.size?e.chunk=this.file.subarray(t):u("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let n=new(y.get(e))(t,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let t of e){let{type:e,chunk:n}=t,r=this.options[e];if(r&&r.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,n)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),t(this,"appSegments",[]),t(this,"jpegSegments",[]),t(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(y.keyList())):(e=void 0===e?y.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&y.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:n,findAll:r,wanted:i,remaining:o}=this;if(!r&&this.file.chunked&&(r=Array.from(i).some((e=>{let t=y.get(e),n=this.options[e];return t.multiSegment&&n.multiSegment})),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let t=!1;for(;o.size>0&&!t&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:r}=n,i=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>r&&!i?!await n.readNextChunk(e):!await n.readNextChunk(r),void 0===(e=this.findAppSegmentsInRange(e,n.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let n,r,i,o,s,a,{file:l,findAll:c,wanted:u,remaining:d,options:p}=this;for(;e<t;e++)if(255===l.getUint8(e))if(n=l.getUint8(e+1),ae(n)){if(r=l.getUint16(e+2),i=le(l,e,r),i&&u.has(i)&&(o=y.get(i),s=o.findPosition(l,e),a=p[i],s.type=i,this.appSegments.push(s),!c&&(o.multiSegment&&a.multiSegment?(this.unfinishedMultiSegment=s.chunkNumber<s.chunkCount,this.unfinishedMultiSegment||d.delete(i)):d.delete(i),0===d.size)))break;p.recordUnknownSegments&&(s=oe.findPosition(l,e),s.marker=n,this.unknownSegments.push(s)),e+=r+1}else if(se(n)){if(r=l.getUint16(e+2),218===n&&!1!==p.stopAfterSos)return;p.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let n,r,i,o=new Map;for(let s=0;s<e.length;s++)n=e[s],r=n[t],o.has(r)?i=o.get(r):o.set(r,i=[]),i.push(n);return Array.from(o)}(this.appSegments,"type");this.mergedAppSegments=e.map((([e,t])=>{let n=y.get(e,this.options);return n.handleMultiSegments?{type:e,chunk:n.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}t(ce,"type","jpeg"),b.set("jpeg",ce);const ue=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class de extends oe{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,n=new Map){let{pick:r,skip:i}=this.options[t];r=new Set(r);let o=r.size>0,s=0===i.size,a=this.chunk.getUint16(e);e+=2;for(let l=0;l<a;l++){let a=this.chunk.getUint16(e);if(o){if(r.has(a)&&(n.set(a,this.parseTag(e,a,t)),r.delete(a),0===r.size))break}else!s&&i.has(a)||n.set(a,this.parseTag(e,a,t));e+=12}return n}parseTag(e,t,n){let{chunk:r}=this,i=r.getUint16(e+2),o=r.getUint32(e+4),s=ue[i];if(s*o<=4?e+=8:e=r.getUint32(e+8),(i<1||i>13)&&u(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e}`),e>r.byteLength&&u(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${r.byteLength}`),1===i)return r.getUint8Array(e,o);if(2===i)return""===(a=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(a=r.getString(e,o)).trim())?void 0:a;var a;if(7===i)return r.getUint8Array(e,o);if(1===o)return this.parseTagValue(i,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(i))(o),n=s;for(let r=0;r<o;r++)t[r]=this.parseTagValue(i,e),e+=n;return t}}parseTagValue(e,t){let{chunk:n}=this;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:u(`Invalid tiff type ${e}`)}}}class pe extends de{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let n=new Map;return this[t]=n,this.parseTags(e,t,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&u("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&u(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,d(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(F),this.interopOffset=t.get(P),this.gpsOffset=t.get(z),this.xmp=t.get(700),this.iptc=t.get(j),this.icc=t.get(R),this.options.sanitize&&(t.delete(F),t.delete(P),t.delete(z),t.delete(700),t.delete(j),t.delete(R)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,d(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(P)),this.makerNote=e.get(I),this.userComment=e.get(L),this.options.sanitize&&(e.delete(P),e.delete(I),e.delete(L)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let n=e.get(t);n&&1===n.length&&e.set(t,n[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",he(...e.get(2),e.get(1))),e.set("longitude",he(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,n,r={};for(t of $)if(e=this[t],!c(e))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[n,r]of Object.entries(t))this.assignObjectToOutput(e,n,r)}}function he(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}t(pe,"type","tiff"),t(pe,"headerLength",10),y.set("tiff",pe);var fe=Object.freeze({__proto__:null,default:ie,Exifr:ne,fileParsers:b,segmentParsers:y,fileReaders:v,tagKeys:N,tagValues:O,tagRevivers:T,createDictionary:S,extendDictionary:A,fetchUrlAsArrayBuffer:M,readBlobAsArrayBuffer:C,chunkedProps:B,otherSegments:U,segments:H,tiffBlocks:$,segmentsAndBlocks:V,tiffExtractables:W,inheritables:q,allFormatters:K,Options:Z,parse:re});const me={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},ge=Object.assign({},me,{firstChunkSize:4e4,gps:[1,2,3,4]}),be=Object.assign({},me,{tiff:!1,ifd1:!0,mergeOutput:!1}),ye=Object.assign({},me,{firstChunkSize:4e4,ifd0:[274]});async function ve(e){let t=new ne(ye);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const we=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});if(e.rotateCanvas=!0,e.rotateCss=!0,"object"==typeof navigator){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let n=t.match(/OS (\d+)_(\d+)/);if(n){let[,t,r]=n,i=Number(t)+.1*Number(r);e.rotateCanvas=i<13.4,e.rotateCss=!1}}else if(t.includes("OS X 10")){let[,n]=t.match(/OS X 10[_.](\d+)/);e.rotateCanvas=e.rotateCss=Number(n)<15}if(t.includes("Chrome/")){let[,n]=t.match(/Chrome\/(\d+)/);e.rotateCanvas=e.rotateCss=Number(n)<81}else if(t.includes("Firefox/")){let[,n]=t.match(/Firefox\/(\d+)/);e.rotateCanvas=e.rotateCss=Number(n)<77}}class _e extends f{constructor(...e){super(...e),t(this,"ranges",new xe),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,n){if(0===e&&0===this.byteLength&&n){let e=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(e)}else{let n=e+t;if(n>this.byteLength){let{dataView:e}=this._extend(n);this._swapDataView(e)}}}_extend(e){let t;t=a?s.allocUnsafe(e):new Uint8Array(e);let n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}subarray(e,t,n=!1){return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,n=!1){n&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class xe{constructor(){t(this,"list",[])}get length(){return this.list.length}add(e,t,n=0){let r=e+t,i=this.list.filter((t=>ke(e,t.offset,r)||ke(e,t.end,r)));if(i.length>0){e=Math.min(e,...i.map((e=>e.offset))),r=Math.max(r,...i.map((e=>e.end))),t=r-e;let n=i.shift();n.offset=e,n.length=t,n.end=r,this.list=this.list.filter((e=>!i.includes(e)))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let n=e+t;return this.list.some((t=>t.offset<=e&&n<=t.end))}}function ke(e,t,n){return e<=t&&t<=n}class Ee extends _e{constructor(e,n){super(0),t(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,n=await this.readChunk(e,t);return!!n&&n.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}v.set("blob",class extends Ee{async readWhole(){this.chunked=!1;let e=await C(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await C(r);return this.set(i,e,!0)}}),e.Exifr=ne,e.Options=Z,e.allFormatters=K,e.chunkedProps=B,e.createDictionary=S,e.default=fe,e.extendDictionary=A,e.fetchUrlAsArrayBuffer=M,e.fileParsers=b,e.fileReaders=v,e.gps=async function(e){let t=new ne(ge);await t.read(e);let n=await t.parse();if(n&&n.gps){let{latitude:e,longitude:t}=n.gps;return{latitude:e,longitude:t}}},e.gpsOnlyOptions=ge,e.inheritables=q,e.orientation=ve,e.orientationOnlyOptions=ye,e.otherSegments=U,e.parse=re,e.readBlobAsArrayBuffer=C,e.rotation=async function(t){let n=await ve(t);return Object.assign({canvas:e.rotateCanvas,css:e.rotateCss},we[n])},e.rotations=we,e.segmentParsers=y,e.segments=H,e.segmentsAndBlocks=V,e.tagKeys=N,e.tagRevivers=T,e.tagValues=O,e.thumbnail=async function(e){let t=new ne(be);await t.read(e);let n=await t.extractThumbnail();return n&&a?s.from(n):n},e.thumbnailOnlyOptions=be,e.thumbnailUrl=async function(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}},e.tiffBlocks=$,e.tiffExtractables=W,Object.defineProperty(e,"__esModule",{value:!0})}(Vd.exports);const Wd=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;var qd=function(e,t,n){var r,i;const o=Wd.exec(e),s=null!=(r=null!=(i=t.mimeType)?i:null==o?void 0:o[1])?r:"plain/text";let a;if(null!=o[2]){const e=atob(decodeURIComponent(o[3])),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);a=[t]}else a=[decodeURIComponent(o[3])];return n?new File(a,t.name||"",{type:s}):new Blob(a,{type:s})};var Kd=Ga.exports,Gd=Vd.exports;const Yd=qd,Qd=function(e){return e.startsWith("blob:")},Jd=function(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)},Zd={strings:{generatingThumbnails:"Generating thumbnails..."}};class Xd extends Kd.UIPlugin{constructor(e,t){super(e,t),this.onFileAdded=e=>{!e.preview&&e.data&&Jd(e.type)&&!e.isRemote&&this.addToQueue(e.id)},this.onCancelRequest=e=>{const t=this.queue.indexOf(e.id);-1!==t&&this.queue.splice(t,1)},this.onFileRemoved=e=>{const t=this.queue.indexOf(e.id);-1!==t&&this.queue.splice(t,1),e.preview&&Qd(e.preview)&&URL.revokeObjectURL(e.preview)},this.onRestored=()=>{this.uppy.getFiles().filter((e=>e.isRestored)).forEach((e=>{e.preview&&!Qd(e.preview)||this.addToQueue(e.id)}))},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=e=>{e.forEach((e=>{const t=this.uppy.getFile(e);this.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})}));const t=()=>{e.forEach((e=>{const t=this.uppy.getFile(e);this.uppy.emit("preprocess-complete",t)}))};return new Promise((e=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",(()=>{t(),e()})):(t(),e())}))},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=Zd;if(this.opts={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1,...t},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(e,t,n){const r=URL.createObjectURL(e.data),i=new Promise(((e,t)=>{const n=new Image;n.src=r,n.addEventListener("load",(()=>{URL.revokeObjectURL(r),e(n)})),n.addEventListener("error",(e=>{URL.revokeObjectURL(r),t(e.error||new Error("Could not create thumbnail"))}))})),o=(0,Gd.rotation)(e.data).catch((()=>1));return Promise.all([i,o]).then((e=>{let[r,i]=e;const o=this.getProportionalDimensions(r,t,n,i.deg),s=this.rotateImage(r,i),a=this.resizeImage(s,o.width,o.height);return this.canvasToBlob(a,this.thumbnailType,80)})).then((e=>URL.createObjectURL(e)))}getProportionalDimensions(e,t,n,r){let i=e.width/e.height;return 90!==r&&270!==r||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=n?{width:Math.round(n*i),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}}resizeImage(e,t,n){let r=this.protect(e),i=Math.ceil(Math.log2(r.width/t));i<1&&(i=1);let o=t*2**(i-1),s=n*2**(i-1);const a=2;for(;i--;){const e=document.createElement("canvas");e.width=o,e.height=s,e.getContext("2d").drawImage(r,0,0,o,s),r=e,o=Math.round(o/a),s=Math.round(s/a)}return r}setPreviewURL(e,t){this.uppy.setFileState(e,{preview:t})}addToQueue(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e).catch((()=>{})).then((()=>this.processQueue())):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(e){return Jd(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((t=>{this.setPreviewURL(e.id,t),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${e.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(e.id),t)})).catch((t=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${e.id}:`,"warning"),this.uppy.log(t,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(e.id),t)})):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}Xd.VERSION="2.2.2";var ep=Xd;Xd.prototype.canvasToBlob=function(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){if(18===e.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise((r=>{e.toBlob(r,t,n)})).then((e=>{if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e})):Promise.resolve().then((()=>Yd(e.toDataURL(t,n),{}))).then((e=>{if(null===e)throw new Error("could not extract blob, probably an old browser");return e}))},Xd.prototype.protect=function(e){const t=e.width/e.height,n=5e6,r=4096;let i=Math.floor(Math.sqrt(n*t)),o=Math.floor(n/Math.sqrt(n*t));if(i>r&&(i=r,o=Math.round(i/t)),o>r&&(o=r,i=Math.round(t*o)),e.width>i){const t=document.createElement("canvas");return t.width=i,t.height=o,t.getContext("2d").drawImage(e,0,0,i,o),t}return e},Xd.prototype.rotateImage=function(e,t){let n=e.width,r=e.height;90!==t.deg&&270!==t.deg||(n=e.height,r=e.width);const i=document.createElement("canvas");i.width=n,i.height=r;const o=i.getContext("2d");return o.translate(n/2,r/2),t.canvas&&(o.rotate(t.rad),o.scale(t.scaleX,t.scaleY)),o.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i};const tp=yu;var np=function(e){if("string"==typeof e){const t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"==typeof e&&tp(e)?[e]:null};var rp=function e(t,n,r,i){let{onSuccess:o}=i;t.readEntries((i=>{const s=[...n,...i];i.length?queueMicrotask((()=>{e(t,s,r,{onSuccess:o})})):o(s)}),(e=>{r(e),o(n)}))};const ip=rp;function op(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:()=>new Promise(((t,n)=>e.file(t,n))),async*values(){const n=e.createReader(),r=await new Promise((e=>{ip(n,[],t,{onSuccess:n=>e(n.map((e=>op(e,t))))})}));yield*r}}}async function*sp(e,t){if("file"===e.kind){const n=await e.getFile();null!==n&&(n.relativePath=t?`${t}/${e.name}`:null,yield n)}else if("directory"===e.kind)for await(const n of e.values())yield*sp(n,`${t}/${e.name}`)}const ap=Lu;const lp=async function*(e,t){const n=await Promise.all(Array.from(e.items,(async e=>{var n;return{lastResortFile:e.getAsFile(),entry:null!=(n=await(null==e.getAsFileSystemHandle?void 0:e.getAsFileSystemHandle()))?n:op(e.webkitGetAsEntry(),t)}})));for(const{lastResortFile:e,entry:r}of n)if(null!=r)try{yield*sp(r,"")}catch(n){e?yield e:t(n)}},cp=function(e){const t=ap(e.files);return Promise.resolve(t)};var up=async function(e,t){let{logDropError:n=(()=>{})}=void 0===t?{}:t;try{const t=[];for await(const r of lp(e,n))t.push(r);return t}catch{return cp(e)}},dp=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function pp(e,t){return e===t||!(!dp(e)||!dp(t))}function hp(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!pp(e[n],t[n]))return!1;return!0}var fp=Object.freeze({__proto__:null,default:function(e,t){var n;void 0===t&&(t=hp);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}}}),mp=Si(fp),gp="Expected a function",bp=0/0,yp="[object Symbol]",vp=/^\s+|\s+$/g,wp=/^[-+]0x[0-9a-f]+$/i,_p=/^0b[01]+$/i,xp=/^0o[0-7]+$/i,kp=parseInt,Ep="object"==typeof Ci&&Ci&&Ci.Object===Object&&Ci,Mp="object"==typeof self&&self&&self.Object===Object&&self,Cp=Ep||Mp||Function("return this")(),Dp=Object.prototype.toString,Sp=Math.max,Ap=Math.min,Np=function(){return Cp.Date.now()};function Op(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Tp(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&Dp.call(e)==yp}(e))return bp;if(Op(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Op(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(vp,"");var n=_p.test(e);return n||xp.test(e)?kp(e.slice(2),n?2:8):wp.test(e)?bp:+e}var Ip=function(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(gp);function h(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function f(e){return c=e,a=setTimeout(g,t),u?h(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function g(){var e=Np();if(m(e))return b(e);a=setTimeout(g,function(e){var n=t-(e-l);return d?Ap(n,o-(e-c)):n}(e))}function b(e){return a=void 0,p&&r?h(e):(r=i=void 0,s)}function y(){var e=Np(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return f(l);if(d)return a=setTimeout(g,t),h(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=Tp(t)||0,Op(n)&&(u=!!n.leading,o=(d="maxWait"in n)?Sp(Tp(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},y.flush=function(){return void 0===a?s:b(Np())},y};const Lp=Ip,jp=ju,Rp=Ru;var Fp=function(){let e=!1;return Lp(((t,n)=>{const r=Rp(t,n),i=r.contains(document.activeElement);if(i&&e)return;const o=r.querySelector("[data-uppy-super-focusable]");if(!i||o)if(o)o.focus({preventScroll:!0}),e=!0;else{const t=r.querySelector(jp);null==t||t.focus({preventScroll:!0}),e=!1}}),260)};var zp=function(){const e=document.body;return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)},Pp=Vc;var Bp=function(e){const t={color:"#838999",icon:(0,Pp.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Pp.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,Pp.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,Pp.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;const n=e.split("/")[0],r=e.split("/")[1];return"text"===n?{color:"#5a5e69",icon:(0,Pp.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Pp.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}:"image"===n?{color:"#686de0",icon:(0,Pp.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Pp.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,Pp.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,Pp.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,Pp.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}:"audio"===n?{color:"#068dbb",icon:(0,Pp.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Pp.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}:"video"===n?{color:"#19af67",icon:(0,Pp.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Pp.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}:"application"===n&&"pdf"===r?{color:"#e25149",icon:(0,Pp.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Pp.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}:"application"===n&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)?{color:"#00C469",icon:(0,Pp.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Pp.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:t},Up=Vc;const Hp=Bp;var $p=function(e){const{file:t}=e;if(t.preview)return(0,Up.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:n,icon:r}=Hp(t.type);return(0,Up.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,Up.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n}},r),(0,Up.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,Up.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))},Vp=Vc;var Wp=function(e){const{file:t,toggleFileCard:n,i18n:r,metaFields:i}=e,{missingRequiredMetaFields:o}=t;if(null==o||!o.length)return null;const s=o.map((e=>((e,t)=>{const n=t.filter((t=>t.id===e));return n[0].name})(e,i))).join(", ");return(0,Vp.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},r("missingRequiredMetaFields",{smart_count:o.length,fields:s})," ",(0,Vp.h)("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,t.id)},r("editFile")))},qp=Vc;const Kp=$p,Gp=Wp,Yp=Bp;var Qp=Vc;function Jp(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function Zp(e){return(0,Qp.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Qp.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Jp(e),title:Jp(e),onClick:()=>function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id):e.uppy.retryUpload(e.file.id))}(e)},e.children))}function Xp(e){let{children:t}=e;return(0,Qp.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function eh(e){let{progress:t}=e;const n=2*Math.PI*15;return(0,Qp.h)("g",null,(0,Qp.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,Qp.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":n,"stroke-dashoffset":n-n/100*t}))}const th="...";var nh=Vc;const rh=il,ih=function(e,t){if(0===t)return"";if(e.length<=t)return e;if(t<=th.length+1)return`${e.slice(0,t-1)}`;const n=t-th.length,r=Math.ceil(n/2),i=Math.floor(n/2);return e.slice(0,r)+th+e.slice(-i)},oh=Wp,sh=e=>{let{file:t,onClick:n}=e;return t.error?(0,nh.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};var ah=Vc;const lh=function(e,t){return t||(t="Copy the URL below"),new Promise((n=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=e,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(t,e),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):i()}catch(e){return document.body.removeChild(r),i()}}))};function ch(e){let{file:t,uploadInProgressOrComplete:n,metaFields:r,canEditFile:i,i18n:o,onClick:s}=e;return!n&&r&&r.length>0||!n&&i(t)?(0,ah.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":o("editFileWithFilename",{file:t.meta.name}),title:o("editFileWithFilename",{file:t.meta.name}),onClick:()=>s()},(0,ah.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,ah.h)("g",{fillRule:"evenodd"},(0,ah.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,ah.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,ah.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function uh(e){let{i18n:t,onClick:n,file:r}=e;return(0,ah.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:()=>n()},(0,ah.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,ah.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,ah.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}function dh(e){const{i18n:t}=e;return(0,ah.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:t=>((e,t)=>{lh(t.file.uploadURL,t.i18n("copyLinkToClipboardFallback")).then((()=>{t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.uppy.log).then((()=>e.target.focus({preventScroll:!0})))})(t,e)},(0,ah.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,ah.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}var ph=function(e){const{uppy:t,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:o,showLinkToFileUploadResult:s,showRemoveButton:a,i18n:l,toggleFileCard:c,openFileEditor:u}=e;return(0,ah.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,ah.h)(ch,{i18n:l,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:o,onClick:()=>{o&&o.length>0?c(!0,n.id):u(n)}}),s&&n.uploadURL?(0,ah.h)(dh,{file:n,uppy:t,i18n:l}):null,a?(0,ah.h)(uh,{i18n:l,file:n,uppy:t,onClick:()=>e.uppy.removeFile(n.id,"removed-by-user")}):null)},hh=Vc;const fh=qa.exports,mh=function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0},gh=function(e){return(0,qp.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:Yp(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&(0,qp.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name},(0,qp.h)("span",{hidden:!0},e.file.meta.name)),(0,qp.h)(Kp,{file:e.file}),(0,qp.h)(Gp,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))},bh=function(e){return e.file.progress.uploadStarted?e.isUploaded?(0,Qp.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Qp.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,Qp.h)(Xp,null,(0,Qp.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,Qp.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?(0,Qp.h)(Zp,e,(0,Qp.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,Qp.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,Qp.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,Qp.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,Qp.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?(0,Qp.h)(Zp,e,(0,Qp.h)(Xp,null,(0,Qp.h)(eh,{progress:e.file.progress.percentage}),e.file.isPaused?(0,Qp.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,Qp.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,Qp.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,Qp.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?(0,Qp.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Qp.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,Qp.h)(Xp,null,(0,Qp.h)(eh,{progress:e.file.progress.percentage})))):(0,Qp.h)(Zp,e,(0,Qp.h)(Xp,null,(0,Qp.h)(eh,{progress:e.file.progress.percentage}),(0,Qp.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null},yh=function(e){const{file:t}=e;return(0,nh.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},(0,nh.h)("div",{className:"uppy-Dashboard-Item-fileName"},(e=>{const{author:t,name:n}=e.file.meta;return(0,nh.h)("div",{className:"uppy-Dashboard-Item-name",title:n},ih(n,e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30))})(e),(0,nh.h)(sh,{file:e.file,onClick:()=>alert(e.file.error)})),(0,nh.h)("div",{className:"uppy-Dashboard-Item-status"},(e=>{const{author:t}=e.file.meta,{providerName:n}=e.file.remote,r=``;return t?(0,nh.h)("div",{className:"uppy-Dashboard-Item-author"},(0,nh.h)("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},ih(t.name,13)),n?(0,nh.h)(nh.Fragment,null,` ${r} `,n,` ${r} `):null):null})(e),(e=>e.file.size&&(0,nh.h)("div",{className:"uppy-Dashboard-Item-statusSize"},rh(e.file.size)))(e),(e=>e.file.isGhost&&(0,nh.h)("span",null,"  ",(0,nh.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect"))))(e)),(0,nh.h)(oh,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))},vh=ph;class wh extends hh.Component{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!mh(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,t=e.progress.preprocess||e.progress.postprocess,n=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,o=e.error||!1,{isGhost:s}=e;let a=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(a=!0);const l=fh({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":t,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":s});return(0,hh.h)("div",{className:l,id:`uppy_${e.id}`,role:this.props.role},(0,hh.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,hh.h)(gh,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,hh.h)(bh,{uppy:this.props.uppy,file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,hh.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,hh.h)(yh,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,hh.h)(vh,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:a,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}var _h=wh,xh=Vc;function kh(){return kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(this,arguments)}const Eh={position:"relative",width:"100%",minHeight:"100%"},Mh={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class Ch extends xh.Component{constructor(e){super(e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:e}=this.state;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(e){let{data:t,rowHeight:n,renderRow:r,overscanCount:i=10,...o}=e;const{offset:s,height:a}=this.state;let l=Math.floor(s/n),c=Math.floor(a/n);i&&(l=Math.max(0,l-l%i),c+=i);const u=l+c+4,d=t.slice(l,u),p={...Eh,height:t.length*n},h={...Mh,top:l*n};return(0,xh.h)("div",kh({onScroll:this.handleScroll},o),(0,xh.h)("div",{role:"presentation",style:p},(0,xh.h)("div",{role:"presentation",style:h},d.map(r))))}}var Dh=Vc;function Sh(){return Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sh.apply(this,arguments)}const Ah=qa.exports,Nh=_h,Oh=Ch;var Th=Vc;let Ih;Ih=Symbol.for("uppy test: disable unused locale key warning");class Lh extends Th.Component{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.onFileInputChange=e=>{this.props.handleInputChange(e),e.target.value=null},this.renderHiddenInput=(e,t)=>(0,Th.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:t}),this.renderMyDeviceAcquirer=()=>(0,Th.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,Th.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},(0,Th.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Th.h)("g",{fill:"none",fillRule:"evenodd"},(0,Th.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),(0,Th.h)("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),(0,Th.h)("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderBrowseButton=(e,t)=>{const n=this.props.acquirers.length;return(0,Th.h)("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:t,"data-uppy-super-focusable":0===n},e)},this.renderDropPasteBrowseTagline=()=>{const e=this.props.acquirers.length,t=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),n=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),r=this.props.fileManagerSelectionType,i=r.charAt(0).toUpperCase()+r.slice(1);return(0,Th.h)("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):e>0?this.props.i18nArray(`dropPasteImport${i}`,{browseFiles:t,browseFolders:n,browse:t}):this.props.i18nArray(`dropPaste${i}`,{browseFiles:t,browseFolders:n,browse:t}))},this.renderAcquirer=e=>(0,Th.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},(0,Th.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":e.id,"aria-controls":`uppy-DashboardContent-panel--${e.id}`,"aria-selected":this.props.activePickerPanel.id===e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(e.id)},e.icon(),(0,Th.h)("div",{className:"uppy-DashboardTab-name"},e.name))),this.renderAcquirers=(e,t)=>{const n=[...e],r=n.splice(e.length-2,e.length);return(0,Th.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!t&&this.renderMyDeviceAcquirer(),n.map((e=>this.renderAcquirer(e))),(0,Th.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},r.map((e=>this.renderAcquirer(e)))))}}[Ih](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:e}=this.props,t=e("poweredBy",{uppy:(0,Th.h)("span",null,(0,Th.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,Th.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,Th.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"))});return(0,Th.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},t)}render(){return(0,Th.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,(e=>{this.fileInput=e})),this.renderHiddenInput(!0,(e=>{this.folderInput=e})),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),(0,Th.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,Th.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}var jh=Lh,Rh=Vc;const Fh=qa.exports,zh=jh;var Ph=e=>(0,Rh.h)("div",{className:Fh("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},(0,Rh.h)("div",{className:"uppy-DashboardContent-bar"},(0,Rh.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),(0,Rh.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1)},e.i18n("back"))),(0,Rh.h)(zh,e));var Bh=function(e){const{tagName:t}=e.target;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()},Uh=Vc;const Hh=qa.exports,$h=Bh;var Vh=function(e){let{activePickerPanel:t,className:n,hideAllPanels:r,i18n:i,state:o,uppy:s}=e;return(0,Uh.h)("div",{className:Hh("uppy-DashboardContent-panel",n),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:$h,onDragLeave:$h,onDrop:$h,onPaste:$h},(0,Uh.h)("div",{className:"uppy-DashboardContent-bar"},(0,Uh.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:t.name})),(0,Uh.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r},i("cancel"))),(0,Uh.h)("div",{className:"uppy-DashboardContent-panelBody"},s.getPlugin(t.id).render(o)))},Wh=Vc;const qh=qa.exports;var Kh=function(e){const t=e.files[e.fileCardFor];return(0,Wh.h)("div",{className:qh("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,Wh.h)("div",{className:"uppy-DashboardContent-bar"},(0,Wh.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:(0,Wh.h)("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),(0,Wh.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:e.hideAllPanels},e.i18n("cancel")),(0,Wh.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),(0,Wh.h)("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map((t=>e.uppy.getPlugin(t.id).render(e.state)))))},Gh=Vc;const Yh="error",Qh="waiting",Jh="preprocessing",Zh="uploading",Xh="postprocessing",ef="complete",tf="paused";function nf(e){let{files:t,i18n:n,isAllComplete:r,isAllErrored:i,isAllPaused:o,inProgressNotPausedFiles:s,newFiles:a,processingFiles:l}=e;const c=function(e,t,n,r){if(void 0===r&&(r={}),e)return Yh;if(t)return ef;if(n)return tf;let i=Qh;const o=Object.keys(r);for(let e=0;e<o.length;e++){const{progress:t}=r[o[e]];if(t.uploadStarted&&!t.uploadComplete)return Zh;t.preprocess&&i!==Zh&&(i=Jh),t.postprocess&&i!==Zh&&i!==Jh&&(i=Xh)}return i}(i,r,o,t);switch(c){case"uploading":return n("uploadingXFiles",{smart_count:s.length});case"preprocessing":case"postprocessing":return n("processingXFiles",{smart_count:l.length});case"paused":return n("uploadPaused");case"waiting":return n("xFilesSelected",{smart_count:a.length});case"complete":return n("uploadComplete")}}var rf=function(e){const{i18n:t,isAllComplete:n,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:o,uppy:s}=e;let{allowNewUpload:a}=e;return a&&i&&(a=e.totalFileCount<e.maxNumberOfFiles),(0,Gh.h)("div",{className:"uppy-DashboardContent-bar"},n||r?(0,Gh.h)("div",null):(0,Gh.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>s.cancelAll()},t("cancel")),(0,Gh.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,Gh.h)(nf,e)),a?(0,Gh.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>o(!0)},(0,Gh.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,Gh.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,Gh.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):(0,Gh.h)("div",null))},of=Vc,sf=nl;const af=qa.exports,lf=Bp,cf=Bh,uf=$p;class df extends of.Component{constructor(e){super(e),this.form=document.createElement("form"),this.updateMeta=(e,t)=>{this.setState((n=>{let{formState:r}=n;return{formState:{...r,[t]:e}}}))},this.handleSave=e=>{e.preventDefault();const t=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,t)},this.handleCancel=()=>{const e=this.props.files[this.props.fileCardFor];this.props.uppy.emit("file-editor:cancel",e),this.props.toggleFileCard(!1)},this.saveOnEnter=e=>{if(13===e.keyCode){e.stopPropagation(),e.preventDefault();const t=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,t.id)}},this.renderMetaFields=()=>{const e=this.getMetaFields()||[],t={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map((e=>{const n=`uppy-Dashboard-FileCard-input-${e.id}`,r=this.props.requiredMetaFields.includes(e.id);return(0,of.h)("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,of.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:n},e.name),void 0!==e.render?e.render({value:this.state.formState[e.id],onChange:t=>this.updateMeta(t,e.id),fieldCSSClasses:t,required:r,form:this.form.id},of.h):(0,of.h)("input",{className:t.text,id:n,form:this.form.id,type:e.type||"text",required:r,value:this.state.formState[e.id],placeholder:e.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:t=>this.updateMeta(t.target.value,e.id),"data-uppy-super-focusable":!0}))}))};const t=this.props.files[this.props.fileCardFor],n=this.getMetaFields()||[],r={};n.forEach((e=>{r[e.id]=t.meta[e.id]||""})),this.state={formState:r},this.form.id=(0,sf.nanoid)()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return"function"==typeof this.props.metaFields?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){const e=this.props.files[this.props.fileCardFor],t=this.props.canEditFile(e);return(0,of.h)("div",{className:af("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:cf,onDragLeave:cf,onDrop:cf,onPaste:cf},(0,of.h)("div",{className:"uppy-DashboardContent-bar"},(0,of.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:(0,of.h)("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),(0,of.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),(0,of.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,of.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:lf(e.type).color}},(0,of.h)(uf,{file:e}),t&&(0,of.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:t=>{this.handleSave(t),this.props.openFileEditor(e)},form:this.form.id},this.props.i18n("editFile"))),(0,of.h)("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),(0,of.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,of.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),(0,of.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}var pf=df,hf=Vc;const ff=qa.exports,mf="uppy-transition-slideDownUp",gf=250;class bf extends hf.Component{constructor(e){super(e),this.state={cachedChildren:null,className:""}}componentWillUpdate(e){const{cachedChildren:t}=this.state,n=(0,hf.toChildArray)(e.children)[0];if(t===n)return null;const r={cachedChildren:n};n&&!t&&(r.className=`${mf}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame((()=>{this.setState({className:`${mf}-enter ${mf}-enter-active`}),this.enterTimeout=setTimeout((()=>{this.setState({className:""})}),gf)}))),t&&!n&&void 0===this.leaveTimeout&&(r.cachedChildren=t,r.className=`${mf}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame((()=>{this.setState({className:`${mf}-leave ${mf}-leave-active`}),this.leaveTimeout=setTimeout((()=>{this.setState({cachedChildren:null,className:""})}),gf)}))),this.setState(r)}render(){const{cachedChildren:e,className:t}=this.state;return e?(0,hf.cloneElement)(e,{className:ff(t,e.props.className)}):null}}var yf=Vc;function vf(){return vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(this,arguments)}const wf=qa.exports,_f=zp,xf=e=>{const t=0===e.totalFileCount,n=Ah("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":t}),r=1===e.itemsPerRow?71:200,i={id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,acquirers:e.acquirers,resumableUploads:e.resumableUploads,individualCancellation:e.individualCancellation,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,recoveredState:e.recoveredState,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail},o=Object.keys(e.files);e.recoveredState&&o.sort(((t,n)=>e.files[n].isGhost-e.files[t].isGhost));const s=function(e,t){const n=[];let r=[];return e.forEach((e=>{r.length<t?r.push(e):(n.push(r),r=[e])})),r.length&&n.push(r),n}(o,e.itemsPerRow);return(0,Dh.h)(Oh,{class:n,role:"list",data:s,renderRow:t=>(0,Dh.h)("div",{role:"presentation",key:t[0]},t.map((t=>(0,Dh.h)(Nh,Sh({key:t,uppy:e.uppy},i,{role:"listitem",openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,file:e.files[t]}))))),rowHeight:r})},kf=jh,Ef=Ph,Mf=Vh,Cf=Kh,Df=rf,Sf=pf,Af=bf,Nf=900,Of=700,Tf=576,If=400;var Lf=Vc,jf=Ga.exports,Rf=nl,Ff=Iu;function zf(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Pf=0;function Bf(e){return"__private_"+Pf+++"_"+e}const Uf=Hu.exports,Hf=Ad.exports,$f=ep,Vf=np,Wf=Lu,qf=up,Kf=mp,Gf=ju,Yf=Fp,Qf=function(e){const t=0===e.totalFileCount,n=e.containerWidth>Tf,r=wf({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>Tf,"uppy-size--lg":e.containerWidth>Of,"uppy-size--xl":e.containerWidth>Nf,"uppy-size--height-md":e.containerHeight>If,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible});let i=1;e.containerWidth>Nf?i=5:e.containerWidth>Of?i=4:e.containerWidth>Tf&&(i=3);const o=e.showSelectedFiles&&!t,s=e.recoveredState?Object.keys(e.recoveredState.files).length:null,a=e.files?Object.keys(e.files).filter((t=>e.files[t].isGhost)).length:null;return(0,yf.h)("div",{className:r,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&_f(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},(0,yf.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),(0,yf.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:(0,yf.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},(0,yf.h)("span",{"aria-hidden":"true"},"")),(0,yf.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,yf.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),o&&(0,yf.h)(Df,e),s&&(0,yf.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,yf.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,yf.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,yf.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,yf.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,yf.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,yf.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),(0,yf.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},a>0?e.i18n("recoveredXFiles",{smart_count:a}):e.i18n("recoveredAllFiles"))),o?(0,yf.h)(xf,vf({},e,{itemsPerRow:i})):(0,yf.h)(kf,vf({},e,{isSizeMD:n})),(0,yf.h)(Af,null,e.showAddFilesPanel?(0,yf.h)(Ef,vf({key:"AddFiles"},e,{isSizeMD:n})):null),(0,yf.h)(Af,null,e.fileCardFor?(0,yf.h)(Sf,vf({key:"FileCard"},e)):null),(0,yf.h)(Af,null,e.activePickerPanel?(0,yf.h)(Mf,vf({key:"Picker"},e)):null),(0,yf.h)(Af,null,e.showFileEditor?(0,yf.h)(Cf,vf({key:"Editor"},e)):null),(0,yf.h)("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map((t=>e.uppy.getPlugin(t.id).render(e.state)))))))},Jf={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."}}},Zf=Kf.default||Kf,Xf=9,em=27;function tm(){const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e}function nm(){return(0,Lf.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,Lf.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var rm=Bf("openFileEditorWhenFilesAdded"),im=Bf("attachRenderFunctionToTarget"),om=Bf("isTargetSupported"),sm=Bf("getAcquirers"),am=Bf("getProgressIndicators"),lm=Bf("getEditors");class cm extends jf.UIPlugin{constructor(e,t){var n;super(e,t),n=this,this.removeTarget=e=>{const t=this.getPluginState().targets.filter((t=>t.id!==e.id));this.setPluginState({targets:t})},this.addTarget=e=>{const t=e.id||e.constructor.name,n=e.title||t,r=e.type;if("acquirer"!==r&&"progressindicator"!==r&&"editor"!==r){const e="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";return void this.uppy.log(e,"error")}const i={id:t,name:n,type:r},o=this.getPluginState().targets.slice();return o.push(i),this.setPluginState({targets:o}),this.el},this.hideAllPanels=()=>{const e=this.getPluginState(),t={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};e.activePickerPanel===t.activePickerPanel&&e.showAddFilesPanel===t.showAddFilesPanel&&e.showFileEditor===t.showFileEditor&&e.activeOverlayType===t.activeOverlayType||this.setPluginState(t)},this.showPanel=e=>{const{targets:t}=this.getPluginState(),n=t.filter((t=>"acquirer"===t.type&&t.id===e))[0];this.setPluginState({activePickerPanel:n,activeOverlayType:"PickerPanel"})},this.canEditFile=e=>{const{targets:t}=this.getPluginState();return zf(this,lm)[lm](t).some((t=>this.uppy.getPlugin(t.id).canEditFile(e)))},this.openFileEditor=e=>{const{targets:t}=this.getPluginState(),n=zf(this,lm)[lm](t);this.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),n.forEach((t=>{this.uppy.getPlugin(t.id).selectFile(e)}))},this.saveFileEditor=()=>{const{targets:e}=this.getPluginState();zf(this,lm)[lm](e).forEach((e=>{this.uppy.getPlugin(e.id).save()})),this.hideAllPanels()},this.openModal=()=>{const{promise:e,resolve:t}=tm();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const e=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",e,!1),t()};this.el.addEventListener("animationend",e,!1)}else this.setPluginState({isHidden:!1}),t();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),e},this.closeModal=function(e){void 0===e&&(e={});const{manualClose:t=!0}=e,{isHidden:r,isClosing:i}=n.getPluginState();if(r||i)return;const{promise:o,resolve:s}=tm();if(n.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),n.opts.animateOpenClose){n.setPluginState({isClosing:!0});const e=()=>{n.setPluginState({isHidden:!0,isClosing:!1}),n.superFocus.cancel(),n.savedActiveElement.focus(),n.el.removeEventListener("animationend",e,!1),s()};n.el.addEventListener("animationend",e,!1)}else n.setPluginState({isHidden:!0}),n.superFocus.cancel(),n.savedActiveElement.focus(),s();var a;(document.removeEventListener("keydown",n.handleKeyDownInModal),t)&&(n.opts.browserBackButtonClose&&null!=(a=history.state)&&a[n.modalName]&&history.back());return n.uppy.emit("dashboard:modal-closed"),o},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=e=>{const{capabilities:t}=this.uppy.getState();this.uppy.setState({capabilities:{...t,darkMode:e}})},this.handleSystemDarkModeChange=e=>{const t=e.matches;this.uppy.log(`[Dashboard] Dark mode is ${t?"on":"off"}`),this.setDarkModeCapability(t)},this.toggleFileCard=(e,t)=>{const n=this.uppy.getFile(t);e?this.uppy.emit("dashboard:file-edit-start",n):this.uppy.emit("dashboard:file-edit-complete",n),this.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},this.toggleAddFilesPanel=e=>{this.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},this.addFiles=e=>{const t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||e.webkitRelativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver((e=>{const t=e[0],{width:n,height:r}=t.contentRect;this.uppy.log(`[Dashboard] resized: ${n} / ${r}`,"debug"),this.setPluginState({containerWidth:n,containerHeight:r,areInsidesReadyToBeVisible:!0})})),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout((()=>{const e=this.getPluginState(),t=!this.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))}),1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=e=>{this.el.contains(e.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=e=>{const t=Wf(this.el.querySelectorAll(Gf));e?t.forEach((e=>{const t=e.getAttribute("tabindex");t&&(e.dataset.inertTabindex=t),e.setAttribute("tabindex","-1")})):t.forEach((e=>{"inertTabindex"in e.dataset?e.setAttribute("tabindex",e.dataset.inertTabindex):e.removeAttribute("tabindex")})),this.dashboardIsDisabled=e},this.updateBrowserHistory=()=>{var e;null!=(e=history.state)&&e[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=e=>{var t;!this.isModalOpen()||e.state&&e.state[this.modalName]||this.closeModal({manualClose:!1}),!this.isModalOpen()&&null!=(t=e.state)&&t[this.modalName]&&history.back()},this.handleKeyDownInModal=e=>{e.keyCode===em&&this.requestCloseModal(e),e.keyCode===Xf&&Ff.forModal(e,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=e=>{this.uppy.iteratePlugins((t=>{"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))}));const t=Wf(e.clipboardData.files);t.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(t))},this.handleInputChange=e=>{e.preventDefault();const t=Wf(e.target.files);t.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(t))},this.handleDragOver=e=>{var t,n;e.preventDefault(),e.stopPropagation();const r=(()=>{let t=!0;return this.uppy.iteratePlugins((n=>{null!=n.canHandleRootDrop&&n.canHandleRootDrop(e)&&(t=!0)})),t})(),i=(()=>{const{types:t}=e.dataTransfer;return t.some((e=>"Files"===e))})();if(!r&&!i||this.opts.disabled||this.opts.disableLocalFiles&&(i||!r)||!this.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(n=this.opts).onDragOver)||t.call(n,e)},this.handleDragLeave=e=>{var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{this.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=this.opts).onDragLeave)||t.call(n,e)},this.handleDrop=async e=>{var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins((t=>{"acquirer"===t.type&&(null==t.handleRootDrop||t.handleRootDrop(e))}));let r=!1;const i=await qf(e.dataTransfer,{logDropError:e=>{this.uppy.log(e,"error"),r||(this.uppy.info(e.message,"error"),r=!0)}});i.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(i)),null==(t=(n=this.opts).onDrop)||t.call(n,e)},this.handleRequestThumbnail=e=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",e)},this.handleCancelThumbnail=e=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",e)},this.handleKeyDownInInline=e=>{e.keyCode===Xf&&Ff.forInline(e,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=e=>{this.el.contains(document.activeElement)&&this.handlePaste(e)},this.handleComplete=e=>{let{failed:t}=e;this.opts.closeAfterFinish&&0===t.length&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,rm,{writable:!0,value:e=>{const t=e[0];this.canEditFile(t)&&this.openFileEditor(t)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const e=Vf(this.opts.trigger);e?e.forEach((e=>e.addEventListener("click",this.openModal))):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",zf(this,rm)[rm])},this.removeEvents=()=>{const e=Vf(this.opts.trigger);!this.opts.inline&&e&&e.forEach((e=>e.removeEventListener("click",this.openModal))),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",zf(this,rm)[rm])},this.superFocusOnEachUpdate=()=>{const e=this.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,n=0===this.uppy.getState().info.length,r=!this.opts.inline;n&&(r||e||t&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{!this.opts.disabled||this.dashboardIsDisabled?(!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()):this.disableAllFocusableElements(!0)},this.saveFileCard=(e,t)=>{this.uppy.setFileMeta(t,e),this.toggleFileCard(!1,t)},Object.defineProperty(this,im,{writable:!0,value:e=>{const t=this.uppy.getPlugin(e.id);return{...e,icon:t.icon||this.opts.defaultPickerIcon,render:t.render}}}),Object.defineProperty(this,om,{writable:!0,value:e=>{const t=this.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}}),Object.defineProperty(this,sm,{writable:!0,value:Zf((e=>e.filter((e=>"acquirer"===e.type&&zf(this,om)[om](e))).map(zf(this,im)[im])))}),Object.defineProperty(this,am,{writable:!0,value:Zf((e=>e.filter((e=>"progressindicator"===e.type)).map(zf(this,im)[im])))}),Object.defineProperty(this,lm,{writable:!0,value:Zf((e=>e.filter((e=>"editor"===e.type)).map(zf(this,im)[im])))}),this.render=e=>{const t=this.getPluginState(),{files:n,capabilities:r,allowNewUpload:i}=e,{newFiles:o,uploadStartedFiles:s,completeFiles:a,erroredFiles:l,inProgressFiles:c,inProgressNotPausedFiles:u,processingFiles:d,isUploadStarted:p,isAllComplete:h,isAllErrored:f,isAllPaused:m}=this.uppy.getObjectOfFilesPerState(),g=zf(this,sm)[sm](t.targets),b=zf(this,am)[am](t.targets),y=zf(this,lm)[lm](t.targets);let v;return v="auto"===this.opts.theme?r.darkMode?"dark":"light":this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Qf({state:e,isHidden:t.isHidden,files:n,newFiles:o,uploadStartedFiles:s,completeFiles:a,erroredFiles:l,inProgressFiles:c,inProgressNotPausedFiles:u,processingFiles:d,isUploadStarted:p,isAllComplete:h,isAllErrored:f,isAllPaused:m,totalFileCount:Object.keys(n).length,totalProgress:e.totalProgress,allowNewUpload:i,acquirers:g,theme:v,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:t.activePickerPanel,showFileEditor:t.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:t.isClosing,progressindicators:b,editors:y,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:e.recoveredState,metaFields:t.metaFields,resumableUploads:r.resumableUploads||!1,individualCancellation:r.individualCancellation,isMobileDevice:r.isMobileDevice,fileCardFor:t.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:t.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:t.containerWidth,containerHeight:t.containerHeight,areInsidesReadyToBeVisible:t.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:t.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins((e=>{e&&!e.target&&e.opts&&e.opts.target===this.constructor&&this.addTarget(e)}))},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:e,closeAfterFinish:t}=this.opts;if(e&&t)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:n,allowMultipleUploadBatches:r}=this.uppy.opts;(n||r)&&t&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:i}=this.opts;i&&this.mount(i,this);(this.opts.plugins||[]).forEach((e=>{const t=this.uppy.getPlugin(e);t&&t.mount(this,t)})),this.opts.disableStatusBar||this.uppy.use(Uf,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(Hf,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use($f,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const o=!!this.darkModeMediaQuery&&this.darkModeMediaQuery.matches;this.uppy.log(`[Dashboard] Dark mode is ${o?"on":"off"}`),this.setDarkModeCapability(o),"auto"===this.opts.theme&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const e=this.uppy.getPlugin(`${this.id}:Informer`);e&&this.uppy.removePlugin(e)}if(!this.opts.disableStatusBar){const e=this.uppy.getPlugin(`${this.id}:StatusBar`);e&&this.uppy.removePlugin(e)}if(!this.opts.disableThumbnailGenerator){const e=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);e&&this.uppy.removePlugin(e)}(this.opts.plugins||[]).forEach((e=>{const t=this.uppy.getPlugin(e);t&&t.unmount()})),"auto"===this.opts.theme&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${(0,Rf.nanoid)()}`,this.defaultLocale=Jf;const r={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:nm,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.reset(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...r,...t},this.i18nInit(),this.superFocus=Yf(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}}cm.VERSION="2.4.3",Tu.exports=cm;var um={exports:{}},dm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function pm(){}function hm(){}hm.resetWarningCache=pm;um.exports=function(){function e(e,t,n,r,i,o){if(o!==dm){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hm,resetWarningCache:pm};return n.PropTypes=n,n}();const fm=um.exports,mm=Ga.exports.Uppy,gm=fm.instanceOf(mm).isRequired,bm=fm.arrayOf(fm.string),ym=fm.shape({strings:fm.object,pluralize:fm.func}),vm=fm.shape({id:fm.string.isRequired,name:fm.string.isRequired,placeholder:fm.string}),wm=fm.oneOfType([fm.arrayOf(vm),fm.func]),_m=fm.oneOfType([fm.string,fm.number]);var xm={uppy:gm,locale:ym,dashboard:{uppy:gm,inline:fm.bool,plugins:bm,width:_m,height:_m,showProgressDetails:fm.bool,hideUploadButton:fm.bool,hideProgressAfterFinish:fm.bool,note:fm.string,metaFields:wm,proudlyDisplayPoweredByUppy:fm.bool,disableStatusBar:fm.bool,disableInformer:fm.bool,disableThumbnailGenerator:fm.bool,thumbnailWidth:fm.number,locale:ym}};const km=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Em=/^(aria-|data-)/;var Mm=e=>Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return Em.test(t)||km.includes(t)})));var Cm=function(e,t){return Object.keys(e.props).some((n=>!((e,t)=>Object.prototype.hasOwnProperty.call(e,t))(e.validProps,n)&&e.props[n]!==t[n]))};const Dm=c,Sm=Tu.exports,Am=xm.dashboard,Nm=Mm,Om=Cm,Tm=Dm.createElement;class Im extends Dm.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Om(this,e)){const e={...this.props,target:this.container};delete e.uppy,this.plugin.setOptions(e)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e}=this.props,t={id:"react:Dashboard",...this.props,target:this.container};delete t.uppy,e.use(Sm,t),this.plugin=e.getPlugin(t.id)}uninstallPlugin(e){void 0===e&&(e=this.props);const{uppy:t}=e;t.removePlugin(this.plugin)}render(){return this.validProps=Nm(this.props),Tm("div",{className:"uppy-Container",ref:e=>{this.container=e},...this.validProps})}}Im.propTypes=Am,Im.defaultProps={inline:!0};const Lm=c,jm=um.exports,Rm=Tu.exports,Fm=xm.dashboard,zm=Mm,Pm=Cm,Bm=Lm.createElement;class Um extends Lm.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Pm(this,e)){const e={...this.props,onRequestCloseModal:this.props.onRequestClose};delete e.uppy,this.plugin.setOptions(e)}e.open&&!this.props.open?this.plugin.closeModal():!e.open&&this.props.open&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e}=this.props,t={id:"react:DashboardModal",...this.props,onRequestCloseModal:this.props.onRequestClose};t.target||(t.target=this.container),delete t.uppy,e.use(Rm,t),this.plugin=e.getPlugin(t.id),this.props.open&&this.plugin.openModal()}uninstallPlugin(e){void 0===e&&(e=this.props);const{uppy:t}=e;t.removePlugin(this.plugin)}render(){return this.validProps=zm(this.props),Bm("div",{className:"uppy-Container",ref:e=>{this.container=e},...this.validProps})}}Um.propTypes={target:"undefined"!=typeof window?jm.instanceOf(window.HTMLElement):jm.any,open:jm.bool,onRequestClose:jm.func,closeModalOnClickOutside:jm.bool,disablePageScrollWhenModalOpen:jm.bool,...Fm};var Hm={exports:{}},$m=Ga.exports,Vm=Vc;const Wm=Lu,qm=zp,Km=up,Gm={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};class Ym extends $m.UIPlugin{constructor(e,t){super(e,t),this.handleDrop=async e=>{var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});const r=await Km(e.dataTransfer,{logDropError:e=>{this.uppy.log(e,"error")}});r.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(r)),null==(t=(n=this.opts).onDrop)||t.call(n,e)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=Gm;this.opts={target:null,inputName:"files[]",width:"100%",height:"100%",note:null,...t},this.i18nInit(),this.isDragDropSupported=qm(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(e){const t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}}onInputChange(e){const t=Wm(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null}handleDragOver(e){var t,n;e.preventDefault(),e.stopPropagation();const{types:r}=e.dataTransfer,i=r.some((e=>"Files"===e)),{allowNewUpload:o}=this.uppy.getState();if(!i||!o)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(n=this.opts).onDragOver)||t.call(n,e)}handleDragLeave(e){var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{this.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=this.opts).onDragLeave)||t.call(n,e)}renderHiddenFileInput(){const{restrictions:e}=this.uppy.opts;return(0,Vm.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:e=>{this.fileInputRef=e},name:this.opts.inputName,multiple:1!==e.maxNumberOfFiles,accept:e.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return(0,Vm.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,Vm.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return(0,Vm.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,Vm.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return(0,Vm.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){const e=`uppy-u-reset\n      uppy-DragDrop-container\n      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}\n      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}\n    `,t={width:this.opts.width,height:this.opts.height};return(0,Vm.h)("button",{type:"button",className:e,style:t,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,Vm.h)("div",{className:"uppy-DragDrop-inner"},Ym.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:e}=this.opts;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}uninstall(){this.unmount()}}Ym.VERSION="2.1.2";const Qm=c,Jm=Hm.exports=Ym,Zm=xm,Xm=Mm,eg=Cm,tg=Qm.createElement;class ng extends Qm.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(eg(this,e)){const e={...this.props,target:this.container};delete e.uppy,this.plugin.setOptions(e)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e}=this.props,t={id:"react:DragDrop",...this.props,target:this.container};delete t.uppy,e.use(Jm,t),this.plugin=e.getPlugin(t.id)}uninstallPlugin(e){void 0===e&&(e=this.props);const{uppy:t}=e;t.removePlugin(this.plugin)}render(){return this.validProps=Xm(this.props),tg("div",{className:"uppy-Container",ref:e=>{this.container=e},...this.validProps})}}ng.propTypes={uppy:Zm.uppy,locale:Zm.locale},ng.defaultProps={};var rg=ng,ig={exports:{}},og=Vc,sg=Ga.exports;class ag extends sg.UIPlugin{constructor(e,t){super(e,t),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";this.opts={target:"body",fixed:!1,hideAfterFinish:!0,...t},this.render=this.render.bind(this)}render(e){const t=e.totalProgress||0,n=(0===t||100===t)&&this.opts.hideAfterFinish;return(0,og.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},(0,og.h)("div",{className:"uppy-ProgressBar-inner",style:{width:`${t}%`}}),(0,og.h)("div",{className:"uppy-ProgressBar-percentage"},t))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}ag.VERSION="2.1.2",ig.exports=ag;const lg=c,cg=um.exports,ug=ig.exports,dg=xm.uppy,pg=Mm,hg=Cm,fg=lg.createElement;class mg extends lg.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(hg(this,e)){const e={...this.props,target:this.container};delete e.uppy,this.plugin.setOptions(e)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e}=this.props,t={id:"react:ProgressBar",...this.props,target:this.container};delete t.uppy,e.use(ug,t),this.plugin=e.getPlugin(t.id)}uninstallPlugin(e){void 0===e&&(e=this.props);const{uppy:t}=e;t.removePlugin(this.plugin)}render(){return this.validProps=pg(this.props),fg("div",{className:"uppy-Container",ref:e=>{this.container=e},...this.validProps})}}mg.propTypes={uppy:dg,fixed:cg.bool,hideAfterFinish:cg.bool},mg.defaultProps={};const gg=c,bg=um.exports,yg=Hu.exports,vg=xm.uppy,wg=Mm,_g=Cm,xg=gg.createElement;class kg extends gg.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(_g(this,e)){const e={...this.props,target:this.container};delete e.uppy,this.plugin.setOptions(e)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e}=this.props,t={id:"react:StatusBar",...this.props,target:this.container};delete t.uppy,e.use(yg,t),this.plugin=e.getPlugin(t.id)}uninstallPlugin(e){void 0===e&&(e=this.props);const{uppy:t}=e;t.removePlugin(this.plugin)}render(){return this.validProps=wg(this.props),xg("div",{className:"uppy-Container",ref:e=>{this.container=e},...this.validProps})}}kg.propTypes={uppy:vg,hideAfterFinish:bg.bool,showProgressDetails:bg.bool},kg.defaultProps={};var Eg={exports:{}},Mg=Ga.exports,Cg=Vc;const Dg=Lu,Sg={strings:{chooseFiles:"Choose files"}};class Ag extends Mg.UIPlugin{constructor(e,t){super(e,t),this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=Sg;this.opts={target:null,pretty:!0,inputName:"files[]",...t},this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(e){const t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}}handleInputChange(e){this.uppy.log("[FileInput] Something selected through input...");const t=Dg(e.target.files);this.addFiles(t),e.target.value=null}handleClick(){this.input.click()}render(){const{restrictions:e}=this.uppy.opts,t=e.allowedFileTypes?e.allowedFileTypes.join(","):null;return(0,Cg.h)("div",{className:"uppy-FileInput-container"},(0,Cg.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==e.maxNumberOfFiles,accept:t,ref:e=>{this.input=e}}),this.opts.pretty&&(0,Cg.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}Ag.VERSION="2.1.2",Eg.exports=Ag;const Ng=um.exports,Og=c,Tg=Eg.exports,Ig=xm,Lg=Og.createElement;class jg extends Og.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e}=this.props,t={id:"react:FileInput",...this.props,target:this.container};delete t.uppy,e.use(Tg,t),this.plugin=e.getPlugin(t.id)}uninstallPlugin(e){void 0===e&&(e=this.props);const{uppy:t}=e;t.removePlugin(this.plugin)}render(){return Lg("div",{className:"uppy-Container",ref:e=>{this.container=e}})}}jg.propTypes={uppy:Ig.uppy,locale:Ig.locale,pretty:Ng.bool,inputName:Ng.string},jg.defaultProps={};const{useEffect:Rg,useRef:Fg}=c,zg=Ga.exports.Uppy;const Pg=5*1024*1024,Bg={autoProceed:!0,allowMultipleUploads:!1,restrictions:{maxNumberOfFiles:1,maxFileSize:Pg,allowedFileTypes:[".jpg",".jpeg",".png",".gif"]}},Ug={autoProceed:!0,allowMultipleUploads:!1,restrictions:{maxNumberOfFiles:1,maxFileSize:100*1024*1024,allowedFileTypes:[".mp4",".mov",".avi",".mkv"]}},Hg={formData:!0,fieldName:"blob"},$g=[{title:"Upload",key:"local"},{title:"Link",key:"link"},{title:"Unsplash",key:"unsplash"}],Vg=e=>{const t=["B","KB","MB","GB"];let n=0;for(;e>=1024&&n<t.length;)e/=1024,++n;return`${e.toFixed(1)} ${t[n]}`};function Wg(e){return Wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(e)}function qg(e){var t=function(e,t){if("object"!==Wg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wg(t)?t:String(t)}function Kg(e,t,n){return(t=qg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gg=(e,t,n)=>ve.post(e,t,{...n,transformRequestCase:!1,transformResponseCase:!1}),Yg=(e,t,n)=>ve.put(e,t,{...n,transformRequestCase:!1,transformResponseCase:!1,showToastr:!1}),Qg=e=>{let{url:t,signedId:n,payload:r}=e;return ve.patch(`${t}/${n}/`,r,{transformRequestCase:!1,transformResponseCase:!1})},Jg=(e,t)=>ve.delete(`${e}/${t}`);var Zg={exports:{}};function Xg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eb,tb={exports:{}};function nb(){return eb?tb.exports:(eb=1,tb.exports=function(){var e=e||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==Ci&&Ci.crypto&&(n=Ci.crypto),!n&&"function"==typeof Xg)try{n=require("crypto")}catch(e){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},a=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new l.init(t,e)}}),c=o.enc={},u=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},d=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},p=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*c,o);if(c){for(var d=0;d<c;d+=s)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=h.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:512/32,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=o.algo={};return o}(Math);return e}())}var rb,ib={exports:{}};function ob(){return rb?ib.exports:(rb=1,ib.exports=function(e){return function(t){var n=e,r=n.lib,i=r.Base,o=r.WordArray,s=n.x64={};s.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),e}(nb()))}var sb,ab={exports:{}};function lb(){return sb?ab.exports:(sb=1,ab.exports=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,r=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)};r.prototype=t}}(),e.lib.WordArray}(nb()))}var cb,ub={exports:{}};function db(){return cb?ub.exports:(cb=1,ub.exports=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return n.create(r,2*t)}},r.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var s=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return n.create(r,2*t)}}}(),e.enc.Utf16}(nb()))}var pb,hb={exports:{}};function fb(){return pb?hb.exports:(pb=1,hb.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return n.create(i,o)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return r(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(nb()))}var mb,gb={exports:{}};function bb(){return mb?gb.exports:(mb=1,gb.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return n.create(i,o)}t.enc.Base64url={stringify:function(e,t=!0){var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<r;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,l=0;l<4&&s+.75*l<r;l++)o.push(i.charAt(a>>>6*(3-l)&63));var c=i.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e,t=!0){var n=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<i.length;s++)o[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(n=l)}return r(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url}(nb()))}var yb,vb={exports:{}};function wb(){return yb?vb.exports:(yb=1,vb.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],l=e[t+1],h=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],b=e[t+6],y=e[t+7],v=e[t+8],w=e[t+9],_=e[t+10],x=e[t+11],k=e[t+12],E=e[t+13],M=e[t+14],C=e[t+15],D=o[0],S=o[1],A=o[2],N=o[3];D=c(D,S,A,N,s,7,a[0]),N=c(N,D,S,A,l,12,a[1]),A=c(A,N,D,S,h,17,a[2]),S=c(S,A,N,D,f,22,a[3]),D=c(D,S,A,N,m,7,a[4]),N=c(N,D,S,A,g,12,a[5]),A=c(A,N,D,S,b,17,a[6]),S=c(S,A,N,D,y,22,a[7]),D=c(D,S,A,N,v,7,a[8]),N=c(N,D,S,A,w,12,a[9]),A=c(A,N,D,S,_,17,a[10]),S=c(S,A,N,D,x,22,a[11]),D=c(D,S,A,N,k,7,a[12]),N=c(N,D,S,A,E,12,a[13]),A=c(A,N,D,S,M,17,a[14]),D=u(D,S=c(S,A,N,D,C,22,a[15]),A,N,l,5,a[16]),N=u(N,D,S,A,b,9,a[17]),A=u(A,N,D,S,x,14,a[18]),S=u(S,A,N,D,s,20,a[19]),D=u(D,S,A,N,g,5,a[20]),N=u(N,D,S,A,_,9,a[21]),A=u(A,N,D,S,C,14,a[22]),S=u(S,A,N,D,m,20,a[23]),D=u(D,S,A,N,w,5,a[24]),N=u(N,D,S,A,M,9,a[25]),A=u(A,N,D,S,f,14,a[26]),S=u(S,A,N,D,v,20,a[27]),D=u(D,S,A,N,E,5,a[28]),N=u(N,D,S,A,h,9,a[29]),A=u(A,N,D,S,y,14,a[30]),D=d(D,S=u(S,A,N,D,k,20,a[31]),A,N,g,4,a[32]),N=d(N,D,S,A,v,11,a[33]),A=d(A,N,D,S,x,16,a[34]),S=d(S,A,N,D,M,23,a[35]),D=d(D,S,A,N,l,4,a[36]),N=d(N,D,S,A,m,11,a[37]),A=d(A,N,D,S,y,16,a[38]),S=d(S,A,N,D,_,23,a[39]),D=d(D,S,A,N,E,4,a[40]),N=d(N,D,S,A,s,11,a[41]),A=d(A,N,D,S,f,16,a[42]),S=d(S,A,N,D,b,23,a[43]),D=d(D,S,A,N,w,4,a[44]),N=d(N,D,S,A,k,11,a[45]),A=d(A,N,D,S,C,16,a[46]),D=p(D,S=d(S,A,N,D,h,23,a[47]),A,N,s,6,a[48]),N=p(N,D,S,A,y,10,a[49]),A=p(A,N,D,S,M,15,a[50]),S=p(S,A,N,D,g,21,a[51]),D=p(D,S,A,N,k,6,a[52]),N=p(N,D,S,A,f,10,a[53]),A=p(A,N,D,S,_,15,a[54]),S=p(S,A,N,D,l,21,a[55]),D=p(D,S,A,N,v,6,a[56]),N=p(N,D,S,A,C,10,a[57]),A=p(A,N,D,S,b,15,a[58]),S=p(S,A,N,D,E,21,a[59]),D=p(D,S,A,N,m,6,a[60]),N=p(N,D,S,A,x,10,a[61]),A=p(A,N,D,S,h,15,a[62]),S=p(S,A,N,D,w,21,a[63]),o[0]=o[0]+D|0,o[1]=o[1]+S|0,o[2]=o[2]+A|0,o[3]=o[3]+N|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),s=r;n[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[(i+64>>>9<<4)+14]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+i+s;return(a<<o|a>>>32-o)+t}function u(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+i+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,r,i,o,s){var a=e+(t^n^r)+i+s;return(a<<o|a>>>32-o)+t}function p(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+i+s;return(a<<o|a>>>32-o)+t}n.MD5=o._createHelper(l),n.HmacMD5=o._createHmacHelper(l)}(Math),e.MD5}(nb()))}var _b,xb={exports:{}};function kb(){return _b?xb.exports:(_b=1,xb.exports=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,s=[],a=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],c=0;c<80;c++){if(c<16)s[c]=0|e[t+c];else{var u=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=u<<1|u>>>31}var d=(r<<5|r>>>27)+l+s[c];d+=c<20?(i&o|~i&a)+1518500249:c<40?(i^o^a)+1859775393:c<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,l=a,a=o,o=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(r+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)}(),e.SHA1}(nb()))}var Eb,Mb={exports:{}};function Cb(){return Eb?Mb.exports:(Eb=1,Mb.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,1/2))),l[i]=n(t.pow(r,1/3)),i++),r++}();var c=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],d=n[6],p=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var f=c[h-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=c[h-2],b=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=m+c[h-7]+b+c[h-16]}var y=r&i^r&o^i&o,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&d)+l[h]+c[h];p=d,d=u,u=a,a=s+w|0,s=o,o=i,i=r,r=w+(v+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+p|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=t.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(u),n.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256}(nb()))}var Db,Sb={exports:{}};var Ab,Nb={exports:{}};function Ob(){return Ab?Nb.exports:(Ab=1,Nb.exports=function(e){return function(){var t=e,n=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,s=t.algo;function a(){return i.create.apply(i,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var u=s.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],d=n[6],p=n[7],h=r.high,f=r.low,m=i.high,g=i.low,b=o.high,y=o.low,v=s.high,w=s.low,_=a.high,x=a.low,k=u.high,E=u.low,M=d.high,C=d.low,D=p.high,S=p.low,A=h,N=f,O=m,T=g,I=b,L=y,j=v,R=w,F=_,z=x,P=k,B=E,U=M,H=C,$=D,V=S,W=0;W<80;W++){var q,K,G=c[W];if(W<16)K=G.high=0|e[t+2*W],q=G.low=0|e[t+2*W+1];else{var Y=c[W-15],Q=Y.high,J=Y.low,Z=(Q>>>1|J<<31)^(Q>>>8|J<<24)^Q>>>7,X=(J>>>1|Q<<31)^(J>>>8|Q<<24)^(J>>>7|Q<<25),ee=c[W-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[W-7],se=oe.high,ae=oe.low,le=c[W-16],ce=le.high,ue=le.low;K=(K=(K=Z+se+((q=X+ae)>>>0<X>>>0?1:0))+re+((q+=ie)>>>0<ie>>>0?1:0))+ce+((q+=ue)>>>0<ue>>>0?1:0),G.high=K,G.low=q}var de,pe=F&P^~F&U,he=z&B^~z&H,fe=A&O^A&I^O&I,me=N&T^N&L^T&L,ge=(A>>>28|N<<4)^(A<<30|N>>>2)^(A<<25|N>>>7),be=(N>>>28|A<<4)^(N<<30|A>>>2)^(N<<25|A>>>7),ye=(F>>>14|z<<18)^(F>>>18|z<<14)^(F<<23|z>>>9),ve=(z>>>14|F<<18)^(z>>>18|F<<14)^(z<<23|F>>>9),we=l[W],_e=we.high,xe=we.low,ke=$+ye+((de=V+ve)>>>0<V>>>0?1:0),Ee=be+me;$=U,V=H,U=P,H=B,P=F,B=z,F=j+(ke=(ke=(ke=ke+pe+((de+=he)>>>0<he>>>0?1:0))+_e+((de+=xe)>>>0<xe>>>0?1:0))+K+((de+=q)>>>0<q>>>0?1:0))+((z=R+de|0)>>>0<R>>>0?1:0)|0,j=I,R=L,I=O,L=T,O=A,T=N,A=ke+(ge+fe+(Ee>>>0<be>>>0?1:0))+((N=de+Ee|0)>>>0<de>>>0?1:0)|0}f=r.low=f+N,r.high=h+A+(f>>>0<N>>>0?1:0),g=i.low=g+T,i.high=m+O+(g>>>0<T>>>0?1:0),y=o.low=y+L,o.high=b+I+(y>>>0<L>>>0?1:0),w=s.low=w+R,s.high=v+j+(w>>>0<R>>>0?1:0),x=a.low=x+z,a.high=_+F+(x>>>0<z>>>0?1:0),E=u.low=E+B,u.high=k+P+(E>>>0<B>>>0?1:0),C=d.low=C+H,d.high=M+U+(C>>>0<H>>>0?1:0),S=p.low=S+V,p.high=D+$+(S>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+128>>>10<<5)+30]=Math.floor(n/4294967296),t[(r+128>>>10<<5)+31]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:1024/32});t.SHA512=n._createHelper(u),t.HmacSHA512=n._createHmacHelper(u)}(),e.SHA512}(nb(),ob()))}var Tb,Ib={exports:{}};var Lb,jb={exports:{}};function Rb(){return Lb?jb.exports:(Lb=1,jb.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.x64.Word,a=n.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,d=0,p=0;p<7;p++){if(1&i){var h=(1<<p)-1;h<32?d^=1<<h:a^=1<<h-32}128&i?i=i<<1^113:i<<=1}u[o]=s.create(a,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=s.create()}();var p=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(S=n[i]).high^=s,S.low^=o}for(var a=0;a<24;a++){for(var p=0;p<5;p++){for(var h=0,f=0,m=0;m<5;m++)h^=(S=n[p+5*m]).high,f^=S.low;var g=d[p];g.high=h,g.low=f}for(p=0;p<5;p++){var b=d[(p+4)%5],y=d[(p+1)%5],v=y.high,w=y.low;for(h=b.high^(v<<1|w>>>31),f=b.low^(w<<1|v>>>31),m=0;m<5;m++)(S=n[p+5*m]).high^=h,S.low^=f}for(var _=1;_<25;_++){var x=(S=n[_]).high,k=S.low,E=l[_];E<32?(h=x<<E|k>>>32-E,f=k<<E|x>>>32-E):(h=k<<E-32|x>>>64-E,f=x<<E-32|k>>>64-E);var M=d[c[_]];M.high=h,M.low=f}var C=d[0],D=n[0];for(C.high=D.high,C.low=D.low,p=0;p<5;p++)for(m=0;m<5;m++){var S=n[_=p+5*m],A=d[_],N=d[(p+1)%5+5*m],O=d[(p+2)%5+5*m];S.high=A.high^~N.high&O.high,S.low=A.low^~N.low&O.low}S=n[0];var T=u[a];S.high^=T.high,S.low^=T.low}},_doFinalize:function(){var e=this._data,n=e.words;this._nDataBytes;var r=8*e.sigBytes,o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,c=[],u=0;u<l;u++){var d=s[u],p=d.high,h=d.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(p)}return new i.init(c,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(p),n.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3}(nb(),ob()))}var Fb,zb={exports:{}};var Pb,Bb={exports:{}};function Ub(){return Pb?Bb.exports:(Pb=1,Bb.exports=function(e){!function(){var t=e,n=t.lib.Base,r=t.enc.Utf8;t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,l=s.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}()}(nb()))}var Hb,$b={exports:{}};var Vb,Wb={exports:{}};function qb(){return Vb?Wb.exports:(Vb=1,Wb.exports=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=r.extend({cfg:r.extend({keySize:128/32,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),s=i.create(),a=s.words,l=r.keySize,c=r.iterations;a.length<l;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<c;u++)n=o.finalize(n),o.reset();s.concat(n)}return s.sigBytes=4*l,s}});t.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),e.EvpKDF}(nb(),kb(),Ub()))}var Kb,Gb={exports:{}};function Yb(){return Kb?Gb.exports:(Kb=1,Gb.exports=function(e){e.lib.Cipher||function(t){var n=e,r=n.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=n.enc;a.Utf8;var l=a.Base64,c=n.algo.EvpKDF,u=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:b}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()});r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!!"flush")},blockSize:1});var d=n.mode={},p=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var e=p.extend();function n(e,n,r){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var s=0;s<r;s++)e[n+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),e}(),f=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(i);var l=o.create(s,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:f}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!!"flush")):(e=this._process(!!"flush"),t.unpad(e)),e},blockSize:128/32});var m=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=o.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},b=r.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),s=i.cfg;return m.create({ciphertext:o,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(n.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=o.random(64/8));var i=c.create({keySize:t+n}).compute(e,r),s=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,m.create({key:i,iv:s,salt:r})}},v=r.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:y}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,b.decrypt.call(this,e,t,i.key,r)}})}()}(nb(),qb()))}var Qb,Jb={exports:{}};function Zb(){return Qb?Jb.exports:(Qb=1,Jb.exports=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=o}}),t}(),e.mode.CFB}(nb(),Yb()))}var Xb,ey={exports:{}};function ty(){return Xb?ey.exports:(Xb=1,ey.exports=function(e){return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=s[a]}}),t.Decryptor=n,t),e.mode.CTR;var t,n}(nb(),Yb()))}var ny,ry={exports:{}};function iy(){return ny?ry.exports:(ny=1,ry.exports=function(e){
/** @preserve
			 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
			 * derived from CryptoJS.mode.CTR
			 * Jan Hruby jhruby.web@gmail.com
			 */
return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function r(e){return 0===(e[0]=n(e[0]))&&(e[1]=n(e[1])),e}var i=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),r(s);var a=s.slice(0);n.encryptBlock(a,0);for(var l=0;l<i;l++)e[t+l]^=a[l]}});return t.Decryptor=i,t}(),e.mode.CTRGladman}(nb(),Yb()))}var oy,sy={exports:{}};function ay(){return oy?sy.exports:(oy=1,sy.exports=function(e){return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}}),t.Decryptor=n,t),e.mode.OFB;var t,n}(nb(),Yb()))}var ly,cy={exports:{}};var uy,dy={exports:{}};var py,hy={exports:{}};var fy,my={exports:{}};var gy,by={exports:{}};var yy,vy={exports:{}};var wy,_y={exports:{}};var xy,ky={exports:{}};var Ey,My={exports:{}};function Cy(){return Ey?My.exports:(Ey=1,My.exports=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],u=l[o];for(n=0;n<24;n++)c[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),p.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,s=this._rBlock,a=0,l=0;l<8;l++)a|=c[l][((s^i[l])&u[l])>>>0];this._lBlock=s,this._rBlock=o^a}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,p.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=i._createHelper(d);var f=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(r.create(t)),this._des2=d.createEncryptor(r.create(n)),this._des3=d.createEncryptor(r.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(f)}(),e.TripleDES}(nb(),fb(),wb(),qb(),Yb()))}var Dy,Sy={exports:{}};var Ay,Ny={exports:{}};var Oy,Ty={exports:{}};var Iy=Zg.exports=function(e){return e}(nb(),ob(),lb(),db(),fb(),bb(),wb(),kb(),Cb(),Db||(Db=1,Sb.exports=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.algo,i=r.SHA256,o=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=i._createHelper(o),t.HmacSHA224=i._createHmacHelper(o)}(),e.SHA224}(nb(),Cb())),Ob(),Tb||(Tb=1,Ib.exports=function(e){return function(){var t=e,n=t.x64,r=n.Word,i=n.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384}(nb(),ob(),Ob())),Rb(),Fb||(Fb=1,zb.exports=function(e){
/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/
return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,h,w,_,x,k,E,M,C,D,S=this._hash.words,A=d.words,N=p.words,O=a.words,T=l.words,I=c.words,L=u.words;for(x=o=S[0],k=s=S[1],E=h=S[2],M=w=S[3],C=_=S[4],n=0;n<80;n+=1)D=o+e[t+O[n]]|0,D+=n<16?f(s,h,w)+A[0]:n<32?m(s,h,w)+A[1]:n<48?g(s,h,w)+A[2]:n<64?b(s,h,w)+A[3]:y(s,h,w)+A[4],D=(D=v(D|=0,I[n]))+_|0,o=_,_=w,w=v(h,10),h=s,s=D,D=x+e[t+T[n]]|0,D+=n<16?y(k,E,M)+N[0]:n<32?b(k,E,M)+N[1]:n<48?g(k,E,M)+N[2]:n<64?m(k,E,M)+N[3]:f(k,E,M)+N[4],D=(D=v(D|=0,L[n]))+C|0,x=C,C=M,M=v(E,10),E=k,k=D;D=S[1]+h+M|0,S[1]=S[2]+w+C|0,S[2]=S[3]+_+x|0,S[3]=S[4]+o+k|0,S[4]=S[0]+s+E|0,S[0]=D},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function b(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}n.RIPEMD160=o._createHelper(h),n.HmacRIPEMD160=o._createHmacHelper(h)}(),e.RIPEMD160}(nb())),Ub(),Hb||(Hb=1,$b.exports=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,s=o.SHA1,a=o.HMAC,l=o.PBKDF2=r.extend({cfg:r.extend({keySize:128/32,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=a.create(n.hasher,e),o=i.create(),s=i.create([1]),l=o.words,c=s.words,u=n.keySize,d=n.iterations;l.length<u;){var p=r.update(t).finalize(s);r.reset();for(var h=p.words,f=h.length,m=p,g=1;g<d;g++){m=r.finalize(m),r.reset();for(var b=m.words,y=0;y<f;y++)h[y]^=b[y]}o.concat(p),c[0]++}return o.sigBytes=4*u,o}});t.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)}}(),e.PBKDF2}(nb(),kb(),Ub())),qb(),Yb(),Zb(),ty(),iy(),ay(),ly||(ly=1,cy.exports=function(e){return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB;var t}(nb(),Yb())),uy||(uy=1,dy.exports=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}(nb(),Yb())),py||(py=1,hy.exports=function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}(nb(),Yb())),fy||(fy=1,my.exports=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}(nb(),Yb())),gy||(gy=1,by.exports=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding}(nb(),Yb())),yy||(yy=1,vy.exports=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}(nb(),Yb())),wy||(wy=1,_y.exports=function(e){return function(t){var n=e,r=n.lib.CipherParams,i=n.enc.Hex;n.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return r.create({ciphertext:t})}}}(),e.format.Hex}(nb(),Yb())),xy||(xy=1,ky.exports=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo,i=[],o=[],s=[],a=[],l=[],c=[],u=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var f=r^r<<1^r<<2^r<<3^r<<4;f=f>>>8^255&f^99,i[n]=f,o[f]=n;var m=e[n],g=e[m],b=e[g],y=257*e[f]^16843008*f;s[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,l[n]=y<<8|y>>>24,c[n]=y,y=16843009*b^65537*g^257*m^16843008*n,u[f]=y<<24|y>>>8,d[f]=y<<16|y>>>16,p[f]=y<<8|y>>>24,h[f]=y,n?(n=m^e[e[e[b^m]]],r^=e[e[r]]):n=r=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<r;s++)s<n?o[s]=t[s]:(c=o[s-1],s%n?n>6&&s%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=f[s/n|0]<<24),o[s]=o[s-n]^c);for(var a=this._invKeySchedule=[],l=0;l<r;l++){if(s=r-l,l%4)var c=o[s];else c=o[s-4];a[l]=l<4||s<=4?c:u[i[c>>>24]]^d[i[c>>>16&255]]^p[i[c>>>8&255]]^h[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,p,h,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,s,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],h=4,f=1;f<l;f++){var m=r[c>>>24]^i[u>>>16&255]^o[d>>>8&255]^s[255&p]^n[h++],g=r[u>>>24]^i[d>>>16&255]^o[p>>>8&255]^s[255&c]^n[h++],b=r[d>>>24]^i[p>>>16&255]^o[c>>>8&255]^s[255&u]^n[h++],y=r[p>>>24]^i[c>>>16&255]^o[u>>>8&255]^s[255&d]^n[h++];c=m,u=g,d=b,p=y}m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&p])^n[h++],g=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[p>>>8&255]<<8|a[255&c])^n[h++],b=(a[d>>>24]<<24|a[p>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[h++],y=(a[p>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^n[h++],e[t]=m,e[t+1]=g,e[t+2]=b,e[t+3]=y},keySize:256/32});t.AES=n._createHelper(m)}(),e.AES}(nb(),fb(),wb(),qb(),Yb())),Cy(),Dy||(Dy=1,Sy.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=r.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var s=i%n,a=t[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var l=r[i];r[i]=r[o],r[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:256/32,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}t.RC4=n._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=n._createHelper(s)}(),e.RC4}(nb(),fb(),wb(),qb(),Yb())),Ay||(Ay=1,Ny.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],o=[],s=[],a=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=c>>>16|4294901760&u,p=u<<16|65535&c;for(i[0]^=c,i[1]^=d,i[2]^=u,i[3]^=p,i[4]^=c,i[5]^=d,i[6]^=u,i[7]^=p,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:128/32,ivSize:64/32});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,a=r>>>16,l=((i*i>>>17)+i*a>>>15)+a*a,c=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=n._createHelper(a)}(),e.Rabbit}(nb(),fb(),wb(),qb(),Yb())),Oy||(Oy=1,Ty.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],o=[],s=[],a=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=c>>>16|4294901760&u,p=u<<16|65535&c;for(r[0]^=c,r[1]^=d,r[2]^=u,r[3]^=p,r[4]^=c,r[5]^=d,r[6]^=u,r[7]^=p,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:128/32,ivSize:64/32});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,a=r>>>16,l=((i*i>>>17)+i*a>>>15)+a*a,c=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=l^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=n._createHelper(a)}(),e.RabbitLegacy}(nb(),fb(),wb(),qb(),Yb())));const Ly=async e=>{const t=await(e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{const n=Iy.lib.WordArray.create(e.target.result);t(Iy.MD5(n))},r.onerror=()=>n(new Error("Corrupted file")),r.readAsArrayBuffer(e)})))(e);return t.toString(Iy.enc.Base64)};class jy{constructor(e){let{url:t,file:r,progress:i=n}=e;Kg(this,"create",(async()=>{const e=await this.generateUrl(),{url:t,headers:n}=e.direct_upload||e.data.direct_upload;return await this.uploadToCloud(t,n),e})),Kg(this,"generateUrl",(async()=>{const e={blob:{filename:this.file.name,byte_size:this.file.size,content_type:this.file.type,checksum:await Ly(this.file)}};return Gg(this.url,e)})),Kg(this,"abort",(()=>this.abortController.abort())),Kg(this,"uploadToCloud",((e,t)=>{const n={headers:t,onUploadProgress:this.progress,signal:this.abortController.signal};return Yg(e,this.file,n)})),this.url=t,this.file=r,this.progress=i,this.abortController=new AbortController}}class Ry extends Ga.exports.BasePlugin{constructor(e,t){super(e,t),Kg(this,"upload",(e=>{if(w(e))return Promise.resolve();const t=e.map((e=>this.uploadFile(this.uppy.getFile(e))));return Promise.all(t)})),Kg(this,"uploadFile",(async e=>{this.uppy.on("file-removed",(n=>{n.id===e.id&&(t.abort(),w(this.uppy.getFiles())&&this.uppy.emit("complete"))})),this.uppy.on("upload-cancel",(n=>{n===e.id&&t.abort()})),this.uppy.on("cancel-all",(()=>t.abort()));const t=new jy({file:e.data,url:this.opts.directUploadUrl,progress:t=>{t.lengthComputable&&this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t.loaded,bytesTotal:t.total,progress:Math.round(t.loaded/t.total*100)})}});try{const n=await t.create();return this.uppy.setFileState(e.id,{response:{status:"success"}}),this.uppy.emit("upload-success",e,n),e}catch(t){if(!this.uppy.getFile(e.id))return null;throw this.uppy.setFileState(e.id,{response:{status:"error"}}),this.uppy.emit("upload-error",e,t),t}})),this.type="uploader",this.id=t.id||"ActiveStorageUpload",this.title=t.title||"Active Storage Upload"}install(){this.uppy.addUploader(this.upload)}uninstall(){this.uppy.removeUploader(this.upload)}}const Fy=e=>{let{endpoint:t,uppyConfig:r,onSuccess:i=n}=e;const[o,s]=u(!1),a=e=>{const{maxFileSize:t}=r.restrictions;return!(e.size>t)||(C.error(`File size is too large. Max size is  ${Vg(r.restrictions.maxFileSize)}.`),!1)},l=function(e){if("function"!=typeof e)throw new TypeError("useUppy: expected a function that returns a new Uppy instance");const t=Fg(void 0);if(void 0===t.current&&(t.current=e(),!(t.current instanceof zg)))throw new TypeError(`useUppy: factory function must return an Uppy instance, got ${typeof t.current}`);return Rg((()=>()=>{t.current.close({reason:"unmount"}),t.current=void 0}),[t]),t.current}((()=>new Ou({...r,onBeforeFileAdded:a}).use(Ry,{directUploadUrl:t,...Hg}).on("upload",(()=>s(!0))).on("upload-success",((e,t)=>{var n;const r=(null===(n=t.data)||void 0===n?void 0:n.blob_url)||t.blob_url;null==i||i(r)})).on("cancel-all",(()=>s(!1))).on("complete",(()=>{l.reset(),s(!1)}))));return{uppy:l,isUploading:o}};var zy={exports:{}};!function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Ci&&Ci.global===Ci?Ci:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,s){var a=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):r(l.href)?n(e,t,s):i(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,s){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),o);else if(r(e))n(e,o,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){i(a)}))}}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var a="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});o.saveAs=a.saveAs=a,e.exports=a}()}(zy);var Py=zy.exports;const By={autoProceed:!1,allowMultipleUploads:!1,restrictions:{maxFileSize:100*1024*1024}},Uy="Download",Hy="Rename",$y="Delete";function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(this,arguments)}var Wy={grad:.9,turn:360,rad:360/(2*Math.PI)},qy=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},Ky=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Gy=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Yy=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Qy=function(e){return{r:Gy(e.r,0,255),g:Gy(e.g,0,255),b:Gy(e.b,0,255),a:Gy(e.a)}},Jy=function(e){return{r:Ky(e.r),g:Ky(e.g),b:Ky(e.b),a:Ky(e.a,3)}},Zy=/^#([0-9a-f]{3,8})$/i,Xy=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},ev=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),s=o-Math.min(t,n,r),a=s?o===t?(n-r)/s:o===n?2+(r-t)/s:4+(t-n)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:i}},tv=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),s=r*(1-n),a=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),c=o%6;return{r:255*[r,a,s,s,l,r][c],g:255*[l,r,r,a,s,s][c],b:255*[s,s,l,r,r,a][c],a:i}},nv=function(e){return{h:Yy(e.h),s:Gy(e.s,0,100),l:Gy(e.l,0,100),a:Gy(e.a)}},rv=function(e){return{h:Ky(e.h),s:Ky(e.s),l:Ky(e.l),a:Ky(e.a,3)}},iv=function(e){return tv((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},ov=function(e){return{h:(t=ev(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},sv=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,av=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uv={string:[[function(e){var t=Zy.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?Ky(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?Ky(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=lv.exec(e)||cv.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Qy({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=sv.exec(e)||av.exec(e);if(!t)return null;var n,r,i=nv({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(Wy[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return iv(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=void 0===i?1:i;return qy(t)&&qy(n)&&qy(r)?Qy({r:Number(t),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,o=void 0===i?1:i;if(!qy(t)||!qy(n)||!qy(r))return null;var s=nv({h:Number(t),s:Number(n),l:Number(r),a:Number(o)});return iv(s)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,o=void 0===i?1:i;if(!qy(t)||!qy(n)||!qy(r))return null;var s=function(e){return{h:Yy(e.h),s:Gy(e.s,0,100),v:Gy(e.v,0,100),a:Gy(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(o)});return tv(s)},"hsv"]]},dv=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},pv=function(e,t){var n=ov(e);return{h:n.h,s:Gy(n.s+100*t,0,100),l:n.l,a:n.a}},hv=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},fv=function(e,t){var n=ov(e);return{h:n.h,s:n.s,l:Gy(n.l+100*t,0,100),a:n.a}},mv=function(){function e(e){this.parsed=function(e){return"string"==typeof e?dv(e.trim(),uv.string):"object"==typeof e&&null!==e?dv(e,uv.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return Ky(hv(this.rgba),2)},e.prototype.isDark=function(){return hv(this.rgba)<.5},e.prototype.isLight=function(){return hv(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=Jy(this.rgba)).r,n=e.g,r=e.b,o=(i=e.a)<1?Xy(Ky(255*i)):"","#"+Xy(t)+Xy(n)+Xy(r)+o;var e,t,n,r,i,o},e.prototype.toRgb=function(){return Jy(this.rgba)},e.prototype.toRgbString=function(){return t=(e=Jy(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return rv(ov(this.rgba))},e.prototype.toHslString=function(){return t=(e=rv(ov(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=ev(this.rgba),{h:Ky(e.h),s:Ky(e.s),v:Ky(e.v),a:Ky(e.a,3)};var e},e.prototype.invert=function(){return gv({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),gv(pv(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),gv(pv(this.rgba,-e))},e.prototype.grayscale=function(){return gv(pv(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),gv(fv(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),gv(fv(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?gv({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Ky(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=ov(this.rgba);return"number"==typeof e?gv({h:e,s:t.s,l:t.l,a:t.a}):Ky(t.h)},e.prototype.isEqual=function(e){return this.toHex()===gv(e).toHex()},e}(),gv=function(e){return e instanceof mv?e:new mv(e)},bv=[];var yv=1/0,vv="[object Symbol]",wv="object"==typeof Ci&&Ci&&Ci.Object===Object&&Ci,_v="object"==typeof self&&self&&self.Object===Object&&self,xv=wv||_v||Function("return this")(),kv=Object.prototype,Ev=0,Mv=kv.toString,Cv=xv.Symbol,Dv=Cv?Cv.prototype:void 0,Sv=Dv?Dv.toString:void 0;function Av(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&Mv.call(e)==vv}(e))return Sv?Sv.call(e):"";var t=e+"";return"0"==t&&1/e==-yv?"-0":t}var Nv=function(e){var t,n=++Ev;return(null==(t=e)?"":Av(t))+n},Ov={"3d":c.createElement("path",{d:"M18 14.625V3.375L9 0 0 3.375v11.25L9 18l9-3.375zM9 2.136l5.918 2.22-5.98 2.242-5.919-2.22L9 2.137zM2 13.239V5.065l6.438 2.414v8.174L2 13.24zM9.438 15.7L16 13.239V5.018l-6.563 2.46V15.7z",transform:"translate(15 10)",fillRule:"evenodd"}),acrobat:c.createElement("path",{d:"M10.15 1.095C9.938.33 9.42-.051 8.984.005c-.528.068-1.09.382-1.314.876-.63 1.416.685 5.582.887 6.279-1.28 3.863-5.66 11.5-7.806 12.017-.045-.505.225-1.965 3.055-3.785.146-.157.315-.348.393-.472-2.392 1.168-5.492 3.044-3.628 4.448.102.079.259.146.439.213 1.426.528 3.425-1.201 5.435-5.121 2.213-.73 3.999-1.28 6.526-1.662 2.762 1.875 4.616 2.257 5.874 1.774.348-.135.898-.573 1.055-1.145-1.022 1.258-3.414.382-5.323-.82 1.763-.191 3.582-.303 4.369-.056 1 .314.965.808.954.876.079-.27.191-.708-.022-1.056-.842-1.37-4.706-.573-6.11-.427-2.212-1.336-3.74-3.717-4.358-5.436.573-2.212 1.19-3.818.742-5.413zm-.954 4.638C8.826 4.42 8.309 1.5 9.14.556c1.628.932.618 3.144.056 5.177zm3.044 6.514c-2.134.393-3.583.944-5.66 1.764.617-1.202 1.785-4.268 2.346-6.29.787 1.573 1.741 3.111 3.314 4.526z",transform:"translate(14 9)",fillRule:"evenodd"}),audio:c.createElement("path",{d:"M.25 4.75v4.5h3L7 13V1L3.25 4.75h-3zM10.375 7A3.375 3.375 0 0 0 8.5 3.977v6.037A3.355 3.355 0 0 0 10.375 7zM8.5.421v1.545A5.254 5.254 0 0 1 12.25 7a5.254 5.254 0 0 1-3.75 5.032v1.545A6.747 6.747 0 0 0 13.75 7 6.747 6.747 0 0 0 8.5.421z",transform:"translate(17 12)",fillRule:"evenodd"}),binary:c.createElement("path",{d:"M2.338 6.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504C1.274.928.538 2 .538 3.608c0 1.56.576 2.504 1.8 2.504zM1.61 3.408c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zM2.418 5.2c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568zm7.03.8l.088-.944H8.36V.896L7.272.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zm5.199 0l.088-.944h-1.176V.896L12.47.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zM4.25 14l.088-.944H3.162v-4.16l-1.088.088v.592L.89 9.688l.024.824h1.16v2.544H.754V14zm5.198 0l.088-.944H8.36v-4.16l-1.088.088v.592l-1.184.112.024.824h1.16v2.544h-1.32V14zm3.287.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504-1.192 0-1.928 1.072-1.928 2.68 0 1.56.576 2.504 1.8 2.504zm-.728-2.704c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zm.808 1.792c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568z",transform:"translate(16 11)",fillRule:"evenodd"}),code:c.createElement("path",{d:"M4.078 13.67c-1.875-.527-2.812-1.738-2.812-3.634V9.49C1.266 8.437.844 7.911 0 7.911V6.138c.844 0 1.266-.529 1.266-1.586v-.64c.015-.938.257-1.696.726-2.274C2.466 1.06 3.162.64 4.078.38l.492 1.375c-.656.25-.997.95-1.023 2.102v.695c0 1.167-.482 1.99-1.445 2.469.963.479 1.445 1.304 1.445 2.476v.688c.026 1.15.367 1.851 1.023 2.101l-.492 1.383zm7.844 0c1.875-.527 2.812-1.738 2.812-3.634V9.49c0-1.052.422-1.578 1.266-1.578V6.138c-.844 0-1.266-.529-1.266-1.586v-.64c-.015-.938-.257-1.696-.726-2.274-.474-.578-1.17-.998-2.086-1.258l-.492 1.375c.656.25.997.95 1.023 2.102v.695c0 1.167.482 1.99 1.445 2.469-.963.479-1.445 1.304-1.445 2.476v.688c-.026 1.15-.367 1.851-1.023 2.101l.492 1.383z",transform:"translate(16 13)",fillRule:"evenodd"}),code2:c.createElement("path",{d:"M7.4 10.6L2.8 6l4.6-4.6L6 0 0 6l6 6 1.4-1.4zm5.2 0L17.2 6l-4.6-4.6L14 0l6 6-6 6-1.4-1.4z",transform:"translate(14 14)",fillRule:"evenodd"}),compressed:c.createElement("path",{d:"M.25 0A.25.25 0 0 0 0 .25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 1.75V.25A.25.25 0 0 0 1.75 0H.25zM1 17a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H1zm0 4v3h2v-3H1zM2 2.25A.25.25 0 0 1 2.25 2h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 3.75v-1.5zM.25 4a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 5.75v-1.5A.25.25 0 0 0 1.75 4H.25zM2 6.25A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 7.75v-1.5zM.25 8a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 9.75v-1.5A.25.25 0 0 0 1.75 8H.25zM2 10.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5zM.25 12a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-1.5a.25.25 0 0 0-.25-.25H.25zM2 14.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5z",transform:"translate(15 1)",fillRule:"evenodd"}),document:c.createElement("path",{d:"M12 4H0v2h12V4zM0 10h18V8H0v2zM0 0v2h18V0H0z",transform:"translate(15 15)",fillRule:"evenodd"}),drive:c.createElement("path",{d:"M2.199.289A.5.5 0 0 1 2.652 0h8.696a.5.5 0 0 1 .453.289l1.867 4a.5.5 0 0 1-.453.711H.785a.5.5 0 0 1-.453-.711l1.867-4zM13 6H1a.752.752 0 0 0-.75.75v4.5c0 .412.338.75.75.75h12c.412 0 .75-.338.75-.75v-4.5A.752.752 0 0 0 13 6zm-9.75 4.5c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5z",transform:"translate(17 13)",fillRule:"evenodd"}),font:c.createElement("path",{d:"M3.722 8.702l-.686 1.89c-.053.14-.094.28-.123.421-.03.135-.044.252-.044.352 0 .304.097.527.29.668.2.14.501.21.905.21h.414V13H.083v-.756h.343c.176 0 .325-.018.448-.053a.81.81 0 0 0 .334-.22c.1-.105.193-.249.281-.43.094-.182.197-.416.308-.704L5.787.15h1.406l4.07 11.136c.07.187.14.343.21.466.077.123.165.222.264.298.1.07.214.12.343.15.129.03.281.044.457.044h.237V13H7.826v-.756h.413c.72 0 1.081-.287 1.081-.862 0-.1-.014-.202-.044-.307a3.274 3.274 0 0 0-.105-.36l-.72-2.013H3.72zM7.009 4.65c-.188-.533-.36-1.031-.519-1.494a15.92 15.92 0 0 1-.378-1.354 7.12 7.12 0 0 1-.15.633 16.95 16.95 0 0 1-.395 1.283c-.082.229-.175.484-.28.765L4.063 7.796h4.061L7.009 4.65zm8.411 5.74c0 .562.117.984.351 1.265.24.275.61.413 1.108.413.363 0 .691-.059.984-.176.3-.117.551-.284.756-.5.211-.218.372-.481.483-.792.112-.31.168-.656.168-1.037V8.104l-1.152.053c-.51.023-.937.088-1.283.193-.34.1-.615.243-.826.43a1.546 1.546 0 0 0-.457.678c-.088.27-.132.58-.132.931zm2.18-6.32c-.346 0-.627.05-.844.15a1.182 1.182 0 0 0-.501.404 1.594 1.594 0 0 0-.237.624c-.041.24-.062.5-.062.782-.498 0-.879-.085-1.143-.255-.257-.17-.386-.463-.386-.879 0-.31.085-.574.255-.79.17-.218.401-.393.694-.528.299-.14.644-.243 1.037-.308a7.76 7.76 0 0 1 1.257-.097c.55 0 1.031.056 1.441.167.41.106.753.282 1.029.528.275.246.48.568.615.967.14.392.21.876.21 1.45v4.667c0 .252.021.46.062.624a.928.928 0 0 0 .194.395c.088.1.202.17.343.211.146.041.319.062.518.062h.053V13H19.7l-.281-1.547h-.15c-.187.252-.369.483-.544.694-.176.211-.37.393-.58.545-.211.152-.452.27-.721.352a3.053 3.053 0 0 1-.958.131c-.399 0-.77-.058-1.116-.175a2.369 2.369 0 0 1-.888-.519 2.516 2.516 0 0 1-.58-.896c-.14-.364-.211-.791-.211-1.284 0-.955.34-1.664 1.02-2.127.68-.462 1.707-.714 3.084-.755l1.495-.053V6.285a6.93 6.93 0 0 0-.053-.888 1.778 1.778 0 0 0-.229-.703 1.14 1.14 0 0 0-.51-.457c-.216-.111-.51-.167-.878-.167z",transform:"translate(13 12)",fillRule:"evenodd"}),image:c.createElement("path",{d:"M13 0L9.25 5l2.85 3.8-1.6 1.2C8.81 7.75 6 4 6 4l-6 8h22L13 0z",transform:"translate(13 14)",fillRule:"evenodd"}),presentation:c.createElement("path",{d:"M2 4H0v10c0 1.1.9 2 2 2h14v-2H2V4zm16-4H6C4.9 0 4 .9 4 2v8c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm0 10H6V2h12v8z",transform:"matrix(-1 0 0 1 34 12)",fillRule:"evenodd"}),settings:c.createElement("path",{d:"M13.572 8.735c.03-.24.053-.48.053-.735s-.023-.495-.053-.735l1.583-1.237a.378.378 0 0 0 .09-.48l-1.5-2.595a.377.377 0 0 0-.457-.165l-1.868.75a5.48 5.48 0 0 0-1.268-.735L9.868.815A.366.366 0 0 0 9.5.5h-3a.366.366 0 0 0-.367.315l-.285 1.988a5.762 5.762 0 0 0-1.268.735l-1.868-.75a.366.366 0 0 0-.457.165l-1.5 2.595a.37.37 0 0 0 .09.48l1.583 1.237c-.03.24-.053.488-.053.735 0 .248.022.495.053.735L.845 9.973a.378.378 0 0 0-.09.48l1.5 2.595c.09.165.292.225.458.165l1.867-.75c.39.3.81.547 1.268.735l.285 1.987c.022.18.18.315.367.315h3a.366.366 0 0 0 .367-.315l.285-1.988a5.762 5.762 0 0 0 1.268-.734l1.867.75c.173.067.368 0 .458-.165l1.5-2.595a.378.378 0 0 0-.09-.48l-1.582-1.238zM8 10.625A2.628 2.628 0 0 1 5.375 8 2.628 2.628 0 0 1 8 5.375 2.628 2.628 0 0 1 10.625 8 2.628 2.628 0 0 1 8 10.625z",transform:"translate(16 11)",fillRule:"evenodd"}),spreadsheet:c.createElement("path",{d:"M0 8h6V5H0v3zm0 5h6v-3H0v3zM0 3h6V0H0v3zm8 5h12V5H8v3zm0 5h12v-3H8v3zM8 0v3h12V0H8z",transform:"translate(14 14)",fillRule:"evenodd"}),vector:c.createElement("path",{d:"M14.5 2V1a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v1H3.937a2 2 0 1 0 0 1h3.936A9 9 0 0 0 3 11v1h2v-1a7.003 7.003 0 0 1 4.594-6.576A1 1 0 0 0 10.5 5h3a1 1 0 0 0 .906-.576A7.003 7.003 0 0 1 19 11v1h2v-1a9 9 0 0 0-4.873-8h3.936a2 2 0 1 0 0-1H14.5zm-1-1h-3v3h3V1zM2 1.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm19 1a1 1 0 1 0 2 0 1 1 0 0 0-2 0z",transform:"translate(12 14)",fillRule:"evenodd"}),video:c.createElement("path",{d:"M10.75 3.875V1.25A.752.752 0 0 0 10 .5H1a.752.752 0 0 0-.75.75v7.5c0 .412.338.75.75.75h9c.412 0 .75-.338.75-.75V6.125l3 3V.875l-3 3z",transform:"translate(17 14)"})};!function(e){e.forEach((function(e){bv.indexOf(e)<0&&(e(mv,uv),bv.push(e))}))}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var o={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,s,a=r[this.toHex()];if(a)return a;if(null==t?void 0:t.closest){var l=this.toRgb(),c=1/0,u="black";if(!o.length)for(var d in n)o[d]=new e(n[d]).toRgb();for(var p in n){var h=(i=l,s=o[p],Math.pow(i.r-s.r,2)+Math.pow(i.g-s.g,2)+Math.pow(i.b-s.b,2));h<c&&(c=h,u=p)}return u}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);var Tv={color:um.exports.string,extension:um.exports.string,fold:um.exports.bool,foldColor:um.exports.string,glyphColor:um.exports.string,gradientColor:um.exports.string,gradientOpacity:um.exports.number,labelColor:um.exports.string,labelTextColor:um.exports.string,labelUppercase:um.exports.bool,radius:um.exports.number,type:um.exports.oneOf(["3d","acrobat","audio","binary","code","code2","compressed","document","drive","font","image","presentation","settings","spreadsheet","vector","video"])},Iv=40,Lv=48,jv={WIDTH:Iv,HEIGHT:Lv,X_OFFSET:0},Rv=12,Fv=14,zv=function(e){var t=e.color,n=void 0===t?"whitesmoke":t,r=e.extension,i=e.fold,o=void 0===i||i,s=e.foldColor,a=e.glyphColor,l=e.gradientColor,u=void 0===l?"white":l,d=e.gradientOpacity,p=void 0===d?.25:d,h=e.labelColor,f=e.labelTextColor,m=void 0===f?"white":f,g=e.labelUppercase,b=void 0!==g&&g,y=e.radius,v=void 0===y?4:y,w=e.type,_=Nv();return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+Iv+" "+Lv,width:"100%",style:{maxWidth:"100%"}},c.createElement("defs",null,c.createElement("clipPath",{id:"pageRadius"+_},c.createElement("rect",{x:jv.X_OFFSET,y:"0",rx:v,ry:v,width:jv.WIDTH,height:jv.HEIGHT})),c.createElement("clipPath",{id:"foldCrop"},c.createElement("rect",{width:jv.WIDTH,height:Rv,transform:"rotate(-45 0 "+Rv+")"})),c.createElement("linearGradient",{x1:"100%",y1:"0%",y2:"100%",id:"pageGradient"+_},c.createElement("stop",{stopColor:u,stopOpacity:p,offset:"0%"}),c.createElement("stop",{stopColor:u,stopOpacity:"0",offset:"66.67%"}))),c.createElement("g",{id:"file",clipPath:"url(#pageRadius"+_+")"},o?c.createElement(c.Fragment,null,c.createElement("path",{d:"M"+jv.X_OFFSET+" 0 h "+(jv.WIDTH-Rv)+" L "+(jv.WIDTH+jv.X_OFFSET)+" "+Rv+" v "+(jv.HEIGHT-Rv)+" H "+jv.X_OFFSET+" Z",fill:n}),c.createElement("path",{d:"M"+jv.X_OFFSET+" 0 h "+(jv.WIDTH-Rv)+" L "+(jv.WIDTH+jv.X_OFFSET)+" "+Rv+" v "+(jv.HEIGHT-Rv)+" H "+jv.X_OFFSET+" Z",fill:"url(#pageGradient"+_+")"})):c.createElement(c.Fragment,null,c.createElement("rect",{x:jv.X_OFFSET,y:"0",width:jv.WIDTH,height:jv.HEIGHT,fill:n}),c.createElement("rect",{x:jv.X_OFFSET,y:"0",width:jv.WIDTH,height:jv.HEIGHT,fill:"url(#pageGradient"+_+")"}))),o&&c.createElement("g",{transform:"translate(28 "+Rv+") rotate(-90)"},c.createElement("rect",{width:jv.WIDTH,height:jv.HEIGHT,fill:s||gv(n).darken(.1).toHex(),rx:v,ry:v,clipPath:"url(#foldCrop)"})),r&&c.createElement(c.Fragment,null,c.createElement("g",{id:"label"},c.createElement("rect",{fill:h||gv(n).darken(.3).toHex(),x:jv.X_OFFSET,y:jv.HEIGHT-Fv,width:jv.WIDTH,height:Fv,clipPath:"url(#pageRadius"+_+")"})),c.createElement("g",{id:"labelText",transform:"translate("+jv.X_OFFSET+" 34)"},c.createElement("text",{x:jv.WIDTH/2,y:"10",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",fontSize:"9",fill:m,textAnchor:"middle",style:{fontWeight:"bold",textAlign:"center",pointerEvents:"none",textTransform:b?"uppercase":"none",userSelect:"none"}},r))),w&&c.createElement("g",{transform:"translate(-4 "+(r?0:6)+")",fill:a||gv(n).darken(.15).toHex()},Ov[w]))};zv.propTypes=Tv;var Pv={"3dm":{labelColor:"#8D1A11",type:"3d"},"3ds":{labelColor:"#5FB9AD",type:"3d"},"3g2":{type:"video"},"3gp":{type:"video"},"7zip":{type:"compressed"},aac:{type:"audio"},aep:{type:"video"},ai:{color:"#423325",gradientOpacity:0,labelColor:"#423325",labelTextColor:"#FF7F18",labelUppercase:!0,foldColor:"#FF7F18",radius:2},aif:{type:"audio"},aiff:{type:"audio"},asf:{type:"video"},asp:{type:"code"},aspx:{type:"code"},avi:{type:"video"},bin:{type:"binary"},bmp:{type:"image"},c:{type:"code"},cpp:{type:"code"},cs:{type:"code"},css:{type:"code"},csv:{type:"spreadsheet"},cue:{type:"document"},dll:{type:"settings"},dmg:{type:"drive"},doc:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},docx:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},dwg:{type:"vector"},dxf:{type:"vector"},eot:{type:"font"},eps:{type:"vector"},exe:{type:"settings"},flac:{type:"audio"},flv:{type:"video"},fnt:{type:"font"},fodp:{type:"presentation"},fods:{type:"spreadsheet"},fodt:{type:"document"},fon:{type:"font"},gif:{type:"image"},gz:{type:"compressed"},htm:{type:"code"},html:{type:"code"},indd:{color:"#4B2B36",gradientOpacity:0,labelColor:"#4B2B36",labelTextColor:"#FF408C",labelUppercase:!0,foldColor:"#FF408C",radius:2},ini:{type:"settings"},java:{type:"code"},jpeg:{type:"image"},jpg:{type:"image"},js:{labelColor:"#F7DF1E",type:"code"},json:{type:"code"},jsx:{labelColor:"#00D8FF",type:"code"},m4a:{type:"audio"},m4v:{type:"video"},max:{labelColor:"#5FB9AD",type:"3d"},md:{type:"document"},mid:{type:"audio"},mkv:{type:"video"},mov:{type:"video"},mp3:{type:"audio"},mp4:{type:"video"},mpeg:{type:"video"},mpg:{type:"video"},obj:{type:"3d"},odp:{type:"presentation"},ods:{type:"spreadsheet"},odt:{type:"document"},ogg:{type:"audio"},ogv:{type:"video"},otf:{type:"font"},pdf:{labelColor:"#D93831",type:"acrobat"},php:{labelColor:"#8892BE",type:"code"},pkg:{type:"3d"},plist:{type:"settings"},png:{type:"image"},ppt:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pptx:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pr:{type:"video"},ps:{type:"vector"},psd:{color:"#34364E",gradientOpacity:0,labelColor:"#34364E",labelTextColor:"#31C5F0",labelUppercase:!0,foldColor:"#31C5F0",radius:2},py:{labelColor:"#FFDE57",type:"code"},rar:{type:"compressed"},rb:{labelColor:"#BB271A",type:"code"},rm:{type:"video"},rtf:{type:"document"},scss:{labelColor:"#C16A98",type:"code"},sitx:{type:"compressed"},svg:{type:"vector"},swf:{type:"video"},sys:{type:"settings"},tar:{type:"compressed"},tex:{type:"document"},tif:{type:"image"},tiff:{type:"image"},ts:{labelColor:"#3478C7",type:"code"},ttf:{type:"font"},txt:{type:"document"},wav:{type:"audio"},webm:{type:"video"},wmv:{type:"video"},woff:{type:"font"},wpd:{type:"document"},wps:{type:"document"},xlr:{type:"spreadsheet"},xls:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},xlsx:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},yml:{type:"code"},zip:{type:"compressed"},zipx:{type:"compressed"}};const Bv=e=>{let{fileName:t}=e;const n=t.match(/([^.]+)$/)[1];return c.createElement("div",{className:"ne-attachments__attachment-file-icon"},c.createElement(zv,Vy({extension:n,labelColor:"#4558f9"},Pv[n])))},{Menu:Uv,MenuItem:Hv}=O,$v=e=>{let{attachment:t,endpoint:n,onChange:i,attachments:o,disabled:s}=e;const{t:a}=E(),[l,d]=u(!1),[p,h]=u(!1),[f,m]=u(!1),[g,b]=u(""),y=async()=>{m(!0);try{const{signedId:e}=t;await Jg(n,e),i(r({signedId:e},o))}catch(e){C.error(e)}},v={[Uy]:()=>{Py(t.url,t.fileName)},[Hy]:async()=>{try{const{signedId:e}=t,r={blob:{filename:g}},{blob:{filename:s}}=await Qg({url:n,signedId:e,payload:r});i(o.map((t=>t.signedId===e?we("filename",s,t):t)))}catch(e){C.error(e)}finally{d(!1),b("")}},[$y]:y};return c.createElement(c.Fragment,null,c.createElement("div",{className:"ne-attachments__attachment"},l?c.createElement(c.Fragment,null,c.createElement(D,{content:g,position:"top"},c.createElement(S,{autoFocus:!0,error:w(g)?a("attachments.name-empty"):"",size:"small",value:g,onChange:e=>b(e.target.value),onKeyDown:e=>(e=>{let{event:t,key:n}=e;const r=v[n];"Enter"===t.key&&r&&!w(g)&&(t.preventDefault(),r()),"Escape"===t.key&&(d(!1),b(""))})({event:e,key:Hy})})),c.createElement(A,{icon:H,size:"small",style:"text",onClick:()=>d(!1)})):c.createElement(c.Fragment,null,c.createElement(Bv,{fileName:t.filename}),c.createElement(D,{content:t.filename,position:"top"},c.createElement(N,{style:"body2"},t.filename)),c.createElement(D,{content:a("attachments.actions-blocked"),disabled:!s,position:"top"},c.createElement("span",null,c.createElement(O,{buttonSize:"small",buttonStyle:"text",disabled:s,icon:$},c.createElement(Uv,null,Object.entries(v).map((e=>{let[n,r]=e;return c.createElement(Hv.Button,{key:n,onClick:()=>(e=>{let{key:n,handler:r}=e;n===Hy?(d(!0),b(t.filename)):n===$y?(b(t.filename),h(!0)):r()})({key:n,handler:r})},n)})))))))),c.createElement(T,{isOpen:p,isSubmitting:f,message:a("attachments.delete-confirmation",{entity:g}),title:a("attachments.delete-title"),onClose:()=>h(!1),onSubmit:y}))},Vv=e=>{let{attachment:t,uppy:n,removeUploadingFile:r}=e;const i=`${t.progress}%`;return c.createElement("div",{className:"ne-attachments__attachment"},c.createElement("div",{className:"ne-attachments__attachment__progress-icon"},c.createElement(zv,null)),c.createElement("div",{className:"ne-attachments__attachment__progress"},c.createElement(N,{style:"body2"},t.filename),c.createElement(N,{style:"body2"},i)),c.createElement(A,{icon:H,size:"small",style:"text",onClick:()=>{n.removeFile(t.id),r(t.id)}}))},{t:Wv}=Ma,qv=(e,t)=>{var r;let{endpoint:o=rr,attachments:s=[],className:a="",onChange:l=n,isIndependent:f=!0,disabled:m=!1,dragDropRef:g=null,config:b={}}=e;const{t:y}=E(),[v,x]=u([]),k=d(null),{uppy:D,isUploading:S}=Fy({endpoint:o,uppyConfig:(N=b,_e(By,{restrictions:N}))});var N;const O=()=>{(e=>{let{uppy:t,config:n,previousAttachmentsCount:r}=e;const{maxNumberOfFiles:i}=n;if(i&&t.getFiles().length+r>i)return C.warning(Wv("attachments.maxNumberOfFiles",{entity:i})),t.reset(),!1;return!0})({uppy:D,config:b,previousAttachmentsCount:s.length})&&T()},T=()=>{const e=D.getFiles().map((e=>({id:e.id,filename:e.name,signedId:"awaiting",url:"",progress:0})));w(e)?D.reset():(x(M(e)),k.current.value=null,I())},I=async()=>{try{const e=await D.upload();if(_(e))return;const t=e.successful.map((e=>{var t,n;return{filename:e.name,signedId:(null===(t=e.response.data)||void 0===t?void 0:t.signed_id)||e.response.signed_id,url:(null===(n=e.response.data)||void 0===n?void 0:n.blob_url)||e.response.blob_url}}));x([]),l([...s,...t])}catch(e){C.error(e)}finally{D.reset()}},L=(e,t)=>{x((n=>n.map((n=>({...n,progress:n.filename!==e.name?n.progress:t.progress})))))},j=e=>{x((t=>i(e,t)))},R=()=>k.current.click();return p(t,(()=>({handleUploadAttachments:R})),[]),h((()=>(D.on("upload-progress",L),null!=g&&g.current&&D.use(Wa,{target:g.current,onDrop:O}),()=>{const e=D.getPlugin("DropTarget");e&&D.removePlugin(e),D.off("upload-progress",L)})),[s]),c.createElement("div",{className:Ka("ne-attachments",{[a]:a})},c.createElement("div",{className:"ne-attachments__items"},s.map((e=>c.createElement($v,{attachment:e,attachments:s,disabled:m,endpoint:o,key:e.signedId,onChange:l}))),v.map((e=>c.createElement(Vv,{attachment:e,key:e.id,removeUploadingFile:j,uppy:D})))),c.createElement("div",null,f&&c.createElement(A,{disabled:S,label:y("attachments.add"),loading:S,size:"medium",style:"link",onClick:R}),c.createElement("input",{accept:null===(r=b.allowedFileTypes)||void 0===r?void 0:r.join(","),multiple:1!==b.maxNumberOfFiles,ref:k,type:"file",onChange:e=>{const t=(e=>{let{previousAttachmentsCount:t,config:n,files:r}=e;const{maxNumberOfFiles:i}=n;if(i){const e=i-t;if(e<=0)return C.warning(Wv("attachments.maxNumberOfFiles",{entity:i})),[];const n=Array.from(r).slice(0,e);return n.length<r.length&&C.warning(Wv("attachments.maxNumberOfFiles",{entity:i})),n}return Array.from(r)})({previousAttachmentsCount:s.length,config:b,files:e.target.files});t.forEach((e=>{D.addFile({name:e.name,type:e.type,data:e})})),T()},onClick:e=>{w(s)||1!==b.maxNumberOfFiles||(e.preventDefault(),C.warning(y("attachments.one-attachment-allowed")))}})))};var Kv=c.forwardRef(qv);const Gv="undefined"!=typeof navigator?navigator:null,Yv="undefined"!=typeof document?document:null,Qv=Gv&&Gv.userAgent||"",Jv=/Edge\/(\d+)/.exec(Qv),Zv=/MSIE \d/.exec(Qv),Xv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Qv),ew=!!(Zv||Xv||Jv),tw=Zv?document.documentMode:Xv?+Xv[1]:Jv?+Jv[1]:0,nw=!ew&&/gecko\/(\d+)/i.test(Qv);nw&&(/Firefox\/(\d+)/.exec(Qv)||[0,0])[1];const rw=!ew&&/Chrome\/(\d+)/.exec(Qv),iw=!!rw,ow=rw?+rw[1]:0,sw=!ew&&!!Gv&&/Apple Computer/.test(Gv.vendor),aw=sw&&(/Mobile\/\w+/.test(Qv)||!!Gv&&Gv.maxTouchPoints>2),lw=aw||!!Gv&&/Mac/.test(Gv.platform),cw=/Android \d/.test(Qv),uw=!!Yv&&"webkitFontSmoothing"in Yv.documentElement.style,dw=uw?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,pw=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},hw=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let fw=null;const mw=function(e,t,n){let r=fw||(fw=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},gw=function(e,t,n,r){return n&&(yw(e,t,n,r,-1)||yw(e,t,n,r,1))},bw=/^(img|br|input|textarea|hr)$/i;function yw(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:vw(e))){let n=e.parentNode;if(!n||1!=n.nodeType||ww(e)||bw.test(e.nodeName)||"false"==e.contentEditable)return!1;t=pw(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?vw(e):0}}}function vw(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ww(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const _w=function(e){let t=e.isCollapsed;return t&&iw&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function xw(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function kw(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ew(e,t){return"number"==typeof e?e:e[t]}function Mw(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Cw(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;s=hw(s)){if(1!=s.nodeType)continue;let e=s,n=e==o.body,a=n?kw(o):Mw(e),l=0,c=0;if(t.top<a.top+Ew(r,"top")?c=-(a.top-t.top+Ew(i,"top")):t.bottom>a.bottom-Ew(r,"bottom")&&(c=t.bottom-a.bottom+Ew(i,"bottom")),t.left<a.left+Ew(r,"left")?l=-(a.left-t.left+Ew(i,"left")):t.right>a.right-Ew(r,"right")&&(l=t.right-a.right+Ew(i,"right")),l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let i=e.scrollLeft-n,o=e.scrollTop-r;t={left:t.left-i,top:t.top-o,right:t.right-i,bottom:t.bottom-o}}if(n)break}}function Dw(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=hw(r));return t}function Sw(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Aw=null;function Nw(e,t){let n,r,i=2e8,o=0,s=t.top,a=t.top;for(let l=e.firstChild,c=0;l;l=l.nextSibling,c++){let e;if(1==l.nodeType)e=l.getClientRects();else{if(3!=l.nodeType)continue;e=mw(l).getClientRects()}for(let u=0;u<e.length;u++){let d=e[u];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);let e=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(e<i){n=l,i=e,r=e&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==l.nodeType&&e&&(o=c+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(o=c+1)}}return n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let n=Lw(r,1);if(n.top!=n.bottom&&Ow(t,n))return{node:e,offset:i+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:e,offset:o}:Nw(n,r)}function Ow(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Tw(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=e.childNodes[o];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let i=e[r];if(Ow(t,i))return Tw(n,t,i)}}if((o=(o+1)%r)==i)break}return e}function Iw(e,t){let n,r=e.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{let e=r.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:i}=e)}catch(e){}if(!n&&r.caretRangeFromPoint){let e=r.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:i}=e)}let o,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!Ow(t,n))return null;if(s=Tw(e.dom,t,n),!s)return null}if(sw)for(let e=s;n&&e;e=hw(e))e.draggable&&(n=void 0);if(s=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(nw&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let e,r=n.childNodes[i];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&i++}n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(o=function(e,t,n,r){let i=-1;for(let n=t;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>r.left||e.top>r.top)i=t.posBefore;else{if(!(e.right<r.left||e.bottom<r.top))break;i=t.posAfter}}n=t.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,1)}(e,n,i,t))}null==o&&(o=function(e,t,n){let{node:r,offset:i}=Nw(t,n),o=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();o=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}(e,s,t));let a=e.docView.nearestDesc(s,!0);return{pos:o,inside:a?a.posAtStart-a.border:-1}}function Lw(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const jw=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Rw(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=uw||nw;if(3==r.nodeType){if(!s||!jw.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let e=i,t=i,o=n<0?1:-1;return n<0&&!i?(t++,o=-1):n>=0&&i==r.nodeValue.length?(e--,o=1):n<0?e--:t++,Fw(Lw(mw(r,e,t),1),o<0)}{let e=Lw(mw(r,i,i),n);if(nw&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let t=Lw(mw(r,i-1,i-1),-1);if(t.top==e.top){let n=Lw(mw(r,i,i+1),-1);if(n.top!=e.top)return Fw(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(null==o&&i&&(n<0||i==vw(r))){let e=r.childNodes[i-1];if(1==e.nodeType)return zw(e.getBoundingClientRect(),!1)}if(null==o&&i<vw(r)){let e=r.childNodes[i];if(1==e.nodeType)return zw(e.getBoundingClientRect(),!0)}return zw(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==vw(r))){let e=r.childNodes[i-1],t=3==e.nodeType?mw(e,vw(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return Fw(Lw(t,1),!1)}if(null==o&&i<vw(r)){let e=r.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?mw(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return Fw(Lw(t,-1),!0)}return Fw(Lw(3==r.nodeType?mw(r):r,-n),n>=0)}function Fw(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function zw(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Pw(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}const Bw=/[\u0590-\u08ac]/;let Uw=null,Hw=null,$w=!1;function Vw(e,t,n){return Uw==t&&Hw==n?$w:(Uw=t,Hw=n,$w="up"==n||"down"==n?function(e,t,n){let r=t.selection,i="up"==n?r.$from:r.$to;return Pw(e,t,(()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let r=Rw(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=mw(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=e.domSelection();return Bw.test(r.parent.textContent)&&a.modify?Pw(e,t,(()=>{let t=a.getRangeAt(0),i=a.focusNode,o=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");let l=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||i==a.focusNode&&o==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),l})):"left"==n||"backward"==n?o:s}(e,t,n))}const Ww=0,qw=1,Kw=2,Gw=3;class Yw{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=Ww,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>pw(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n,r=0,i=0;for(let t=0;r<this.children.length;r++){let n=this.children[r],o=t+n.size;if(o>e||n instanceof n_){i=e-t;break}t=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof Qw&&n.side>=0;r--);if(t<=0){let e,n=!0;for(;e=r?this.children[r-1]:null,e&&e.dom.parentNode!=this.contentDOM;r--,n=!1);return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?pw(e.dom)+1:0}}{let e,n=!0;for(;e=r<this.children.length?this.children[r]:null,e&&e.dom.parentNode!=this.contentDOM;r++,n=!1);return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?pw(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,s=0;;s++){let n=this.children[s],a=o+n.size;if(-1==r&&e<=a){let i=o+n.border;if(e>=i&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=o;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=pw(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||s==this.children.length-1)){t=a;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=pw(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let s=0,a=0;s<this.children.length;s++){let l=this.children[s],c=a+l.size;if(i>a&&o<c)return l.setSelection(e-a-l.border,t-a-l.border,n,r);a=c}let s=this.domFromPos(e,e?-1:1),a=t==e?s:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((nw||sw)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(s=a={node:t.parentNode,offset:pw(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(nw&&l.focusNode&&l.focusNode!=a.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&sw)&&gw(s.node,s.offset,l.anchorNode,l.anchorOffset)&&gw(a.node,a.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||e==t)&&!c){l.collapse(s.node,s.offset);try{if(e!=t)try{l.extend(a.node,a.offset)}catch(e){}u=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!u){if(e>t){let e=s;s=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let r=n+i.border,s=o-i.border;if(e>=r&&t<=s)return this.dirty=e==n||t==o?Kw:qw,void(e!=r||t!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-r,t-r):i.dirty=Gw);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?Gw:Kw}n=o}this.dirty=Kw}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?Kw:qw;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Qw extends Yw{constructor(e,t,n,r){let i,o=t.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!t.type.spec.raw){if(1!=o.nodeType){let e=document.createElement("span");e.appendChild(o),o=e}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return this.dirty==Ww&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Jw extends Yw{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class Zw extends Yw{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let i=r.nodeViews[t.type.name],o=i&&i(t,r,n);return o&&o.dom||(o=jt.renderSpec(document,t.type.spec.toDOM(t,n))),new Zw(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Gw||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Gw&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ww){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=Ww}}slice(e,t,n){let r=Zw.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;t<o&&(i=m_(i,t,o,n)),e>0&&(i=m_(i,0,e,n));for(let e=0;e<i.length;e++)i[e].parent=r;return r.children=i,r}}class Xw extends Yw{constructor(e,t,n,r,i,o,s,a,l){super(e,[],i,o),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s,o&&this.updateChildren(a,l)}static create(e,t,n,r,i,o){let s,a=i.nodeViews[t.type.name],l=a&&a(t,i,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:o),n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=jt.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=u_(c,n,t),l?s=new r_(e,t,n,r,c,u||null,d,l,i,o+1):t.isText?new t_(e,t,n,r,c,d,i):new Xw(e,t,n,r,c,u||null,d,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Te.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return this.dirty==Ww&&e.eq(this.node)&&d_(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,o=i&&i.pos>-1?i:null,s=i&&i.pos<0,a=new h_(this,o&&o.node,e);!function(e,t,n,r){let i=t.locals(e),o=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,i,t.forChild(o,s),n),o+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){if(s<i.length&&i[s].to==o){let e,t=i[s++];for(;s<i.length&&i[s].to==o;)(e||(e=[t])).push(i[s++]);if(e){e.sort(f_);for(let t=0;t<e.length;t++)n(e[t],c,!!l)}else n(t,c,!!l)}let u,d;if(l)d=-1,u=l,l=null;else{if(!(c<e.childCount))break;d=c,u=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=o&&a.splice(e--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let p=o+u.nodeSize;if(u.isText){let e=p;s<i.length&&i[s].from<e&&(e=i[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<p&&(l=u.cut(e-o),u=u.cut(0,e-o),p=e,d=-1)}let h=u.isInline&&!u.isLeaf?a.filter((e=>!e.inline)):a.slice();r(u,h,t.forChild(o,u),d),o=p}}(this.node,this.innerDeco,((t,i,o)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!o&&a.syncToMarks(i==this.node.childCount?Re.none:this.node.child(i).marks,n,e),a.placeWidget(t,e,r)}),((t,o,l,c)=>{let u;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,o,l,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(t,o,l,u,e)||a.updateNextNode(t,o,l,e,c)||a.addNode(t,o,l,e,r),r+=t.nodeSize})),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Kw)&&(o&&this.protectLocalComposition(e,o),i_(this.contentDOM,this.children,e),aw&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof In)||n<t||r>t+this.node.content.size)return null;let i=e.domSelection(),o=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=vw(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=function(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let t=e.child(i++);if(o+=t.nodeSize,!t.isText)break;l+=t.text}if(o>=n){let e=a<r?l.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new Jw(this,i,t,r);e.input.compositionNodes.push(o),this.children=m_(this.children,n,n+r.length,e,o)}update(e,t,n,r){return!(this.dirty==Gw||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Ww}updateOuterDeco(e){if(d_(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=l_(this.dom,this.nodeDOM,a_(this.outerDeco,this.node,t),a_(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function e_(e,t,n,r,i){return u_(r,t,e),new Xw(void 0,e,t,n,r,r,r,i,0)}class t_ extends Xw{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(this.dirty==Gw||this.dirty!=Ww&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),this.dirty==Ww&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Ww,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new t_(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=Gw)}get domAtom(){return!1}}class n_ extends Yw{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ww&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class r_ extends Xw{constructor(e,t,n,r,i,o,s,a,l,c){super(e,t,n,r,i,o,s,l,c),this.spec=a}update(e,t,n,r){if(this.dirty==Gw)return!1;if(this.spec.update){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function i_(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=p_(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof Zw){let t=r?r.previousSibling:e.lastChild;i_(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=p_(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const o_=function(e){e&&(this.nodeName=e)};o_.prototype=Object.create(null);const s_=[new o_];function a_(e,t,n){if(0==e.length)return s_;let r=n?s_[0]:new o_,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new o_(s.nodeName));for(let e in s){let o=s[e];null!=o&&(n&&1==i.length&&i.push(r=new o_(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+o:"style"==e?r.style=(r.style?r.style+";":"")+o:"nodeName"!=e&&(r[e]=o))}}}return i}function l_(e,t,n,r){if(n==s_&&r==s_)return t;let i=t;for(let t=0;t<r.length;t++){let o=r[t],s=n[t];if(t){let t;s&&s.nodeName==o.nodeName&&i!=e&&(t=i.parentNode)&&t.nodeName.toLowerCase()==o.nodeName||(t=document.createElement(o.nodeName),t.pmIsDeco=!0,t.appendChild(i),s=s_[0]),i=t}c_(i,s||s_[0],o)}return i}function c_(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function u_(e,t,n){return l_(e,e,s_,a_(t,n,1!=e.nodeType))}function d_(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function p_(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class h_{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof Zw)){a=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=Ww,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[i])){r=t;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=Zw.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))o=this.top.children.indexOf(i,this.index);else for(let r=this.index,i=Math.min(this.top.children.length,r+5);r<i;r++){let i=this.top.children[r];if(i.matchesNode(e,t,n)&&!this.preMatch.matched.has(i)){o=r;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,n,r,i){let o=this.top.children[r];return o.dirty==Gw&&o.dom==o.contentDOM&&(o.dirty=Kw),!!o.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,i){for(let o=this.index;o<this.top.children.length;o++){let s=this.top.children[o];if(s instanceof Xw){let a=this.preMatch.matched.get(s);if(null!=a&&a!=i)return!1;let l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=Gw&&d_(t,s.outerDeco)))&&s.update(e,t,n,r))return this.destroyBetween(this.index,o),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,i){this.top.children.splice(this.index++,0,Xw.create(this.top,e,t,n,r,i)),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new Qw(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Zw;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof t_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((sw||iw)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new n_(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}}function f_(e,t){return e.type.side-t.type.side}function m_(e,t,n,r,i){let o=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function g_(e,t=null){let n=e.domSelection(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=r.resolve(s);if(_w(n)){for(a=c;i&&!i.node;)i=i.parent;let e=i.node;if(i&&e.isAtom&&jn.isSelectable(e)&&i.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,i=t==vw(e);r||i;){if(e==n)return!0;let t=pw(e);if(!(e=e.parentNode))return!1;r=r&&0==t,i=i&&t==vw(e)}}(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;l=new jn(s==e?c:r.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;a=r.resolve(t)}if(!l){l=M_(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!o?1:-1)}return l}function b_(e){return e.editable?e.hasFocus():D_(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function y_(e,t=!1){let n=e.state.selection;if(k_(e,n),b_(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&iw){let t=e.domSelection(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&gw(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,pw(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&ew&&tw<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let r,i,{anchor:o,head:s}=n;!v_||n instanceof In||(n.$from.parent.inlineContent||(r=w_(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=w_(e,n.to))),e.docView.setSelection(o,s,e.root,t),v_&&(r&&x_(r),i&&x_(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{b_(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const v_=sw||iw&&ow<63;function w_(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(sw&&i&&"false"==i.contentEditable)return __(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return __(i);if(o)return __(o)}}function __(e){return e.contentEditable="true",sw&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function x_(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function k_(e,t){if(t instanceof jn){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(E_(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else E_(e)}function E_(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function M_(e,t,n,r){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||In.between(t,n,r)}function C_(e){return!(e.editable&&!e.hasFocus())&&D_(e)}function D_(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function S_(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&An.findFrom(o,t)}function A_(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function N_(e,t,n){let r=e.state.selection;if(!(r instanceof In)){if(r instanceof jn&&r.node.isInline)return A_(e,new In(t>0?r.$to:r.$from));{let n=S_(e.state,t);return!!n&&A_(e,n)}}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=S_(e.state,t);return!!(n&&n instanceof jn)&&A_(e,n)}if(!(lw&&n.indexOf("m")>-1)){let n,i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(jn.isSelectable(o)?A_(e,new jn(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):!!uw&&A_(e,new In(e.state.doc.resolve(t<0?s:s+o.nodeSize))))}}function O_(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function T_(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function I_(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(nw&&1==n.nodeType&&r<O_(n)&&T_(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(T_(e))i=n,o=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(j_(n))break;{let t=n.previousSibling;for(;t&&T_(t);)i=n.parentNode,o=pw(t),t=t.previousSibling;if(t)n=t,r=O_(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?R_(e,t,n,r):i&&R_(e,t,i,o)}function L_(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=O_(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!T_(n.childNodes[r]))break;i=n,o=++r}else{if(j_(n))break;{let t=n.nextSibling;for(;t&&T_(t);)i=t.parentNode,o=pw(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=O_(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}i&&R_(e,t,i,o)}function j_(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function R_(e,t,n,r){if(_w(t)){let e=document.createRange();e.setEnd(n,r),e.setStart(n,r),t.removeAllRanges(),t.addRange(e)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();let{state:i}=e;setTimeout((()=>{e.state==i&&y_(e)}),50)}function F_(e,t,n){let r=e.state.selection;if(r instanceof In&&!r.empty||n.indexOf("s")>-1)return!1;if(lw&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=S_(e.state,t);if(n&&n instanceof jn)return A_(e,n)}if(!i.parent.inlineContent){let n=t<0?i:o,s=r instanceof Fn?An.near(n,t):An.findFrom(n,t);return!!s&&A_(e,s)}return!1}function z_(e,t){if(!(e.state.selection instanceof In))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let r=e.state.tr;return t<0?r.delete(n.pos-o.nodeSize,n.pos):r.delete(n.pos,n.pos+o.nodeSize),e.dispatch(r),!0}return!1}function P_(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function B_(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||lw&&72==n&&"c"==r?z_(e,-1)||I_(e):46==n||lw&&68==n&&"c"==r?z_(e,1)||L_(e):13==n||27==n||(37==n||lw&&66==n&&"c"==r?N_(e,-1,r)||I_(e):39==n||lw&&70==n&&"c"==r?N_(e,1,r)||L_(e):38==n||lw&&80==n&&"c"==r?F_(e,-1,r)||I_(e):40==n||lw&&78==n&&"c"==r?function(e){if(!sw||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;P_(e,n,"true"),setTimeout((()=>P_(e,n,"false")),20)}return!1}(e)||F_(e,1,r)||L_(e):r==(lw?"m":"c")&&(66==n||73==n||89==n||90==n))}function U_(e,t){e.someProp("transformCopied",(e=>{t=e(t)}));let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||jt.fromSchema(e.state.schema),a=J_(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=Y_[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:p}}function H_(e,t,n,r,i){let o,s,a=i.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",(e=>{t=e(t,a||r)})),a)return t?new ze(Te.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):ze.empty;let n=e.someProp("clipboardTextParser",(e=>e(t,i,r)));if(n)s=n;else{let n=i.marks(),{schema:r}=e.state,s=jt.fromSchema(r);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=o.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(e=>{n=e(n)})),o=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=J_().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);(n=i&&Y_[i[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(r.innerHTML=e,n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),uw&&function(e){let t=e.querySelectorAll(iw?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0&&o.firstChild;e--)o=o.firstChild;if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||xt.fromSchema(e.state.schema);s=t.parseSlice(o,{preserveWhitespace:!(!l&&!u),context:i,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||$_.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:i,openStart:o,openEnd:s}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;i=Te.from(t.create(n[e+1],i)),o++,s++}return new ze(i,o,s)}(G_(s,+u[1],+u[2]),u[4]);else if(s=ze.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,i=t.node(n).contentMatchAt(t.index(n)),o=[];if(e.forEach((e=>{if(!o)return;let t,n=i.findWrapping(e.type);if(!n)return o=null;if(t=o.length&&r.length&&W_(n,r,e,o[o.length-1],0))o[o.length-1]=t;else{o.length&&(o[o.length-1]=q_(o[o.length-1],r.length));let t=V_(e,n);o.push(t),i=i.matchType(t.type),r=n}})),o)return Te.from(o)}return e}(s.content,i),!0),s.openStart||s.openEnd){let e=0,t=0;for(let t=s.content.firstChild;e<s.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=s.content.lastChild;t<s.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);s=G_(s,e,t)}return e.someProp("transformPasted",(e=>{s=e(s)})),s}const $_=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function V_(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Te.from(e));return e}function W_(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=W_(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Te.from(V_(n,e,i+1))))}}function q_(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,q_(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Te.empty,!0);return e.copy(n.append(r))}function K_(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return i<r-1&&(a=K_(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Te.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function G_(e,t,n){return t<e.openStart&&(e=new ze(K_(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ze(K_(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Y_={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Q_=null;function J_(){return Q_||(Q_=document.implementation.createHTMLDocument("title"))}const Z_={},X_={},ex={touchstart:!0,touchmove:!0};class tx{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nx(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function rx(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>ix(e,t))}))}function ix(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function ox(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function sx(e){return{left:e.clientX,top:e.clientY}}function ax(e,t,n,r,i){if(-1==r)return!1;let o=e.state.doc.resolve(r);for(let r=o.depth+1;r>0;r--)if(e.someProp(t,(t=>r>o.depth?t(e,n,o.nodeAfter,o.before(r),i,!0):t(e,n,o.node(r),o.before(r),i,!1))))return!0;return!1}function lx(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function cx(e,t,n,r,i){return ax(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(n=>n(e,t,r)))||(i?function(e,t){if(-1==t)return!1;let n,r,i=e.state.selection;i instanceof jn&&(n=i.node);let o=e.state.doc.resolve(t);for(let e=o.depth+1;e>0;e--){let t=e>o.depth?o.nodeAfter:o.node(e);if(jn.isSelectable(t)){r=n&&i.$from.depth>0&&e>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(e);break}}return null!=r&&(lx(e,jn.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&jn.isSelectable(r))&&(lx(e,new jn(n),"pointer"),!0)}(e,n))}function ux(e,t,n,r){return ax(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function dx(e,t,n,r){return ax(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(n=>n(e,t,r)))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(lx(e,In.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let t=i.depth+1;t>0;t--){let n=t>i.depth?i.nodeAfter:i.node(t),o=i.before(t);if(n.inlineContent)lx(e,In.create(r,o+1,o+1+n.content.size),"pointer");else{if(!jn.isSelectable(n))continue;lx(e,jn.create(r,o),"pointer")}return!0}}(e,n,r)}function px(e){return vx(e)}X_.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!mx(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!cw||!iw||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!aw||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||B_(e,n)?n.preventDefault():nx(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,xw(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},X_.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},X_.keypress=(e,t)=>{let n=t;if(mx(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||lw&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof In&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,r.$from.pos,r.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const hx=lw?"metaKey":"ctrlKey";Z_.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=px(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[hx]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=e.posAtCoords(sx(n));s&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new fx(e,s,n,!!r)):("doubleClick"==o?ux:dx)(e,s.pos,s.inside,n)?n.preventDefault():nx(e,"pointer"))};class fx{constructor(e,t,n,r){let i,o;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[hx],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,o=n.depth?n.before():0}const s=r?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a?a.dom:null;let{selection:l}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||l instanceof jn&&l.from<=o&&l.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!nw||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),nx(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>y_(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(sx(e))),this.updateAllowDefault(e),this.allowDefault||!t?nx(this.view,"pointer"):cx(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||sw&&this.mightDrag&&!this.mightDrag.node.isAtom||iw&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(lx(this.view,An.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):nx(this.view,"pointer")}move(e){this.updateAllowDefault(e),nx(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function mx(e,t){return!!e.composing||!!(sw&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}Z_.touchstart=e=>{e.input.lastTouch=Date.now(),px(e),nx(e,"pointer")},Z_.touchmove=e=>{e.input.lastTouch=Date.now(),nx(e,"pointer")},Z_.contextmenu=e=>px(e);const gx=cw?5e3:-1;function bx(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>vx(e)),t))}function yx(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function vx(e,t=!1){if(!(cw&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),yx(e),t||e.docView&&e.docView.dirty){let t=g_(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}X_.compositionstart=X_.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),vx(e,!0),e.markCursor=null;else if(vx(e),nw&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelection();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let r=n<0?e.lastChild:e.childNodes[n-1];if(!r)break;if(3==r.nodeType){t.collapse(r,r.nodeValue.length);break}e=r,n=-1}}e.input.composing=!0}bx(e,gx)},X_.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,bx(e,20))};const wx=ew&&tw<15||aw&&dw<604;function _x(e,t,n,r){let i=H_(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,r,i||ze.empty))))return!0;if(!i)return!1;let o=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=o?e.state.tr.replaceSelectionWith(o,e.input.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Z_.copy=X_.cut=(e,t)=>{let n=t,r=e.state.selection,i="cut"==n.type;if(r.empty)return;let o=wx?null:n.clipboardData,s=r.content(),{dom:a,text:l}=U_(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},X_.paste=(e,t)=>{let n=t;if(e.composing&&!cw)return;let r=wx?null:n.clipboardData;r&&_x(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?_x(e,r.value,null,t):_x(e,r.textContent,r.innerHTML,t)}),50)}(e,n)};class xx{constructor(e,t){this.slice=e,this.move=t}}const kx=lw?"altKey":"ctrlKey";Z_.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(sx(n));if(o&&o.pos>=i.from&&o.pos<=(i instanceof jn?i.to-1:i.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(jn.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(jn.create(e.state.doc,t.posBefore)))}let s=e.state.selection.content(),{dom:a,text:l}=U_(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(wx?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",wx||n.dataTransfer.setData("text/plain",l),e.dragging=new xx(s,!n[kx])},Z_.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},X_.dragover=X_.dragenter=(e,t)=>t.preventDefault(),X_.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(sx(n));if(!i)return;let o=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",(e=>{s=e(s)})):s=H_(e,n.dataTransfer.getData(wx?"Text":"text/plain"),wx?null:n.dataTransfer.getData("text/html"),!1,o);let a=!(!r||n[kx]);if(e.someProp("handleDrop",(t=>t(e,n,s||ze.empty,a))))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?hn(e.state.doc,o.pos,s):o.pos;null==l&&(l=o.pos);let c=e.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(p))return;let h=c.doc.resolve(u);if(d&&jn.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new jn(h));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,r,i)=>t=i)),c.setSelection(M_(e,h,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},Z_.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&y_(e)}),20))},Z_.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},Z_.beforeinput=(e,t)=>{if(iw&&cw&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,xw(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in X_)Z_[e]=X_[e];function Ex(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Mx{constructor(e,t){this.toDOM=e,this.spec=t||Nx,this.side=this.spec.side||0}map(e,t,n,r){let{pos:i,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new Sx(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Mx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ex(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Cx{constructor(e,t){this.attrs=e,this.spec=t||Nx}map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Sx(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Cx&&Ex(this.attrs,e.attrs)&&Ex(this.spec,e.spec)}static is(e){return e.type instanceof Cx}destroy(){}}class Dx{constructor(e,t){this.attrs=e,this.spec=t||Nx}map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Sx(i.pos-n,o.pos-n,this)}valid(e,t){let n,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof Dx&&Ex(this.attrs,e.attrs)&&Ex(this.spec,e.spec)}destroy(){}}class Sx{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Sx(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Sx(e,e,new Mx(t,n))}static inline(e,t,n,r){return new Sx(e,t,new Cx(n,r))}static node(e,t,n,r){return new Sx(e,t,new Dx(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Cx}}const Ax=[],Nx={};class Ox{constructor(e,t){this.local=e.length?e:Ax,this.children=t.length?t:Ax}static create(e,t){return t.length?Fx(t,e,0,Nx):Tx}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=t&&s.to>=e&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,t-s,n,r+s,i)}}map(e,t,n){return this==Tx||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Nx)}mapInner(e,t,n,r,i){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,i,o,s){let a=e.slice();for(let e=0,t=o;e<n.maps.length;e++){let r=0;n.maps[e].forEach(((e,n,o,s)=>{let l=s-o-(n-e);for(let s=0;s<a.length;s+=3){let c=a[s+1];if(c<0||e>c+t-r)continue;let u=a[s]+t-r;n>=u?a[s+1]=e<=u?-2:-1:o>=i&&l&&(a[s]+=l,a[s+1]+=l)}r+=l})),t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<a.length;t+=3)if(a[t+1]<0){if(-2==a[t+1]){l=!0,a[t+1]=-1;continue}let c=n.map(e[t]+o),u=c-i;if(u<0||u>=r.content.size){l=!0;continue}let d=n.map(e[t+1]+o,-1)-i,{index:p,offset:h}=r.content.findIndex(u),f=r.maybeChild(p);if(f&&h==u&&h+f.nodeSize==d){let r=a[t+2].mapInner(n,f,c+1,e[t]+o+1,s);r!=Tx?(a[t]=u,a[t+1]=d,a[t+2]=r):(a[t+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,i,o,s){function a(e,t){for(let o=0;o<e.local.length;o++){let a=e.local[o].map(r,i,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&a(e[n+2],t[n]+o+1);return n}(a,e,t,n,i,o,s),c=Fx(l,r,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new Ox(t.sort(zx),a)}(this.children,o||[],e,t,n,r,i):o?new Ox(o.sort(zx),Ax):Tx}add(e,t){return t.length?this==Tx?Ox.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach(((e,o)=>{let s,a=o+n;if(s=jx(t,e,a)){for(r||(r=this.children.slice());i<r.length&&r[i]<o;)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(e,s,a+1):r.splice(i,0,o,o+e.nodeSize,Fx(s,e,a+1,Nx)),i+=3}}));let o=Lx(i?Rx(t):t,-n);for(let t=0;t<o.length;t++)o[t].type.valid(e,o[t])||o.splice(t--,1);return new Ox(o.length?this.local.concat(o).sort(zx):this.local,r||this.children)}remove(e){return 0==e.length||this==Tx?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,o=n[r]+t,s=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>o&&t.to<s&&(e[n]=null,(i||(i=[])).push(t));if(!i)continue;n==this.children&&(n=this.children.slice());let a=n[r+2].removeInner(i,o+1);a!=Tx?n[r+2]=a:(n.splice(r,3),r-=3)}if(r.length)for(let n,i=0;i<e.length;i++)if(n=e[i])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Ox(r,n):Tx}forChild(e,t){if(this==Tx)return this;if(t.isLeaf)return Ox.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let i=e+1,o=i+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<o&&t.to>i&&t.type instanceof Cx){let e=Math.max(i,t.from)-i,n=Math.min(o,t.to)-i;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new Ox(r.sort(zx),Ax);return n?new Ix([e,n]):e}return n||Tx}eq(e){if(this==e)return!0;if(!(e instanceof Ox)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Px(this.localsInner(e))}localsInner(e){if(this==Tx)return Ax;if(e.inlineContent||!this.local.some(Cx.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof Cx||t.push(this.local[e]);return t}}Ox.empty=new Ox([],[]),Ox.removeOverlap=Px;const Tx=Ox.empty;class Ix{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Nx)));return Ix.from(n)}forChild(e,t){if(t.isLeaf)return Ox.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=Tx&&(i instanceof Ix?n=n.concat(i.members):n.push(i))}return Ix.from(n)}eq(e){if(!(e instanceof Ix)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?Px(n?t:t.sort(zx)):Ax}static from(e){switch(e.length){case 0:return Tx;case 1:return e[0];default:return new Ix(e)}}}function Lx(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Sx(i.from+t,i.to+t,i.type))}return n}function jx(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let t,o=0;o<e.length;o++)(t=e[o])&&t.from>n&&t.to<r&&((i||(i=[])).push(t),e[o]=null);return i}function Rx(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Fx(e,t,n,r){let i=[],o=!1;t.forEach(((t,s)=>{let a=jx(e,t,s+n);if(a){o=!0;let e=Fx(a,t,n+s+1,r);e!=Tx&&i.push(s,s+t.nodeSize,e)}}));let s=Lx(o?Rx(e):e,-n).sort(zx);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||(r.onRemove&&r.onRemove(s[e].spec),s.splice(e--,1));return s.length||i.length?new Ox(s,i):Tx}function zx(e,t){return e.from-t.from||e.to-t.to}function Px(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),Bx(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),Bx(t,i+1,o.copy(r.to,o.to)))}}return t}function Bx(e,t,n){for(;t<e.length&&zx(n,e[t])>0;)t++;e.splice(t,0,n)}function Ux(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=Tx&&t.push(r)})),e.cursorWrapper&&t.push(Ox.create(e.state.doc,[e.cursorWrapper.deco])),Ix.from(t)}const Hx={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$x=ew&&tw<=11;class Vx{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Wx{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Vx,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);ew&&tw<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),$x&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Hx)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(C_(this.view)){if(this.suppressingSelectionUpdates)return y_(this.view);if(ew&&tw<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&gw(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(0==e.rangeCount)return!0;let t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&C_(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,s=!1,a=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],a);n&&(i=i<0?n.from:Math.min(n.from,i),o=o<0?n.to:Math.max(n.to,o),n.typeOver&&(s=!0))}if(nw&&a.length>1){let e=a.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let l=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&_w(n)&&(l=g_(e))&&l.eq(An.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,y_(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,o),function(e){if(qx.has(e))return;if(qx.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=nw,Kx)return;console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Kx=!0}}(e)),this.handleDOMChange(i,o,s,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||y_(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(ew&&tw<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:o}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(e.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==e.target?pw(r)+1:0,s=n.localPosFromDOM(e.target,o,-1),a=i&&i.parentNode==e.target?pw(i):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let qx=new WeakMap,Kx=!1;function Gx(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(sw&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||sw&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Yx(e,t,n,r,i){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=g_(e,t);if(n&&!e.state.selection.eq(n)){let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),e.dispatch(r)}return}let o=e.state.doc.resolve(t),s=o.sharedDepth(n);t=o.before(s+1),n=e.state.doc.resolve(n).after(s+1);let a,l,c=e.state.selection,u=function(e,t,n){let r,{node:i,fromOffset:o,toOffset:s,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelection(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],_w(c)||r.push({node:c.focusNode,offset:c.focusOffset})),iw&&8===e.input.lastKeyCode)for(let e=s;e>o;e--){let t=i.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){s=e;break}if(!n||n.size)break}let d=e.state.doc,p=e.someProp("domParser")||xt.fromSchema(e.state.schema),h=d.resolve(a),f=null,m=p.parse(i,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:o,to:s,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Gx,context:h});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),f={anchor:e+a,head:t+a}}return{doc:m,sel:f,from:a,to:l}}(e,t,n),d=e.state.doc,p=d.slice(u.from,u.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(a=e.state.selection.to,l="end"):(a=e.state.selection.from,l="start"),e.input.lastKeyCode=null;let h=function(e,t,n,r,i){let o=e.findDiffStart(t,n);if(null==o)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==i){r-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.size<t.size){o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o}else if(a<o){o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}(p.content,u.doc.content,u.from,a,l);if((aw&&e.input.lastIOSEnter>Date.now()-225||cw)&&i.some((e=>"DIV"==e.nodeName||"P"==e.nodeName))&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",(t=>t(e,xw(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!h){if(!(r&&c instanceof In&&!c.empty&&c.$head.sameParent(c.$anchor))||e.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let t=Qx(e,e.state.doc,u.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}h={start:c.from,endA:c.to,endB:c.to}}if(iw&&e.cursorWrapper&&u.sel&&u.sel.anchor==e.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let e=h.endB-h.start;u.sel={anchor:u.sel.anchor+e,head:u.sel.anchor+e}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof In&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),ew&&tw<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&" "==u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)&&(h.start--,h.endA--,h.endB--);let f,m=u.doc.resolveNoCache(h.start-u.from),g=u.doc.resolveNoCache(h.endB-u.from),b=d.resolve(h.start),y=m.sameParent(g)&&m.parent.inlineContent&&b.end()>=h.endA;if((aw&&e.input.lastIOSEnter>Date.now()-225&&(!y||i.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!y&&m.pos<u.doc.content.size&&(f=An.findFrom(u.doc.resolve(m.pos+1),1,!0))&&f.head==g.pos)&&e.someProp("handleKeyDown",(t=>t(e,xw(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>h.start&&function(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||Jx(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(Jx(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Jx(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(d,h.start,h.endA,m,g)&&e.someProp("handleKeyDown",(t=>t(e,xw(8,"Backspace")))))return void(cw&&iw&&e.domObserver.suppressSelectionUpdates());iw&&cw&&h.endB==h.start&&(e.input.lastAndroidDelete=Date.now()),cw&&!y&&m.start()!=g.start()&&0==g.parentOffset&&m.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,g=u.doc.resolveNoCache(h.endB-u.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,xw(13,"Enter"))}))}),20));let v,w,_,x=h.start,k=h.endA;if(y)if(m.pos==g.pos)ew&&tw<=11&&0==m.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>y_(e)),20)),v=e.state.tr.delete(x,k),w=d.resolve(h.start).marksAcross(d.resolve(h.endA));else if(h.endA==h.endB&&(_=function(e,t){let n,r,i,o=e.firstChild.marks,s=t.firstChild.marks,a=o,l=s;for(let e=0;e<s.length;e++)a=s[e].removeFromSet(a);for(let e=0;e<o.length;e++)l=o[e].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",i=e=>e.mark(r.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",i=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(i(t.child(e)));if(Te.from(c).eq(e))return{mark:r,type:n}}(m.parent.content.cut(m.parentOffset,g.parentOffset),b.parent.content.cut(b.parentOffset,h.endA-b.start()))))v=e.state.tr,"add"==_.type?v.addMark(x,k,_.mark):v.removeMark(x,k,_.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let t=m.parent.textBetween(m.parentOffset,g.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,x,k,t))))return;v=e.state.tr.insertText(t,x,k)}if(v||(v=e.state.tr.replace(x,k,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let t=Qx(e,v.doc,u.sel);t&&!(iw&&cw&&e.composing&&t.empty&&(h.start!=h.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==x||t.head==v.mapping.map(k)-1)||ew&&t.empty&&t.head==x)&&v.setSelection(t)}w&&v.ensureMarks(w),e.dispatch(v.scrollIntoView())}function Qx(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:M_(e,t.resolve(n.anchor),t.resolve(n.head))}function Jx(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,i++}return i}class Zx{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tx,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(rk),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=tk(this),ek(this),this.nodeViews=nk(this),this.docView=e_(this.state.doc,Xx(this),Ux(this),this.dom,this),this.domObserver=new Wx(this,((e,t,n,r)=>Yx(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in Z_){let n=Z_[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!ox(e,t)||ix(e,t)||!e.editable&&t.type in X_||n(e,t)},ex[t]?{passive:!0}:void 0)}sw&&e.dom.addEventListener("input",(()=>null)),rx(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&rx(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(rk),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,r=!1,i=!1;e.storedMarks&&this.composing&&(yx(this),i=!0),this.state=e;let o=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=nk(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,r=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&rx(this),this.editable=tk(this),ek(this);let s=Ux(this),a=Xx(this),l=n.plugins==e.plugins||n.doc.eq(e.doc)?e.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",c=r||!this.docView.matchesNode(e.doc,a,s);!c&&e.selection.eq(n.selection)||(i=!0);let u="preserve"==l&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(o,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=i-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:Dw(e.dom)}}(this);if(i){this.domObserver.stop();let t=c&&(ew||iw)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(c){let n=iw?this.trackWrites=this.domSelection().focusNode:null;!r&&this.docView.update(e.doc,a,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=e_(e.doc,a,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelection();return gw(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?y_(this,t):(k_(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():u&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Sw(n,0==r?0:r-t)}(u)}scrollToSelection(){let e=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof jn){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&Cw(this,t.getBoundingClientRect(),e)}else Cw(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r].props[e];if(null!=i&&(n=t?t(i):i))return n}let i=this.state.plugins;if(i)for(let r=0;r<i.length;r++){let o=i[r].props[e];if(null!=o&&(n=t?t(o):o))return n}}hasFocus(){if(ew){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(Aw)return e.focus(Aw);let t=Dw(e);e.focus(null==Aw?{get preventScroll(){return Aw={preventScroll:!0},!0}}:void 0),Aw||(Aw=!1,Sw(t,0))}(this.dom),y_(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return Iw(this,e)}coordsAtPos(e,t=1){return Rw(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return Vw(this,t||this.state,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ux(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){ix(e,t)||!Z_[t.type]||!e.editable&&t.type in X_||Z_[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function Xx(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[Sx.node(0,e.state.doc.content.size,t)]}function ek(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Sx.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function tk(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function nk(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function rk(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ik={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ok={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},sk="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);"undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);for(var ak="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),lk="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ck=ak||sk&&+sk[1]<57,uk=0;uk<10;uk++)ik[48+uk]=ik[96+uk]=String(uk);for(uk=1;uk<=24;uk++)ik[uk+111]="F"+uk;for(uk=65;uk<=90;uk++)ik[uk]=String.fromCharCode(uk+32),ok[uk]=String.fromCharCode(uk);for(var dk in ik)ok.hasOwnProperty(dk)||(ok[dk]=ik[dk]);const pk="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function hk(e){let t,n,r,i,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let e=0;e<o.length-1;e++){let s=o[e];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);pk?i=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function fk(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function mk(e){let t=function(e){let t=Object.create(null);for(let n in e)t[hk(n)]=e[n];return t}(e);return function(e,n){let r,i=function(e){var t=!(ck&&(e.ctrlKey||e.altKey||e.metaKey)||lk&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?ok:ik)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),o=1==i.length&&" "!=i,s=t[fk(i,n,!o)];if(s&&s(e.state,e.dispatch,e))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=ik[n.keyCode])&&r!=i){let i=t[fk(r,n,!0)];if(i&&i(e.state,e.dispatch,e))return!0}else if(o&&n.shiftKey){let r=t[fk(i,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}return!1}}function gk(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function bk(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function yk(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function vk(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function wk(e,t,n){let r,i,o=t.nodeBefore,s=t.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(o,o+1)||!i.isTextblock&&!pn(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(r[0]||s.type).validEnd){if(n){let i=t.pos+s.nodeSize,a=Te.empty;for(let e=r.length-1;e>=0;e--)a=Te.from(r[e].create(null,a));a=Te.from(o.copy(a));let l=e.tr.step(new on(t.pos-1,i,t.pos,i,new ze(a,1,0),r.length,!0)),c=i+2*r.length;pn(l.doc,c)&&l.join(c),n(l.scrollIntoView())}return!0}let l=An.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&ln(c);if(null!=u&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(a&&gk(s,"start",!0)&&gk(o,"end")){let r=o,i=[];for(;i.push(r),!r.isTextblock;)r=r.lastChild;let a=s,l=1;for(;!a.isTextblock;a=a.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,a.content)){if(n){let r=Te.empty;for(let e=i.length-1;e>=0;e--)r=Te.from(i[e].copy(r));n(e.tr.step(new on(t.pos-i.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new ze(r,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function _k(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(In.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}const xk=_k(-1),kk=_k(1);function Ek(e,t=null){return function(n,r){let{from:i,to:o}=n.selection,s=!1;return n.doc.nodesBetween(i,o,((r,i)=>{if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{let t=n.doc.resolve(i),r=t.index();s=t.parent.canReplaceWith(r,r+1,e)}})),!!s&&(r&&r(n.tr.setBlockType(i,o,e,t).scrollIntoView()),!0)}}function Mk(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==i.index(s.depth-1))return!1;let e=n.doc.resolve(s.start-2);l=new et(e,e,s.depth),s.endIndex<s.parent.childCount&&(s=new et(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=cn(l,e,t,s);return!!c&&(r&&r(function(e,t,n,r,i){let o=Te.empty;for(let e=n.length-1;e>=0;e--)o=Te.from(n[e].type.create(n[e].attrs,o));e.step(new on(t.start-(r?2:0),t.end,t.start,t.end,new ze(o,0,0),n.length,!0));let s=0;for(let e=0;e<n.length;e++)n[e].type==i&&(s=e+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let n=t.startIndex,r=t.endIndex,i=!0;n<r;n++,i=!1)!i&&dn(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(n).nodeSize;return e}(n.tr,s,c,a,e).scrollIntoView()),!0)}}function Ck(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,(t=>t.childCount>0&&t.firstChild.type==e));return!!o&&(!n||(r.node(o.depth-1).type==e?function(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new on(o-1,s,o,s,new ze(Te.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new et(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=ln(r);if(null==a)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;pn(i.doc,l)&&i.join(l);return t(i.scrollIntoView()),!0}(t,n,e,o):function(e,t,n){let r=e.tr,i=n.parent;for(let e=n.end,t=n.endIndex-1,o=n.startIndex;t>o;t--)e-=i.child(t).nodeSize,r.delete(e-1,e+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?Te.empty:Te.from(i))))return!1;let d=o.pos,p=d+s.nodeSize;return r.step(new on(d-(a?1:0),p+(l?1:0),d+1,p-1,new ze((a?Te.empty:Te.from(i.copy(Te.empty))).append(l?Te.empty:Te.from(i.copy(Te.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}(t,n,o)))}}function Dk(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();class Sk{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(...e)=>{const n=t(...e)(o);return i.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(i),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s=[],a=!!e,l=e||i.tr,c={...Object.fromEntries(Object.entries(n).map((([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),i=n(...e)(r);return s.push(i),c}]))),run:()=>(a||!t||l.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(l),s.every((e=>!0===e)))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r),s=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(...e)=>t(...e)({...o,dispatch:void 0})])));return{...s,chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r;i.storedMarks&&e.setStoredMarks(i.storedMarks);const s={tr:e,editor:r,view:o,state:Dk({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map((([e,t])=>[e,(...e)=>t(...e)(s)])))}};return s}}function Ak(e,t,n){if(void 0===e.config[t]&&e.parent)return Ak(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?Ak(e.parent,t,n):null})}return e.config[t]}function Nk(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function Ok(e){const t=[],{nodeExtensions:n,markExtensions:r}=Nk(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach((e=>{const n=Ak(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((([e,r])=>{t.push({type:n,name:e,attribute:{...o,...r}})}))}))}))})),i.forEach((e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ak(e,"addAttributes",n);if(!r)return;const i=r();Object.entries(i).forEach((([n,r])=>{const i={...o,...r};(null==r?void 0:r.isRequired)&&void 0===(null==r?void 0:r.default)&&delete i.default,t.push({type:e.name,name:n,attribute:i})}))})),t}function Tk(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function Ik(...e){return e.filter((e=>!!e)).reduce(((e,t)=>{const n={...e};return Object.entries(t).forEach((([e,t])=>{n[e]?n[e]="class"===e?[n[e],t].join(" "):"style"===e?[n[e],t].join("; "):t:n[e]=t})),n}),{})}function Lk(e,t){return t.filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>Ik(e,t)),{})}function jk(e){return"function"==typeof e}function Rk(e,t=void 0,...n){return jk(e)?t?e.bind(t)(...n):e(...n):e}function Fk(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const i=t.reduce(((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}}),{});return{...r,...i}}}}function zk(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t)))}function Pk(e,t){return t.nodes[e]||t.marks[e]||null}function Bk(e,t){return Array.isArray(t)?t.some((t=>("string"==typeof t?t:t.name)===e.name)):t}function Uk(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class Hk{constructor(e){this.find=e.find,this.handler=e.handler}}function $k(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find((e=>e.type.spec.code))))return!1;let u=!1;const d=((e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,((e,t,i,o)=>{var s,a;const l=(null===(a=(s=e.type.spec).toText)||void 0===a?void 0:a.call(s,{node:e,pos:t,parent:i,index:o}))||e.textContent||"%leaf%";n+=l.slice(0,Math.max(0,r-t))})),n})(c)+o;return s.forEach((e=>{if(u)return;const t=((e,t)=>{if(Uk(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(d,e.find);if(!t)return;const s=l.state.tr,c=Dk({state:l.state,transaction:s}),p={from:r-(t[0].length-o.length),to:i},{commands:h,chain:f,can:m}=new Sk({editor:n,state:c});null!==e.handler({state:c,range:p,match:t,commands:h,chain:f,can:m})&&s.steps.length&&(s.setMeta(a,{transform:s,from:r,to:i,text:o}),l.dispatch(s),u=!0)})),u}function Vk(e){const{editor:t,rules:n}=e,r=new Jn({state:{init:()=>null,apply(e,t){const n=e.getMeta(r);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,i,o,s)=>$k({editor:t,from:i,to:o,text:s,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:i}=e.state.selection;i&&$k({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})})),!1)},handleKeyDown(e,i){if("Enter"!==i.key)return!1;const{$cursor:o}=e.state.selection;return!!o&&$k({editor:t,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}class Wk{constructor(e){this.find=e.find,this.handler=e.handler}}function qk(e){const{editor:t,state:n,from:r,to:i,rule:o}=e,{commands:s,chain:a,can:l}=new Sk({editor:t,state:n}),c=[];n.doc.nodesBetween(r,i,((e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const u=Math.max(r,t),d=Math.min(i,t+e.content.size),p=((e,t)=>{if(Uk(t))return[...e.matchAll(t)];const n=t(e);return n?n.map((t=>{const n=[];return n.push(t.text),n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n})):[]})(e.textBetween(u-t,d-t,void 0,""),o.find);p.forEach((e=>{if(void 0===e.index)return;const t=u+e.index+1,r=t+e[0].length,i={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},d=o.handler({state:n,range:i,match:e,commands:s,chain:a,can:l});c.push(d)}))}));return c.every((e=>null!==e))}function Kk(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1;const s=n.map((e=>new Jn({view(e){const t=t=>{var n;r=(null===(n=e.dom.parentElement)||void 0===n?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:e=>(o=r===e.dom.parentElement,!1),paste:(e,t)=>{var n;const r=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return i=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(n,r,s)=>{const a=n[0],l="paste"===a.getMeta("uiEvent")&&!i,c="drop"===a.getMeta("uiEvent")&&!o;if(!l&&!c)return;const u=r.doc.content.findDiffStart(s.doc.content),d=r.doc.content.findDiffEnd(s.doc.content);if("number"!=typeof u||!d||u===d.b)return;const p=s.tr,h=Dk({state:s,transaction:p});return qk({editor:t,state:h,from:Math.max(u-1,0),to:d.b-1,rule:e})&&p.steps.length?p:void 0}})));return s}class Gk{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Gk.resolve(e),this.schema=function(e){var t;const n=Ok(e),{nodeExtensions:r,markExtensions:i}=Nk(e),o=null===(t=r.find((e=>Ak(e,"topNode"))))||void 0===t?void 0:t.name,s=Object.fromEntries(r.map((t=>{const r=n.filter((e=>e.type===t.name)),i={name:t.name,options:t.options,storage:t.storage},o=e.reduce(((e,n)=>{const r=Ak(n,"extendNodeSchema",i);return{...e,...r?r(t):{}}}),{}),s=zk({...o,content:Rk(Ak(t,"content",i)),marks:Rk(Ak(t,"marks",i)),group:Rk(Ak(t,"group",i)),inline:Rk(Ak(t,"inline",i)),atom:Rk(Ak(t,"atom",i)),selectable:Rk(Ak(t,"selectable",i)),draggable:Rk(Ak(t,"draggable",i)),code:Rk(Ak(t,"code",i)),defining:Rk(Ak(t,"defining",i)),isolating:Rk(Ak(t,"isolating",i)),attrs:Object.fromEntries(r.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),a=Rk(Ak(t,"parseHTML",i));a&&(s.parseDOM=a.map((e=>Fk(e,r))));const l=Ak(t,"renderHTML",i);l&&(s.toDOM=e=>l({node:e,HTMLAttributes:Lk(e,r)}));const c=Ak(t,"renderText",i);return c&&(s.toText=c),[t.name,s]}))),a=Object.fromEntries(i.map((t=>{const r=n.filter((e=>e.type===t.name)),i={name:t.name,options:t.options,storage:t.storage},o=e.reduce(((e,n)=>{const r=Ak(n,"extendMarkSchema",i);return{...e,...r?r(t):{}}}),{}),s=zk({...o,inclusive:Rk(Ak(t,"inclusive",i)),excludes:Rk(Ak(t,"excludes",i)),group:Rk(Ak(t,"group",i)),spanning:Rk(Ak(t,"spanning",i)),code:Rk(Ak(t,"code",i)),attrs:Object.fromEntries(r.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),a=Rk(Ak(t,"parseHTML",i));a&&(s.parseDOM=a.map((e=>Fk(e,r))));const l=Ak(t,"renderHTML",i);return l&&(s.toDOM=e=>l({mark:e,HTMLAttributes:Lk(e,r)})),[t.name,s]})));return new wt({topNode:o,nodes:s,marks:a})}(this.extensions),this.extensions.forEach((e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Pk(e.name,this.schema)};if("mark"===e.type){(null===(t=Rk(Ak(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const r=Ak(e,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const i=Ak(e,"onCreate",n);i&&this.editor.on("create",i);const o=Ak(e,"onUpdate",n);o&&this.editor.on("update",o);const s=Ak(e,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=Ak(e,"onTransaction",n);a&&this.editor.on("transaction",a);const l=Ak(e,"onFocus",n);l&&this.editor.on("focus",l);const c=Ak(e,"onBlur",n);c&&this.editor.on("blur",c);const u=Ak(e,"onDestroy",n);u&&this.editor.on("destroy",u)}))}static resolve(e){const t=Gk.sort(Gk.flatten(e)),n=function(e){const t=e.filter(((t,n)=>e.indexOf(t)!==n));return[...new Set(t)]}(t.map((e=>e.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((e=>`'${e}'`)).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map((e=>{const t=Ak(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e})).flat(10)}static sort(e){const t=100;return e.sort(((e,n)=>{const r=Ak(e,"priority")||t,i=Ak(n,"priority")||t;return r>i?-1:r<i?1:0}))}get commands(){return this.extensions.reduce(((e,t)=>{const n=Ak(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Pk(t.name,this.schema)});return n?{...e,...n()}:e}),{})}get plugins(){const{editor:e}=this,t=Gk.sort([...this.extensions].reverse()),n=[],r=[],i=t.map((t=>{const i={name:t.name,options:t.options,storage:t.storage,editor:e,type:Pk(t.name,this.schema)},o=[],s=Ak(t,"addKeyboardShortcuts",i);let a={};if("mark"===t.type&&t.config.exitable&&(a.ArrowRight=()=>HE.handleExit({editor:e,mark:t})),s){const t=Object.fromEntries(Object.entries(s()).map((([t,n])=>[t,()=>n({editor:e})])));a={...a,...t}}const l=new Jn({props:{handleKeyDown:mk(a)}});o.push(l);const c=Ak(t,"addInputRules",i);Bk(t,e.options.enableInputRules)&&c&&n.push(...c());const u=Ak(t,"addPasteRules",i);Bk(t,e.options.enablePasteRules)&&u&&r.push(...u());const d=Ak(t,"addProseMirrorPlugins",i);if(d){const e=d();o.push(...e)}return o})).flat();return[Vk({editor:e,rules:n}),...Kk({editor:e,rules:r}),...i]}get attributes(){return Ok(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Nk(this.extensions);return Object.fromEntries(t.filter((e=>!!Ak(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:t.storage,editor:e,type:Tk(t.name,this.schema)},i=Ak(t,"addNodeView",r);if(!i)return[];return[t.name,(r,o,s,a)=>{const l=Lk(r,n);return i()({editor:e,node:r,getPos:s,decorations:a,HTMLAttributes:l,extension:t})}]})))}}function Yk(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function Qk(e,t){const n={...e};return Yk(e)&&Yk(t)&&Object.keys(t).forEach((r=>{Yk(t[r])?r in e?n[r]=Qk(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})})),n}class Jk{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Rk(Ak(this,"addOptions",{name:this.name}))),this.storage=Rk(Ak(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Jk(e)}configure(e={}){const t=this.extend();return t.options=Qk(this.options,e),t.storage=Rk(Ak(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Jk(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Rk(Ak(t,"addOptions",{name:t.name})),t.storage=Rk(Ak(t,"addStorage",{name:t.name,options:t.options})),t}}function Zk(e,t,n){const{from:r,to:i}=t,{blockSeparator:o="\n\n",textSerializers:s={}}=n||{};let a="",l=!0;return e.nodesBetween(r,i,((e,n,c,u)=>{var d;const p=null==s?void 0:s[e.type.name];p?(e.isBlock&&!l&&(a+=o,l=!0),c&&(a+=p({node:e,pos:n,parent:c,index:u,range:t}))):e.isText?(a+=null===(d=null==e?void 0:e.text)||void 0===d?void 0:d.slice(Math.max(r,n)-n,i-n),l=!1):e.isBlock&&!l&&(a+=o,l=!0)})),a}function Xk(e){return Object.fromEntries(Object.entries(e.nodes).filter((([,e])=>e.spec.toText)).map((([e,t])=>[e,t.spec.toText])))}const eE=Jk.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Jn({key:new er("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map((e=>e.$from.pos))),a=Math.max(...o.map((e=>e.$to.pos)));return Zk(r,{from:s,to:a},{textSerializers:Xk(n)})}}})]}});function tE(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every((r=>n.strict?t[r]===e[r]:Uk(t[r])?t[r].test(e[r]):t[r]===e[r]))}function nE(e,t,n={}){return e.find((e=>e.type===t&&tE(e.attrs,n)))}function rE(e,t,n={}){return!!nE(e,t,n)}function iE(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&0!==r.offset&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=nE([...r.node.marks],t,n);if(!i)return;let o=r.index,s=e.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(nE([...r.node.marks],t,n);o>0&&i.isInSet(e.parent.child(o-1).marks);)o-=1,s-=e.parent.child(o).nodeSize;for(;a<e.parent.childCount&&rE([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function oE(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function sE(e){return e instanceof In}function aE(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function lE(e,t=null){if(!t)return null;const n=An.atStart(e),r=An.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const i=n.from,o=r.to;return"all"===t?In.create(e,aE(0,i,o),aE(e.content.size,i,o)):In.create(e,aE(t,i,o),aE(t,i,o))}function cE(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function uE(e){const t=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(t,"text/html").body}function dE(e,t,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof e&&null!==e)try{return Array.isArray(e)?Te.fromArray(e.map((e=>t.nodeFromJSON(e)))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),dE("",t,n)}if("string"==typeof e){const r=xt.fromSchema(t);return n.slice?r.parseSlice(uE(e),n.parseOptions).content:r.parse(uE(e),n.parseOptions)}return dE("",t,n)}function pE(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function hE(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,s=t?Tk(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,((e,t)=>{if(e.isText)return;const n=Math.max(r,t),o=Math.min(i,t+e.nodeSize);a.push({node:e,from:n,to:o})}));const l=i-r,c=a.filter((e=>!s||s.name===e.node.type.name)).filter((e=>tE(e.node.attrs,n,{strict:!1})));if(o)return!!c.length;return c.reduce(((e,t)=>e+t.to-t.from),0)>=l}function fE(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function mE(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce(((t,r)=>(n.includes(r)||(t[r]=e[r]),t)),{})}function gE(e,t,n={}){return dE(e,t,{slice:!1,parseOptions:n})}function bE(e,t){const n=[];return e.descendants(((e,r)=>{t(e)&&n.push({node:e,pos:r})})),n}function yE(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function vE(e){return t=>yE(t.$from,e)}function wE(e,t){const n=oE(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,(e=>{s.push(...e.marks)}));const a=s.find((e=>e.type.name===n.name));return a?{...a.attrs}:{}}function _E(e,t){const n=fE("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=Tk(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,(e=>{o.push(e)}));const s=o.reverse().find((e=>e.type.name===n.name));return s?{...s.attrs}:{}}(e,t):"mark"===n?wE(e,t):{}}function xE(e){const t=function(e,t=JSON.stringify){const n={};return e.filter((e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}(e);return 1===t.length?t:t.filter(((e,n)=>{const r=t.filter(((e,t)=>t!==n));return!r.some((t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}))}function kE(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach((t=>{const i=iE(n.resolve(e-1),t.type);i&&r.push({mark:t,...i})})):n.nodesBetween(e,t,((e,t)=>{r.push(...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n}))))})),r}function EE(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?oE(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!o||o.name===e.type.name)).find((e=>tE(e.attrs,n,{strict:!1})));let s=0;const a=[];if(i.forEach((({$from:t,$to:n})=>{const r=t.pos,i=n.pos;e.doc.nodesBetween(r,i,((e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),o=Math.min(i,t+e.nodeSize);s+=o-n,a.push(...e.marks.map((e=>({mark:e,from:n,to:o}))))}))})),0===s)return!1;const l=a.filter((e=>!o||o.name===e.mark.type.name)).filter((e=>tE(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+t.to-t.from),0),c=a.filter((e=>!o||e.mark.type!==o&&e.mark.type.excludes(o))).reduce(((e,t)=>e+t.to-t.from),0);return(l>0?l+c:l)>=s}function ME(e,t){const{nodeExtensions:n}=Nk(t),r=n.find((t=>t.name===e));if(!r)return!1;const i=Rk(Ak(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof i&&i.split(" ").includes("list")}function CE(e,t,n){const r=0,i=e.state.doc.content.size,o=aE(t,r,i),s=aE(n,r,i),a=e.coordsAtPos(o),l=e.coordsAtPos(s,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),p=Math.max(a.right,l.right),h={top:c,bottom:u,left:d,right:p,width:p-d,height:u-c,x:d,y:c};return{...h,toJSON:()=>h}}function DE(e,t,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const r=e.find((e=>e.type===t&&e.name===n));return!!r&&r.attribute.keepOnSplit})))}function SE(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(r)}}const AE=(e,t)=>{const n=vE((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r);return n.node.type!==(null==i?void 0:i.type)||!pn(e.doc,n.pos)||(e.join(n.pos),!0)},NE=(e,t)=>{const n=vE((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r);return n.node.type!==(null==i?void 0:i.type)||!pn(e.doc,r)||(e.join(r),!0)};var OE=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame((()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return!n||(i.forEach((({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,((e,n)=>{if(e.type.isText)return;const{doc:r,mapping:i}=t,o=r.resolve(i.map(n)),s=r.resolve(i.map(n+e.nodeSize)),a=o.blockRange(s);if(!a)return;const l=ln(a);if(e.type.isTextblock){const{defaultType:e}=o.parent.contentMatchAt(o.index());t.setNodeMarkup(a.start,e)}(l||0===l)&&t.lift(a,l)}))})),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>((e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Fn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=vk(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(n,o.createAndFill());s.setSelection(In.create(s.doc,n+1)),t(s.scrollIntoView())}return!0})(e,t),deleteNode:e=>({tr:t,state:n,dispatch:r})=>{const i=Tk(e,n.schema),o=t.selection.$anchor;for(let e=o.depth;e>0;e-=1){if(o.node(e).type===i){if(r){const n=o.before(e),r=o.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},deleteSelection:()=>({state:e,dispatch:t})=>((e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0))(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>((e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=vk(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,s.createAndFill());i.setSelection(An.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0})(e,t),extendMarkRange:(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=oE(e,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const e=iE(l,o,t);if(e&&e.from<=c&&e.to>=u){const t=In.create(s,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{cE()&&r.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())}))};if(r.hasFocus()&&null===e||!1===e)return!0;if(o&&null===e&&!sE(n.state.selection))return s(),!0;const a=lE(i.doc,e)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},forEach:(e,t)=>n=>e.every(((e,r)=>t(e,{...n,index:r}))),insertContent:(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const i=dE(t,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===i.toString())return!0;let{from:s,to:a}="number"==typeof e?{from:e,to:e}:e,l=!0,c=!0;if((i.toString().startsWith("<")?i:[i]).forEach((e=>{e.check(),l=!!l&&(e.isText&&0===e.marks.length),c=!!c&&e.isBlock})),s===a&&c){const{parent:e}=r.doc.resolve(s);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(s-=1,a+=1)}l?r.insertText(t,s,a):r.replaceWith(s,a,i),n.updateSelection&&function(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof rn||i instanceof on))return;const o=e.mapping.maps[r];let s=0;o.forEach(((e,t,n,r)=>{0===s&&(s=r)})),e.setSelection(An.near(e.doc.resolve(s),n))}(r,r.steps.length-1,-1)}return!0},joinBackward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;let i=bk(r);if(!i){let n=r.blockRange(),i=n&&ln(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&wk(e,i,t))return!0;if(0==r.parent.content.size&&(gk(o,"end")||jn.isSelectable(o))){let n=fn(e.doc,r.before(),r.after(),ze.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(gk(o,"end")?An.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):jn.create(r.doc,i.pos-o.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),0))})(e,t),joinForward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;let i=yk(r);if(!i)return!1;let o=i.nodeAfter;if(wk(e,i,t))return!0;if(0==r.parent.content.size&&(gk(o,"start")||jn.isSelectable(o))){let n=fn(e.doc,r.before(),r.after(),ze.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(gk(o,"start")?An.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):jn.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),0))})(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=function(e){const t=e.split(/-(?!$)/);let n,r,i,o,s=t[t.length-1];"Space"===s&&(s=" ");for(let e=0;e<t.length-1;e+=1){const s=t[e];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else if(/^s(hift)?$/i.test(s))i=!0;else{if(!/^mod$/i.test(s))throw new Error(`Unrecognized modifier name: ${s}`);cE()||pE()?o=!0:r=!0}}return n&&(s=`Alt-${s}`),r&&(s=`Ctrl-${s}`),o&&(s=`Meta-${s}`),i&&(s=`Shift-${s}`),s}(e).split(/-(?!$)/),s=o.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction((()=>{n.someProp("handleKeyDown",(e=>e(n,a)))}));return null==l||l.steps.forEach((e=>{const t=e.map(r.mapping);t&&i&&r.maybeStep(t)})),!0},lift:(e,t={})=>({state:n,dispatch:r})=>!!hE(n,Tk(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&ln(i);return null!=o&&(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)})(n,r),liftEmptyBlock:()=>({state:e,dispatch:t})=>((e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(dn(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&ln(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)})(e,t),liftListItem:e=>({state:t,dispatch:n})=>Ck(Tk(e,t.schema))(t,n),newlineInCode:()=>({state:e,dispatch:t})=>((e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))})(e,t),resetAttributes:(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=fE("string"==typeof e?e:e.name,r.schema);return!!a&&("node"===a&&(o=Tk(e,r.schema)),"mark"===a&&(s=oE(e,r.schema)),i&&n.selection.ranges.forEach((e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,r)=>{o&&o===e.type&&n.setNodeMarkup(r,void 0,mE(e.attrs,t)),s&&e.marks.length&&e.marks.forEach((i=>{s===i.type&&n.addMark(r,r+e.nodeSize,s.create(mE(i.attrs,t)))}))}))})),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),selectNodeBackward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=bk(r)}let s=o&&o.nodeBefore;return!(!s||!jn.isSelectable(s)||(t&&t(e.tr.setSelection(jn.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),0))})(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=yk(r)}let s=o&&o.nodeAfter;return!(!s||!jn.isSelectable(s)||(t&&t(e.tr.setSelection(jn.create(e.doc,o.pos)).scrollIntoView()),0))})(e,t),selectParentNode:()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:r,to:i}=e.selection,o=r.sharedDepth(i);return 0!=o&&(n=r.before(o),t&&t(e.tr.setSelection(jn.create(e.doc,n))),!0)})(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>kk(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>xk(e,t),setContent:(e,t=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=gE(e,i.schema,n);return o&&r.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!t),!0},setMark:(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=oE(e,r.schema);if(i)if(s){const e=wE(r,l);n.addStoredMark(l.create({...e,...t}))}else a.forEach((e=>{const i=e.$from.pos,o=e.$to.pos;r.doc.nodesBetween(i,o,((e,r)=>{const s=Math.max(r,i),a=Math.min(r+e.nodeSize,o);e.marks.find((e=>e.type===l))?e.marks.forEach((e=>{l===e.type&&n.addMark(s,a,l.create({...e.attrs,...t}))})):n.addMark(s,a,l.create(t))}))}));return function(e,t,n){var r;const{selection:i}=t;let o=null;if(sE(i)&&(o=i.$cursor),o){const t=null!==(r=e.storedMarks)&&void 0!==r?r:o.marks();return!!n.isInSet(t)||!t.some((e=>e.type.excludes(n)))}const{ranges:s}=i;return s.some((({$from:t,$to:r})=>{let i=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,((e,t,r)=>{if(i)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some((e=>e.type.excludes(n)));i=t&&o}return!i})),i}))}(r,n,l)},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Tk(e,n.schema);return o.isTextblock?i().command((({commands:e})=>!!Ek(o,t)(n)||e.clearNodes())).command((({state:e})=>Ek(o,t)(e,r))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=aE(e,0,n.content.size),i=jn.create(n,r);t.setSelection(i)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:i}="number"==typeof e?{from:e,to:e}:e,o=In.atStart(n).from,s=In.atEnd(n).to,a=aE(r,o,s),l=aE(i,o,s),c=In.create(n,a,l);t.setSelection(c)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>{const r=Tk(e,t.schema);return(i=r,function(e,t){let{$from:n,$to:r}=e.selection,o=n.blockRange(r,(e=>e.childCount>0&&e.firstChild.type==i));if(!o)return!1;let s=o.startIndex;if(0==s)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=i)return!1;if(t){let n=l.lastChild&&l.lastChild.type==a.type,r=Te.from(n?i.create():null),s=new ze(Te.from(i.create(null,Te.from(a.type.create(null,r)))),n?3:1,0),c=o.start,u=o.end;t(e.tr.step(new on(c-(n?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0})(t,n);var i},splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=t,{$from:a,$to:l}=o,c=DE(i.extensionManager.attributes,a.node().type.name,a.node().attrs);if(o instanceof jn&&o.node.isBlock)return!(!a.parentOffset||!dn(s,a.pos))&&(r&&(e&&SE(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const r=l.parentOffset===l.parent.content.size;o instanceof In&&t.deleteSelection();const s=0===a.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(a.node(-1).contentMatchAt(a.indexAfter(-1)));let u=r&&s?[{type:s,attrs:c}]:void 0,d=dn(t.doc,t.mapping.map(a.pos),1,u);if(u||d||!dn(t.doc,t.mapping.map(a.pos),1,s?[{type:s}]:void 0)||(d=!0,u=s?[{type:s,attrs:c}]:void 0),d&&(t.split(t.mapping.map(a.pos),1,u),s&&!r&&!a.parentOffset&&a.parent.type!==s)){const e=t.mapping.map(a.before()),n=t.doc.resolve(e);a.node(-1).canReplaceWith(n.index(),n.index()+1,s)&&t.setNodeMarkup(t.mapping.map(a.before()),s)}e&&SE(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},splitListItem:e=>({tr:t,state:n,dispatch:r,editor:i})=>{var o;const s=Tk(e,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==s)return!1;const d=i.extensionManager.attributes;if(0===a.parent.content.size&&a.node(-1).childCount===a.indexAfter(-1)){if(2===a.depth||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let e=Te.empty;const n=a.index(-1)?1:a.index(-2)?2:3;for(let t=a.depth-n;t>=a.depth-3;t-=1)e=Te.from(a.node(t).copy(e));const r=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,i=DE(d,a.node().type.name,a.node().attrs),l=(null===(o=s.contentMatch.defaultType)||void 0===o?void 0:o.createAndFill(i))||void 0;e=e.append(Te.from(s.createAndFill(null,l)||void 0));const c=a.before(a.depth-(n-1));t.replace(c,a.after(-r),new ze(e,4-n,0));let u=-1;t.doc.nodesBetween(c,t.doc.content.size,((e,t)=>{if(u>-1)return!1;e.isTextblock&&0===e.content.size&&(u=t+1)})),u>-1&&t.setSelection(In.near(t.doc.resolve(u))),t.scrollIntoView()}return!0}const p=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,h=DE(d,u.type.name,u.attrs),f=DE(d,a.node().type.name,a.node().attrs);t.delete(a.pos,l.pos);const m=p?[{type:s,attrs:h},{type:p,attrs:f}]:[{type:s,attrs:h}];return!!dn(t.doc,a.pos,2)&&(r&&t.split(a.pos,2,m).scrollIntoView(),!0)},toggleList:(e,t)=>({editor:n,tr:r,state:i,dispatch:o,chain:s,commands:a,can:l})=>{const{extensions:c}=n.extensionManager,u=Tk(e,i.schema),d=Tk(t,i.schema),{selection:p}=i,{$from:h,$to:f}=p,m=h.blockRange(f);if(!m)return!1;const g=vE((e=>ME(e.type.name,c)))(p);if(m.depth>=1&&g&&m.depth-g.depth<=1){if(g.node.type===u)return a.liftListItem(d);if(ME(g.node.type.name,c)&&u.validContent(g.node.content)&&o)return s().command((()=>(r.setNodeMarkup(g.pos,u),!0))).command((()=>AE(r,u))).command((()=>NE(r,u))).run()}return s().command((()=>!!l().wrapInList(u)||a.clearNodes())).wrapInList(u).command((()=>AE(r,u))).command((()=>NE(r,u))).run()},toggleMark:(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=oE(e,r.schema);return EE(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,t)},toggleNode:(e,t,n={})=>({state:r,commands:i})=>{const o=Tk(e,r.schema),s=Tk(t,r.schema);return hE(r,o,n)?i.setNode(s):i.setNode(o,n)},toggleWrap:(e,t={})=>({state:n,commands:r})=>{const i=Tk(e,n.schema);return hE(n,i,t)?r.lift(i):r.wrapIn(i,t)},undoInputRule:()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const t=e.tr,n=o.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(o.text){const n=t.doc.resolve(o.from).marks();t.replaceWith(o.from,o.to,e.schema.text(o.text,n))}else t.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach((t=>{e.removeMark(t.$from.pos,t.$to.pos)})),!0},unsetMark:(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=oE(e,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:e,to:t}=a;const r=null===(o=c.marks().find((e=>e.type===l)))||void 0===o?void 0:o.attrs,i=iE(c,l,r);i&&(e=i.from,t=i.to),n.removeMark(e,t,l)}else d.forEach((e=>{n.removeMark(e.$from.pos,e.$to.pos,l)}));return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=fE("string"==typeof e?e:e.name,r.schema);return!!a&&("node"===a&&(o=Tk(e,r.schema)),"mark"===a&&(s=oE(e,r.schema)),i&&n.selection.ranges.forEach((e=>{const i=e.$from.pos,a=e.$to.pos;r.doc.nodesBetween(i,a,((e,r)=>{o&&o===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),s&&e.marks.length&&e.marks.forEach((o=>{if(s===o.type){const l=Math.max(r,i),c=Math.min(r+e.nodeSize,a);n.addMark(l,c,s.create({...o.attrs,...t}))}}))}))})),!0)},wrapIn:(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&cn(s,e,t);return!!a&&(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0)}}(Tk(e,n.schema),t)(n,r),wrapInList:(e,t={})=>({state:n,dispatch:r})=>Mk(Tk(e,n.schema),t)(n,r)});const TE=Jk.create({name:"commands",addCommands:()=>({...OE})}),IE=Jk.create({name:"editable",addProseMirrorPlugins(){return[new Jn({key:new er("editable"),props:{editable:()=>this.editor.options.editable}})]}}),LE=Jk.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Jn({key:new er("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),jE=Jk.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((({commands:e})=>[()=>e.undoInputRule(),()=>e.command((({tr:t})=>{const{selection:n,doc:r}=t,{empty:i,$anchor:o}=n,{pos:s,parent:a}=o,l=An.atStart(r).from===s;return!(!(i&&l&&a.type.isTextblock)||a.textContent.length)&&e.clearNodes()})),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()])),t=()=>this.editor.commands.first((({commands:e})=>[()=>e.deleteSelection(),()=>e.joinForward(),()=>e.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},i={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return cE()||pE()?i:r},addProseMirrorPlugins(){return[new Jn({key:new er("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some((e=>e.docChanged))&&!t.doc.eq(n.doc)))return;const{empty:r,from:i,to:o}=t.selection,s=An.atStart(t.doc).from,a=An.atEnd(t.doc).to,l=i===s&&o===a,c=0===n.doc.textBetween(0,n.doc.content.size," "," ").length;if(r||!l||!c)return;const u=n.tr,d=Dk({state:n,transaction:u}),{commands:p}=new Sk({editor:this.editor,state:d});return p.clearNodes(),u.steps.length?u:void 0}})]}}),RE=Jk.create({name:"tabindex",addProseMirrorPlugins(){return[new Jn({key:new er("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var FE=Object.freeze({__proto__:null,ClipboardTextSerializer:eE,Commands:TE,Editable:IE,FocusEvents:LE,Keymap:jE,Tabindex:RE});const zE=`.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}`;function PE(e){return new Hk({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Rk(e.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:o}=t,s=r[r.length-1],a=r[0];let l=n.to;if(s){const r=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(kE(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>c)).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+r,c),l=n.from+r+s.length,o.addMark(n.from+r,l,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function BE(e){return new Hk({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=Rk(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function UE(e){return new Hk({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Rk(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),s=o.doc.resolve(n.from).blockRange(),a=s&&cn(s,e.type,i);if(!a)return null;o.wrap(s,a);const l=o.doc.resolve(n.from-1).nodeBefore;l&&l.type===e.type&&pn(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,l))&&o.join(n.from-1)}})}class HE{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Rk(Ak(this,"addOptions",{name:this.name}))),this.storage=Rk(Ak(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new HE(e)}configure(e={}){const t=this.extend();return t.options=Qk(this.options,e),t.storage=Rk(Ak(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new HE(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Rk(Ak(t,"addOptions",{name:t.name})),t.storage=Rk(Ak(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const i=r.marks(),o=!!i.find((e=>(null==e?void 0:e.type.name)===t.name));if(!o)return!1;const s=i.find((e=>(null==e?void 0:e.type.name)===t.name));return s&&n.removeStoredMark(s),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}class $E{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Rk(Ak(this,"addOptions",{name:this.name}))),this.storage=Rk(Ak(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new $E(e)}configure(e={}){const t=this.extend();return t.options=Qk(this.options,e),t.storage=Rk(Ak(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new $E(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Rk(Ak(t,"addOptions",{name:t.name})),t.storage=Rk(Ak(t,"addStorage",{name:t.name,options:t.options})),t}}function VE(e){return new Wk({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Rk(e.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:o}=t,s=r[r.length-1],a=r[0];let l=n.to;if(s){const r=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(kE(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>c)).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+r,c),l=n.from+r+s.length,o.addMark(n.from+r,l,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}var WE="top",qE="bottom",KE="right",GE="left",YE="auto",QE=[WE,qE,KE,GE],JE="start",ZE="end",XE="clippingParents",eM="viewport",tM="popper",nM="reference",rM=QE.reduce((function(e,t){return e.concat([t+"-"+JE,t+"-"+ZE])}),[]),iM=[].concat(QE,[YE]).reduce((function(e,t){return e.concat([t,t+"-"+JE,t+"-"+ZE])}),[]),oM=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function sM(e){return e?(e.nodeName||"").toLowerCase():null}function aM(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function lM(e){return e instanceof aM(e).Element||e instanceof Element}function cM(e){return e instanceof aM(e).HTMLElement||e instanceof HTMLElement}function uM(e){return"undefined"!=typeof ShadowRoot&&(e instanceof aM(e).ShadowRoot||e instanceof ShadowRoot)}var dM={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];cM(i)&&sM(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});cM(r)&&sM(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function pM(e){return e.split("-")[0]}var hM=Math.max,fM=Math.min,mM=Math.round;function gM(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function bM(){return!/^((?!chrome|android).)*safari/i.test(gM())}function yM(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&cM(e)&&(i=e.offsetWidth>0&&mM(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&mM(r.height)/e.offsetHeight||1);var s=(lM(e)?aM(e):window).visualViewport,a=!bM()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function vM(e){var t=yM(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function wM(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&uM(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _M(e){return aM(e).getComputedStyle(e)}function xM(e){return["table","td","th"].indexOf(sM(e))>=0}function kM(e){return((lM(e)?e.ownerDocument:e.document)||window.document).documentElement}function EM(e){return"html"===sM(e)?e:e.assignedSlot||e.parentNode||(uM(e)?e.host:null)||kM(e)}function MM(e){return cM(e)&&"fixed"!==_M(e).position?e.offsetParent:null}function CM(e){for(var t=aM(e),n=MM(e);n&&xM(n)&&"static"===_M(n).position;)n=MM(n);return n&&("html"===sM(n)||"body"===sM(n)&&"static"===_M(n).position)?t:n||function(e){var t=/firefox/i.test(gM());if(/Trident/i.test(gM())&&cM(e)&&"fixed"===_M(e).position)return null;var n=EM(e);for(uM(n)&&(n=n.host);cM(n)&&["html","body"].indexOf(sM(n))<0;){var r=_M(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function DM(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function SM(e,t,n){return hM(e,fM(t,n))}function AM(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function NM(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var OM={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=pM(n.placement),l=DM(a),c=[GE,KE].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return AM("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:NM(e,QE))}(i.padding,n),d=vM(o),p="y"===l?WE:GE,h="y"===l?qE:KE,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=CM(o),b=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,v=u[p],w=b-d[c]-u[h],_=b/2-d[c]/2+y,x=SM(v,_,w),k=l;n.modifiersData[r]=((t={})[k]=x,t.centerOffset=x-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&wM(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function TM(e){return e.split("-")[1]}var IM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function LM(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=s.x,h=void 0===p?0:p,f=s.y,m=void 0===f?0:f,g="function"==typeof u?u({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var b=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),v=GE,w=WE,_=window;if(c){var x=CM(n),k="clientHeight",E="clientWidth";if(x===aM(n)&&"static"!==_M(x=kM(n)).position&&"absolute"===a&&(k="scrollHeight",E="scrollWidth"),i===WE||(i===GE||i===KE)&&o===ZE)w=qE,m-=(d&&x===_&&_.visualViewport?_.visualViewport.height:x[k])-r.height,m*=l?1:-1;if(i===GE||(i===WE||i===qE)&&o===ZE)v=KE,h-=(d&&x===_&&_.visualViewport?_.visualViewport.width:x[E])-r.width,h*=l?1:-1}var M,C=Object.assign({position:a},c&&IM),D=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:mM(t*r)/r||0,y:mM(n*r)/r||0}}({x:h,y:m}):{x:h,y:m};return h=D.x,m=D.y,l?Object.assign({},C,((M={})[w]=y?"0":"",M[v]=b?"0":"",M.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",M)):Object.assign({},C,((t={})[w]=y?m+"px":"",t[v]=b?h+"px":"",t.transform="",t))}var jM={passive:!0};var RM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=aM(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,jM)})),a&&l.addEventListener("resize",n.update,jM),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,jM)})),a&&l.removeEventListener("resize",n.update,jM)}},data:{}},FM={left:"right",right:"left",bottom:"top",top:"bottom"};function zM(e){return e.replace(/left|right|bottom|top/g,(function(e){return FM[e]}))}var PM={start:"end",end:"start"};function BM(e){return e.replace(/start|end/g,(function(e){return PM[e]}))}function UM(e){var t=aM(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function HM(e){return yM(kM(e)).left+UM(e).scrollLeft}function $M(e){var t=_M(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function VM(e){return["html","body","#document"].indexOf(sM(e))>=0?e.ownerDocument.body:cM(e)&&$M(e)?e:VM(EM(e))}function WM(e,t){var n;void 0===t&&(t=[]);var r=VM(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=aM(r),s=i?[o].concat(o.visualViewport||[],$M(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(WM(EM(s)))}function qM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function KM(e,t,n){return t===eM?qM(function(e,t){var n=aM(e),r=kM(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=bM();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+HM(e),y:l}}(e,n)):lM(t)?function(e,t){var n=yM(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):qM(function(e){var t,n=kM(e),r=UM(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=hM(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=hM(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+HM(e),l=-r.scrollTop;return"rtl"===_M(i||n).direction&&(a+=hM(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(kM(e)))}function GM(e,t,n,r){var i="clippingParents"===t?function(e){var t=WM(EM(e)),n=["absolute","fixed"].indexOf(_M(e).position)>=0&&cM(e)?CM(e):e;return lM(n)?t.filter((function(e){return lM(e)&&wM(e,n)&&"body"!==sM(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=KM(e,n,r);return t.top=hM(i.top,t.top),t.right=fM(i.right,t.right),t.bottom=fM(i.bottom,t.bottom),t.left=hM(i.left,t.left),t}),KM(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function YM(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?pM(i):null,s=i?TM(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case WE:t={x:a,y:n.y-r.height};break;case qE:t={x:a,y:n.y+n.height};break;case KE:t={x:n.x+n.width,y:l};break;case GE:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?DM(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case JE:t[c]=t[c]-(n[u]/2-r[u]/2);break;case ZE:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function QM(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?XE:a,c=n.rootBoundary,u=void 0===c?eM:c,d=n.elementContext,p=void 0===d?tM:d,h=n.altBoundary,f=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,b=AM("number"!=typeof g?g:NM(g,QE)),y=p===tM?nM:tM,v=e.rects.popper,w=e.elements[f?y:p],_=GM(lM(w)?w:w.contextElement||kM(e.elements.popper),l,u,s),x=yM(e.elements.reference),k=YM({reference:x,element:v,strategy:"absolute",placement:i}),E=qM(Object.assign({},v,k)),M=p===tM?E:x,C={top:_.top-M.top+b.top,bottom:M.bottom-_.bottom+b.bottom,left:_.left-M.left+b.left,right:M.right-_.right+b.right},D=e.modifiersData.offset;if(p===tM&&D){var S=D[i];Object.keys(C).forEach((function(e){var t=[KE,qE].indexOf(e)>=0?1:-1,n=[WE,qE].indexOf(e)>=0?"y":"x";C[e]+=S[n]*t}))}return C}function JM(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?iM:l,u=TM(r),d=u?a?rM:rM.filter((function(e){return TM(e)===u})):QE,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,n){return t[n]=QM(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[pM(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}var ZM={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,b=pM(g),y=l||(b===g||!f?[zM(g)]:function(e){if(pM(e)===YE)return[];var t=zM(e);return[BM(e),t,BM(t)]}(g)),v=[g].concat(y).reduce((function(e,n){return e.concat(pM(n)===YE?JM(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,x=new Map,k=!0,E=v[0],M=0;M<v.length;M++){var C=v[M],D=pM(C),S=TM(C)===JE,A=[WE,qE].indexOf(D)>=0,N=A?"width":"height",O=QM(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),T=A?S?KE:GE:S?qE:WE;w[N]>_[N]&&(T=zM(T));var I=zM(T),L=[];if(o&&L.push(O[D]<=0),a&&L.push(O[T]<=0,O[I]<=0),L.every((function(e){return e}))){E=C,k=!1;break}x.set(C,L)}if(k)for(var j=function(e){var t=v.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},R=f?3:1;R>0;R--){if("break"===j(R))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function XM(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eC(e){return[WE,KE,qE,GE].some((function(t){return e[t]>=0}))}var tC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=QM(t,{elementContext:"reference"}),a=QM(t,{altBoundary:!0}),l=XM(s,r),c=XM(a,i,o),u=eC(l),d=eC(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var nC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=iM.reduce((function(e,n){return e[n]=function(e,t,n){var r=pM(e),i=[GE,WE].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[GE,KE].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var rC={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=YM({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var iC={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,g=QM(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=pM(t.placement),y=TM(t.placement),v=!y,w=DM(b),_="x"===w?"y":"x",x=t.modifiersData.popperOffsets,k=t.rects.reference,E=t.rects.popper,M="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(x){if(o){var A,N="y"===w?WE:GE,O="y"===w?qE:KE,T="y"===w?"height":"width",I=x[w],L=I+g[N],j=I-g[O],R=h?-E[T]/2:0,F=y===JE?k[T]:E[T],z=y===JE?-E[T]:-k[T],P=t.elements.arrow,B=h&&P?vM(P):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=U[N],$=U[O],V=SM(0,k[T],B[T]),W=v?k[T]/2-R-V-H-C.mainAxis:F-V-H-C.mainAxis,q=v?-k[T]/2+R+V+$+C.mainAxis:z+V+$+C.mainAxis,K=t.elements.arrow&&CM(t.elements.arrow),G=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Y=null!=(A=null==D?void 0:D[w])?A:0,Q=I+q-Y,J=SM(h?fM(L,I+W-Y-G):L,I,h?hM(j,Q):j);x[w]=J,S[w]=J-I}if(a){var Z,X="x"===w?WE:GE,ee="x"===w?qE:KE,te=x[_],ne="y"===_?"height":"width",re=te+g[X],ie=te-g[ee],oe=-1!==[WE,GE].indexOf(b),se=null!=(Z=null==D?void 0:D[_])?Z:0,ae=oe?re:te-k[ne]-E[ne]-se+C.altAxis,le=oe?te+k[ne]+E[ne]-se-C.altAxis:ie,ce=h&&oe?function(e,t,n){var r=SM(e,t,n);return r>n?n:r}(ae,te,le):SM(h?ae:re,te,h?le:ie);x[_]=ce,S[_]=ce-te}t.modifiersData[r]=S}},requiresIfExists:["offset"]};function oC(e,t,n){void 0===n&&(n=!1);var r,i,o=cM(t),s=cM(t)&&function(e){var t=e.getBoundingClientRect(),n=mM(t.width)/e.offsetWidth||1,r=mM(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=kM(t),l=yM(e,s,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==sM(t)||$M(a))&&(c=(r=t)!==aM(r)&&cM(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:UM(r)),cM(t)?((u=yM(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=HM(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function sC(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var aC={placement:"bottom",modifiers:[],strategy:"absolute"};function lC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function cC(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?aC:i;return function(e,t,n){void 0===n&&(n=o);var i,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},aC,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){var i="function"==typeof n?n(a.options):n;d(),a.options=Object.assign({},o,a.options,i),a.scrollParents={reference:lM(e)?WM(e):e.contextElement?WM(e.contextElement):[],popper:WM(t)};var s=function(e){var t=sC(e);return oM.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=s.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:a,name:t,instance:u,options:r}),s=function(){};l.push(o||s)}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(lC(t,n)){a.rects={reference:oC(t,CM(n),"fixed"===a.options.strategy),popper:vM(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,s=i.options,l=void 0===s?{}:s,d=i.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:u})||a)}else a.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){d(),c=!0}};if(!lC(e,t))return u;function d(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var uC=cC({defaultModifiers:[RM,rC,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:pM(t.placement),variation:TM(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,LM(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,LM(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},dM,nC,ZM,iC,OM,tC]}),dC='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',pC="tippy-box",hC="tippy-content",fC="tippy-backdrop",mC="tippy-arrow",gC="tippy-svg-arrow",bC={passive:!0,capture:!0},yC=function(){return document.body};function vC(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function wC(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function _C(e,t){return"function"==typeof e?e.apply(void 0,t):e}function xC(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function kC(e){return[].concat(e)}function EC(e,t){-1===e.indexOf(t)&&e.push(t)}function MC(e){return[].slice.call(e)}function CC(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function DC(){return document.createElement("div")}function SC(e){return["Element","Fragment"].some((function(t){return wC(e,t)}))}function AC(e){return SC(e)?[e]:function(e){return wC(e,"NodeList")}(e)?MC(e):Array.isArray(e)?e:MC(document.querySelectorAll(e))}function NC(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function OC(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function TC(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function IC(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var LC={isTouch:!1},jC=0;function RC(){LC.isTouch||(LC.isTouch=!0,window.performance&&document.addEventListener("mousemove",FC))}function FC(){var e=performance.now();e-jC<20&&(LC.isTouch=!1,document.removeEventListener("mousemove",FC)),jC=e}function zC(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var n=t._tippy;t.blur&&!n.state.isVisible&&t.blur()}}var PC=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,BC=Object.assign({appendTo:yC,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),UC=Object.keys(BC);function HC(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,o=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=BC[i])?r:o);return t}),{});return Object.assign({},e,t)}function $C(e,t){var n=Object.assign({},t,{content:_C(t.content,[e])},t.ignoreAttributes?{}:function(e,t){var n=(t?Object.keys(HC(Object.assign({},BC,{plugins:t}))):UC).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{});return n}(e,t.plugins));return n.aria=Object.assign({},BC.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function VC(e,t){e["innerHTML"]=t}function WC(e){var t=DC();return!0===e?t.className=mC:(t.className=gC,SC(e)?t.appendChild(e):VC(t,e)),t}function qC(e,t){SC(t.content)?(VC(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?VC(e,t.content):e.textContent=t.content)}function KC(e){var t=e.firstElementChild,n=MC(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(hC)})),arrow:n.find((function(e){return e.classList.contains(mC)||e.classList.contains(gC)})),backdrop:n.find((function(e){return e.classList.contains(fC)}))}}function GC(e){var t=DC(),n=DC();n.className=pC,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=DC();function i(n,r){var i=KC(t),o=i.box,s=i.content,a=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||qC(s,e.props),r.arrow?a?n.arrow!==r.arrow&&(o.removeChild(a),o.appendChild(WC(r.arrow))):o.appendChild(WC(r.arrow)):a&&o.removeChild(a)}return r.className=hC,r.setAttribute("data-state","hidden"),qC(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}GC.$$tippy=!0;var YC=1,QC=[],JC=[];function ZC(e,t){var n,r,i,o,s,a,l,c,u=$C(e,Object.assign({},BC,HC(CC(t)))),d=!1,p=!1,h=!1,f=!1,m=[],g=xC(K,u.interactiveDebounce),b=YC++,y=(c=u.plugins).filter((function(e,t){return c.indexOf(e)===t})),v={id:b,reference:e,popper:DC(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){if(v.state.isDestroyed)return;I("onBeforeUpdate",[v,t]),W();var n=v.props,r=$C(e,Object.assign({},n,CC(t),{ignoreAttributes:!0}));v.props=r,V(),n.interactiveDebounce!==r.interactiveDebounce&&(R(),g=xC(K,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?kC(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");j(),T(),x&&x(n,r);v.popperInstance&&(J(),X().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));I("onAfterUpdate",[v,t])},setContent:function(e){v.setProps({content:e})},show:function(){var e=v.state.isVisible,t=v.state.isDestroyed,n=!v.state.isEnabled,r=LC.isTouch&&!v.props.touch,i=vC(v.props.duration,0,BC.duration);if(e||t||n||r)return;if(S().hasAttribute("disabled"))return;if(I("onShow",[v],!1),!1===v.props.onShow(v))return;v.state.isVisible=!0,D()&&(_.style.visibility="visible");T(),B(),v.state.isMounted||(_.style.transition="none");if(D()){var o=N(),s=o.box,l=o.content;NC([s,l],0)}a=function(){var e;if(v.state.isVisible&&!f){if(f=!0,_.offsetHeight,_.style.transition=v.props.moveTransition,D()&&v.props.animation){var t=N(),n=t.box,r=t.content;NC([n,r],i),OC([n,r],"visible")}L(),j(),EC(JC,v),null==(e=v.popperInstance)||e.forceUpdate(),I("onMount",[v]),v.props.animation&&D()&&function(e,t){H(e,t)}(i,(function(){v.state.isShown=!0,I("onShown",[v])}))}},function(){var e,t=v.props.appendTo,n=S();e=v.props.interactive&&t===yC||"parent"===t?n.parentNode:_C(t,[n]);e.contains(_)||e.appendChild(_);v.state.isMounted=!0,J()}()},hide:function(){var e=!v.state.isVisible,t=v.state.isDestroyed,n=!v.state.isEnabled,r=vC(v.props.duration,1,BC.duration);if(e||t||n)return;if(I("onHide",[v],!1),!1===v.props.onHide(v))return;v.state.isVisible=!1,v.state.isShown=!1,f=!1,d=!1,D()&&(_.style.visibility="hidden");if(R(),U(),T(!0),D()){var i=N(),o=i.box,s=i.content;v.props.animation&&(NC([o,s],r),OC([o,s],"hidden"))}L(),j(),v.props.animation?D()&&function(e,t){H(e,(function(){!v.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&t()}))}(r,v.unmount):v.unmount()},hideWithInteractivity:function(e){A().addEventListener("mousemove",g),EC(QC,g),g(e)},enable:function(){v.state.isEnabled=!0},disable:function(){v.hide(),v.state.isEnabled=!1},unmount:function(){v.state.isVisible&&v.hide();if(!v.state.isMounted)return;Z(),X().forEach((function(e){e._tippy.unmount()})),_.parentNode&&_.parentNode.removeChild(_);JC=JC.filter((function(e){return e!==v})),v.state.isMounted=!1,I("onHidden",[v])},destroy:function(){if(v.state.isDestroyed)return;v.clearDelayTimeouts(),v.unmount(),W(),delete e._tippy,v.state.isDestroyed=!0,I("onDestroy",[v])}};if(!u.render)return v;var w=u.render(v),_=w.popper,x=w.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+v.id,v.popper=_,e._tippy=v,_._tippy=v;var k=y.map((function(e){return e.fn(v)})),E=e.hasAttribute("aria-expanded");return V(),j(),T(),I("onCreate",[v]),u.showOnCreate&&ee(),_.addEventListener("mouseenter",(function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()})),_.addEventListener("mouseleave",(function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",g)})),v;function M(){var e=v.props.touch;return Array.isArray(e)?e:[e,0]}function C(){return"hold"===M()[0]}function D(){var e;return!(null==(e=v.props.render)||!e.$$tippy)}function S(){return l||e}function A(){var e,t,n=S().parentNode;return n?null!=(t=kC(n)[0])&&null!=(e=t.ownerDocument)&&e.body?t.ownerDocument:document:document}function N(){return KC(_)}function O(e){return v.state.isMounted&&!v.state.isVisible||LC.isTouch||o&&"focus"===o.type?0:vC(v.props.delay,e?0:1,BC.delay)}function T(e){void 0===e&&(e=!1),_.style.pointerEvents=v.props.interactive&&!e?"":"none",_.style.zIndex=""+v.props.zIndex}function I(e,t,n){var r;(void 0===n&&(n=!0),k.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=v.props)[e].apply(r,t)}function L(){var t=v.props.aria;if(t.content){var n="aria-"+t.content,r=_.id;kC(v.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(v.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function j(){!E&&v.props.aria.expanded&&kC(v.props.triggerTarget||e).forEach((function(e){v.props.interactive?e.setAttribute("aria-expanded",v.state.isVisible&&e===S()?"true":"false"):e.removeAttribute("aria-expanded")}))}function R(){A().removeEventListener("mousemove",g),QC=QC.filter((function(e){return e!==g}))}function F(t){if(!LC.isTouch||!h&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!v.props.interactive||!IC(_,n)){if(kC(v.props.triggerTarget||e).some((function(e){return IC(e,n)}))){if(LC.isTouch)return;if(v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else I("onClickOutside",[v,t]);!0===v.props.hideOnClick&&(v.clearDelayTimeouts(),v.hide(),p=!0,setTimeout((function(){p=!1})),v.state.isMounted||U())}}}function z(){h=!0}function P(){h=!1}function B(){var e=A();e.addEventListener("mousedown",F,!0),e.addEventListener("touchend",F,bC),e.addEventListener("touchstart",P,bC),e.addEventListener("touchmove",z,bC)}function U(){var e=A();e.removeEventListener("mousedown",F,!0),e.removeEventListener("touchend",F,bC),e.removeEventListener("touchstart",P,bC),e.removeEventListener("touchmove",z,bC)}function H(e,t){var n=N().box;function r(e){e.target===n&&(TC(n,"remove",r),t())}if(0===e)return t();TC(n,"remove",s),TC(n,"add",r),s=r}function $(t,n,r){void 0===r&&(r=!1),kC(v.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),m.push({node:e,eventType:t,handler:n,options:r})}))}function V(){var e;C()&&($("touchstart",q,{passive:!0}),$("touchend",G,{passive:!0})),(e=v.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch($(e,q),e){case"mouseenter":$("mouseleave",G);break;case"focus":$(PC?"focusout":"blur",Y);break;case"focusin":$("focusout",Y)}}))}function W(){m.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),m=[]}function q(e){var t,n=!1;if(v.state.isEnabled&&!Q(e)&&!p){var r="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,j(),!v.state.isVisible&&wC(e,"MouseEvent")&&QC.forEach((function(t){return t(e)})),"click"===e.type&&(v.props.trigger.indexOf("mouseenter")<0||d)&&!1!==v.props.hideOnClick&&v.state.isVisible?n=!0:ee(e),"click"===e.type&&(d=!n),n&&!r&&te(e)}}function K(e){var t=e.target,n=S().contains(t)||_.contains(t);if("mousemove"!==e.type||!n){var r=X().concat(_).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props.interactiveBorder,s=i.placement.split("-")[0],a=i.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,u="right"===s?a.left.x:0,d="left"===s?a.right.x:0,p=t.top-r+l>o,h=r-t.bottom-c>o,f=t.left-n+u>o,m=n-t.right-d>o;return p||h||f||m}))})(r,e)&&(R(),te(e))}}function G(e){Q(e)||v.props.trigger.indexOf("click")>=0&&d||(v.props.interactive?v.hideWithInteractivity(e):te(e))}function Y(e){v.props.trigger.indexOf("focusin")<0&&e.target!==S()||v.props.interactive&&e.relatedTarget&&_.contains(e.relatedTarget)||te(e)}function Q(e){return!!LC.isTouch&&C()!==e.type.indexOf("touch")>=0}function J(){Z();var t=v.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,s=t.moveTransition,l=D()?KC(_).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||S()}:e,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(D()){var n=N().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},d=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},u];D()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),v.popperInstance=uC(c,_,Object.assign({},n,{placement:r,onFirstUpdate:a,modifiers:d}))}function Z(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function X(){return MC(_.querySelectorAll("[data-tippy-root]"))}function ee(e){v.clearDelayTimeouts(),e&&I("onTrigger",[v,e]),B();var t=O(!0),r=M(),i=r[0],o=r[1];LC.isTouch&&"hold"===i&&o&&(t=o),t?n=setTimeout((function(){v.show()}),t):v.show()}function te(e){if(v.clearDelayTimeouts(),I("onUntrigger",[v,e]),v.state.isVisible){if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&d)){var t=O(!1);t?r=setTimeout((function(){v.state.isVisible&&v.hide()}),t):i=requestAnimationFrame((function(){v.hide()}))}}else U()}}function XC(e,t){void 0===t&&(t={});var n=BC.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",RC,bC),window.addEventListener("blur",zC);var r=Object.assign({},t,{plugins:n}),i=AC(e).reduce((function(e,t){var n=t&&ZC(t,r);return n&&e.push(n),e}),[]);return SC(e)?i[0]:i}XC.defaultProps=BC,XC.setDefaultProps=function(e){Object.keys(e).forEach((function(t){BC[t]=e[t]}))},XC.currentInput=LC,Object.assign({},dM,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),XC.setDefaultProps({render:GC});class eD{constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:e,state:t,from:n,to:r})=>{const{doc:i,selection:o}=t,{empty:s}=o,a=!i.textBetween(n,r).length&&sE(t.selection),l=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!l||s||a||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.editor=e,this.element=t,this.view=n,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=XC(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",(e=>{this.blurHandler({event:e})})))}update(e,t){var n,r,i;const{state:o,composing:s}=e,{doc:a,selection:l}=o,c=t&&t.doc.eq(a)&&t.selection.eq(l);if(s||c)return;this.createTooltip();const{ranges:u}=l,d=Math.min(...u.map((e=>e.$from.pos))),p=Math.max(...u.map((e=>e.$to.pos)));(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:o,oldState:t,from:d,to:p}))?(null===(r=this.tippy)||void 0===r||r.setProps({getReferenceClientRect:(null===(i=this.tippyOptions)||void 0===i?void 0:i.getReferenceClientRect)||(()=>{if(o.selection instanceof jn){const t=e.nodeDOM(d);if(t)return t.getBoundingClientRect()}return CE(e,d,p)})}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e;null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const tD=e=>new Jn({key:"string"==typeof e.pluginKey?new er(e.pluginKey):e.pluginKey,view:t=>new eD({view:t,...e})});Jk.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[tD({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class nD{constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:r,empty:i}=n,o=1===r.depth,s=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent;return!!(e.hasFocus()&&i&&o&&s&&this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.editor=e,this.element=t,this.view=n,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=XC(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",(e=>{this.blurHandler({event:e})})))}update(e,t){var n,r,i;const{state:o}=e,{doc:s,selection:a}=o,{from:l,to:c}=a;if(t&&t.doc.eq(s)&&t.selection.eq(a))return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:o,oldState:t}))?(null===(r=this.tippy)||void 0===r||r.setProps({getReferenceClientRect:(null===(i=this.tippyOptions)||void 0===i?void 0:i.getReferenceClientRect)||(()=>CE(e,l,c))}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e;null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}Jk.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[(e={pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow},new Jn({key:"string"==typeof e.pluginKey?new er(e.pluginKey):e.pluginKey,view:t=>new nD({view:t,...e})}))]:[];var e}});const rD=e=>{const[t,n]=u(null);return h((()=>{if(!t)return;if(e.editor.isDestroyed)return;const{pluginKey:n="bubbleMenu",editor:r,tippyOptions:i={},shouldShow:o=null}=e,s=tD({pluginKey:n,editor:r,element:t,tippyOptions:i,shouldShow:o});return r.registerPlugin(s),()=>r.unregisterPlugin(n)}),[e.editor,t]),c.createElement("div",{ref:n,className:e.className,style:{visibility:"hidden"}},e.children)};class iD extends class extends class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}(zE,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=jk(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((e=>!e.key.startsWith(t)))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(FE):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new Gk(e,this)}createCommandManager(){this.commandManager=new Sk({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=gE(this.options.content,this.schema,this.options.parseOptions),t=lE(e,this.options.autofocus);this.view=new Zx(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Yn.create({doc:e,selection:t||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)})):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return _E(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return hE(e,null,n)||EE(e,null,n);const r=fE(t,e.schema);return"node"===r?hE(e,t,n):"mark"===r&&EE(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function(e,t){const n=jt.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return function(e,t){return Zk(e,{from:0,to:e.content.size},t)}(this.state.doc,{blockSeparator:t,textSerializers:{...n,...Xk(this.schema)}})}get isEmpty(){return function(e){var t;const n=null===(t=e.type.createAndFill())||void 0===t?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}}{constructor(){super(...arguments),this.contentComponent=null}}const oD=({renderers:e})=>c.createElement(c.Fragment,null,Array.from(e).map((([e,t])=>xe.createPortal(t.reactElement,t.element,e))));class sD extends c.Component{constructor(e){super(e),this.editorContentRef=c.createRef(),this.state={renderers:new Map}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews()}}componentWillUnmount(){const{editor:e}=this.props;if(!e)return;if(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild)return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,...t}=this.props;return c.createElement(c.Fragment,null,c.createElement("div",{ref:this.editorContentRef,...t}),c.createElement(oD,{renderers:this.state.renderers}))}}const aD=c.memo(sD),lD=f({onDragStart:void 0}),cD=()=>m(lD),uD=e=>{const t=e.as||"div",{nodeViewContentRef:n}=cD();return c.createElement(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})},dD=c.forwardRef(((e,t)=>{const{onDragStart:n}=cD(),r=e.as||"div";return c.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})}));class pD{constructor(e,{editor:t,props:n={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.render()}render(){const e=this.component,t=this.props;(function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)}(e)||function(e){var t;return!("object"!=typeof e||"Symbol(react.forward_ref)"!==(null===(t=e.$$typeof)||void 0===t?void 0:t.toString()))}(e))&&(t.ref=e=>{this.ref=e}),this.reactElement=c.createElement(e,{...t}),queueMicrotask((()=>{ke((()=>{var e;(null===(e=this.editor)||void 0===e?void 0:e.contentComponent)&&this.editor.contentComponent.setState({renderers:this.editor.contentComponent.state.renderers.set(this.id,this)})}))}))}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){queueMicrotask((()=>{ke((()=>{var e;if(null===(e=this.editor)||void 0===e?void 0:e.contentComponent){const{renderers:e}=this.editor.contentComponent.state;e.delete(this.id),this.editor.contentComponent.setState({renderers:e})}}))}))}}class hD extends class{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,i,o,s,a;const{view:l}=this.editor,c=e.target,u=3===c.nodeType?null===(t=c.parentElement)||void 0===t?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(c))||!u)return;let d=0,p=0;if(this.dom!==u){const t=this.dom.getBoundingClientRect(),n=u.getBoundingClientRect(),a=null!==(r=e.offsetX)&&void 0!==r?r:null===(i=e.nativeEvent)||void 0===i?void 0:i.offsetX,l=null!==(o=e.offsetY)&&void 0!==o?o:null===(s=e.nativeEvent)||void 0===s?void 0:s.offsetY;d=n.x-t.x+a,p=n.y-t.y+l}null===(a=e.dataTransfer)||void 0===a||a.setDragImage(this.dom,d,p);const h=jn.create(l.state.doc,this.getPos()),f=l.state.tr.setSelection(h);l.dispatch(f)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!(null===(t=this.contentDOM)||void 0===t?void 0:t.contains(n))))return!1;const r="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!r)return!0;const{isEditable:i}=this.editor,{isDragging:o}=this,s=!!this.node.type.spec.draggable,a=jn.isSelectable(this.node),l="copy"===e.type,c="paste"===e.type,u="cut"===e.type,d="mousedown"===e.type,p=e.type.startsWith("drag");if(!s&&a&&p&&e.preventDefault(),s&&p&&!o)return e.preventDefault(),!1;if(s&&i&&!o&&d){const e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("mouseup",(()=>{this.isDragging=!1}),{once:!0}))}return!(o||r||l||c||u||d&&a)}ignoreMutation(e){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:e});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===e.type)return!1;if(this.dom.contains(e.target)&&"childList"===e.type&&cE()&&this.editor.isFocused){if([...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every((e=>e.isContentEditable)))return!1}return this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command((({tr:t})=>{const n=this.getPos();return t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0}))}deleteNode(){const e=this.getPos(),t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const e=e=>e.charAt(0).toUpperCase()+e.substring(1);this.component.displayName=e(this.extension.name)}const t=e=>{const t=this.component,n=this.onDragStart.bind(this);return c.createElement(lD.Provider,{value:{onDragStart:n,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)}}},c.createElement(t,{...e}))};t.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let n=this.node.isInline?"span":"div";this.options.as&&(n=this.options.as);const{className:r=""}=this.options;this.renderer=new pD(t,{editor:this.editor,props:e,as:n,className:`node-${this.node.type.name} ${r}`.trim()})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null===(e=this.renderer.element.firstElementChild)||void 0===e?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,t){const n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){const r=this.node,i=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:r,oldDecorations:i,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function fD(e,t){return n=>n.editor.contentComponent?new hD(e,n,t):{}}const mD=(e={},t=[])=>{const[n,r]=u(null),i=function(){const[,e]=u(0);return()=>e((e=>e+1))}();return h((()=>{let t=!0;const n=new iD(e);return r(n),n.on("transaction",(()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&i()}))}))})),()=>{n.destroy(),t=!1}}),t),n},gD=e=>{let{error:t,children:n}=e;const r=!cs(t),i=Ka({"neeto-editor-error":r});return c.createElement(c.Fragment,null,c.createElement("div",{className:i},n),r&&c.createElement("p",{className:"neeto-ui-input__error"},(()=>{if(!t)return null;let e;return Me(String,t)?e=t:Me(Array,t)?e=t[0]:Me(Object,t)&&(e=t.message),cs(e)?null:e})()))},bD=e=>{let{editor:t,isActive:n,children:r}=e;return n&&t?c.createElement(c.Fragment,null,r,c.createElement("p",{className:"neeto-editor-character-count","data-cy":"neeto-editor-character-count"},t.storage.characterCount.characters()," characters")):r},yD=e=>!!e&&(vD(e)||_D(e)||wD(e)),vD=e=>{const t=e.match(or);return t&&`https://www.youtube.com/embed/${t[5]}`},wD=e=>{const t=e.match(sr);return t&&`https://player.vimeo.com/video/${t[4]}?h=${t[5]}`},_D=e=>{const t=e.match(ar);return t&&`https://www.loom.com/embed/${t[4]}?t=${t[5]||""}`},xD=e=>{let{isEmbedModalOpen:t,setIsEmbedModalOpen:n,editor:r}=e;const{t:i}=E(),[o,s]=u(""),[a,l]=u(!1),p=d(null),h=()=>{const e=yD(o);e?(r.chain().focus().setExternalVideo({src:e}).run(),s(""),n(!1)):l(!0)},f=()=>{s(""),l(!1),n(!1)};return c.createElement(I,{initialFocusRef:p,isOpen:t,onClose:f},c.createElement(I.Header,null,c.createElement(N,{style:"h2"},"Embed Video")),c.createElement(I.Body,{className:"space-y-2 ne-embed-modal"},c.createElement(S,{error:a&&"Please enter a valid URL",label:i("common.video-url"),ref:p,size:"medium",type:"text",value:o,onChange:e=>{yD(e.target.value)?(l(!1),s(e.target.value)):(l(!0),s(e.target.value))},onKeyDown:e=>{"Enter"===e.key?h():"Escape"===e.key&&f()}})),c.createElement(I.Footer,{className:"space-x-2"},c.createElement(A,{disabled:a||w(o),label:i("common.embed"),onClick:h})))},kD=Jk.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize"}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){return t.textBetween(0,t.content.size,void 0," ").length}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;return t.textBetween(0,t.content.size," "," ").split(" ").filter((e=>""!==e)).length}},addProseMirrorPlugins(){return[new Jn({key:new er("characterCount"),filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const r=this.storage.characters({node:t.doc}),i=this.storage.characters({node:e.doc});if(i<=n)return!0;if(r>n&&i>n&&i<=r)return!0;if(r>n&&i>n&&i>r)return!1;if(!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,s=o-(i-n),a=o;e.deleteRange(s,a);return!(this.storage.characters({node:e.doc})>n)}})]}}),ED=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,MD=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,CD=HE.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[PE({find:ED,type:this.type})]},addPasteRules(){return[VE({find:MD,type:this.type})]}}),DD=$E.create({name:"doc",topNode:!0,content:"block+"}),SD=Jk.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new Jn({key:new er("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return Ox.create(e,[]);let s=0;"deepest"===this.options.mode&&e.descendants(((e,t)=>{if(e.isText)return;if(!(i>=t&&i<=t+e.nodeSize-1))return!1;s+=1}));let a=0;return e.descendants(((e,t)=>{if(e.isText)return!1;if(!(i>=t&&i<=t+e.nodeSize-1))return!1;a+=1;if("deepest"===this.options.mode&&s-a>0||"shallowest"===this.options.mode&&a>1)return"deepest"===this.options.mode;o.push(Sx.node(t,t+e.nodeSize,{class:this.options.className}))})),Ox.create(e,o)}}})]}}),AD=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,ND=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,OD=HE.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[PE({find:AD,type:this.type})]},addPasteRules(){return[VE({find:ND,type:this.type})]}});function TD(e){this.j={},this.jr=[],this.jd=null,this.t=e}TD.prototype={accepts:function(){return!!this.t},tt:function(e,t){if(t&&t.j)return this.j[e]=t,t;var n=t,r=this.j[e];if(r)return n&&(r.t=n),r;r=ID();var i=FD(this,e);return i?(Object.assign(r.j,i.j),r.jr.append(i.jr),r.jr=i.jd,r.t=n||i.t):r.t=n,this.j[e]=r,r}};var ID=function(){return new TD},LD=function(e){return new TD(e)},jD=function(e,t,n){e.j[t]||(e.j[t]=n)},RD=function(e,t,n){e.jr.push([t,n])},FD=function(e,t){var n=e.j[t];if(n)return n;for(var r=0;r<e.jr.length;r++){var i=e.jr[r][0],o=e.jr[r][1];if(i.test(t))return o}return e.jd},zD=function(e,t,n){for(var r=0;r<t.length;r++)jD(e,t[r],n)},PD=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0],i=t[n][1];jD(e,r,i)}},BD=function(e,t,n,r){for(var i,o=0,s=t.length;o<s&&(i=e.j[t[o]]);)e=i,o++;if(o>=s)return[];for(;o<s-1;)i=r(),jD(e,t[o],i),e=i,o++;jD(e,t[s-1],n)},UD="DOMAIN",HD="LOCALHOST",$D="TLD",VD="NUM",WD="PROTOCOL",qD="MAILTO",KD="WS",GD="NL",YD="OPENBRACE",QD="OPENBRACKET",JD="OPENANGLEBRACKET",ZD="OPENPAREN",XD="CLOSEBRACE",eS="CLOSEBRACKET",tS="CLOSEANGLEBRACKET",nS="CLOSEPAREN",rS="AMPERSAND",iS="APOSTROPHE",oS="ASTERISK",sS="AT",aS="BACKSLASH",lS="BACKTICK",cS="CARET",uS="COLON",dS="COMMA",pS="DOLLAR",hS="DOT",fS="EQUALS",mS="EXCLAMATION",gS="HYPHEN",bS="PERCENT",yS="PIPE",vS="PLUS",wS="POUND",_S="QUERY",xS="QUOTE",kS="SEMI",ES="SLASH",MS="TILDE",CS="UNDERSCORE",DS="SYM",SS=Object.freeze({__proto__:null,DOMAIN:UD,LOCALHOST:HD,TLD:$D,NUM:VD,PROTOCOL:WD,MAILTO:qD,WS:KD,NL:GD,OPENBRACE:YD,OPENBRACKET:QD,OPENANGLEBRACKET:JD,OPENPAREN:ZD,CLOSEBRACE:XD,CLOSEBRACKET:eS,CLOSEANGLEBRACKET:tS,CLOSEPAREN:nS,AMPERSAND:rS,APOSTROPHE:iS,ASTERISK:oS,AT:sS,BACKSLASH:aS,BACKTICK:lS,CARET:cS,COLON:uS,COMMA:dS,DOLLAR:pS,DOT:hS,EQUALS:fS,EXCLAMATION:mS,HYPHEN:gS,PERCENT:bS,PIPE:yS,PLUS:vS,POUND:wS,QUERY:_S,QUOTE:xS,SEMI:kS,SLASH:ES,TILDE:MS,UNDERSCORE:CS,SYM:DS}),AS="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermgensberater-ctb vermgensberatung-pwb                                                                                                                                                        ".split(" "),NS=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,OS=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,TS=/\uFE0F/,IS=/\d/,LS=/\s/;function jS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=ID(),n=LD(VD),r=LD(UD),i=ID(),o=LD(KD),s=[[IS,r],[NS,r],[OS,r],[TS,r]],a=function(){var e=LD(UD);return e.j={"-":i},e.jr=[].concat(s),e},l=function(e){var t=a();return t.t=e,t};PD(t,[["'",LD(iS)],["{",LD(YD)],["[",LD(QD)],["<",LD(JD)],["(",LD(ZD)],["}",LD(XD)],["]",LD(eS)],[">",LD(tS)],[")",LD(nS)],["&",LD(rS)],["*",LD(oS)],["@",LD(sS)],["`",LD(lS)],["^",LD(cS)],[":",LD(uS)],[",",LD(dS)],["$",LD(pS)],[".",LD(hS)],["=",LD(fS)],["!",LD(mS)],["-",LD(gS)],["%",LD(bS)],["|",LD(yS)],["+",LD(vS)],["#",LD(wS)],["?",LD(_S)],['"',LD(xS)],["/",LD(ES)],[";",LD(kS)],["~",LD(MS)],["_",LD(CS)],["\\",LD(aS)]]),jD(t,"\n",LD(GD)),RD(t,LS,o),jD(o,"\n",ID()),RD(o,LS,o);for(var c=0;c<AS.length;c++)BD(t,AS[c],l($D),a);var u=a(),d=a(),p=a(),h=a();BD(t,"file",u,a),BD(t,"ftp",d,a),BD(t,"http",p,a),BD(t,"mailto",h,a);var f=a(),m=LD(WD),g=LD(qD);jD(d,"s",f),jD(d,":",m),jD(p,"s",f),jD(p,":",m),jD(u,":",m),jD(f,":",m),jD(h,":",g);for(var b=a(),y=0;y<e.length;y++)BD(t,e[y],b,a);return jD(b,":",m),BD(t,"localhost",l(HD),a),RD(t,IS,n),RD(t,NS,r),RD(t,OS,r),RD(t,TS,r),RD(n,IS,n),RD(n,NS,r),RD(n,OS,r),RD(n,TS,r),jD(n,"-",i),jD(r,"-",i),jD(i,"-",i),RD(r,IS,r),RD(r,NS,r),RD(r,OS,r),RD(r,TS,r),RD(i,IS,r),RD(i,NS,r),RD(i,OS,r),RD(i,TS,r),t.jd=LD(DS),t}var RS={defaultProtocol:"http",events:null,format:FS,formatHref:FS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function FS(e){return e}function zS(){}function PS(e,t){function n(t,n){this.t=e,this.v=t,this.tk=n}return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(e.prototype);for(var i in n)r[i]=n[i];r.constructor=t,t.prototype=r}(zS,n,t),n}zS.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RS.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};var BS=PS("email",{isLink:!0}),US=PS("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),HS=PS("text"),$S=PS("nl"),VS=PS("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RS.defaultProtocol,t=this.tk,n=!1,r=!1,i=[],o=0;t[o].t===WD;)n=!0,i.push(t[o].v),o++;for(;t[o].t===ES;)r=!0,i.push(t[o].v),o++;for(;o<t.length;o++)i.push(t[o].v);return i=i.join(""),n||r||(i="".concat(e,"://").concat(i)),i},hasProtocol:function(){return this.tk[0].t===WD}}),WS=Object.freeze({__proto__:null,MultiToken:zS,Base:zS,createTokenClass:PS,MailtoEmail:BS,Email:US,Text:HS,Nl:$S,Url:VS});function qS(){var e=ID(),t=ID(),n=ID(),r=ID(),i=ID(),o=ID(),s=ID(),a=LD(VS),l=ID(),c=LD(VS),u=LD(VS),d=ID(),p=ID(),h=ID(),f=ID(),m=ID(),g=LD(VS),b=LD(VS),y=LD(VS),v=LD(VS),w=ID(),_=ID(),x=ID(),k=ID(),E=ID(),M=ID(),C=LD(US),D=ID(),S=LD(US),A=LD(BS),N=ID(),O=ID(),T=ID(),I=ID(),L=LD($S);jD(e,GD,L),jD(e,WD,t),jD(e,qD,n),jD(t,ES,r),jD(r,ES,i),jD(e,$D,o),jD(e,UD,o),jD(e,HD,a),jD(e,VD,o),jD(i,$D,u),jD(i,UD,u),jD(i,VD,u),jD(i,HD,u),jD(o,hS,s),jD(E,hS,M),jD(s,$D,a),jD(s,UD,o),jD(s,VD,o),jD(s,HD,o),jD(M,$D,C),jD(M,UD,E),jD(M,VD,E),jD(M,HD,E),jD(a,hS,s),jD(C,hS,M),jD(a,uS,l),jD(a,ES,u),jD(l,VD,c),jD(c,ES,u),jD(C,uS,D),jD(D,VD,S);var j=[rS,oS,sS,aS,lS,cS,pS,UD,fS,gS,HD,VD,bS,yS,vS,wS,WD,ES,DS,MS,$D,CS],R=[iS,tS,XD,eS,nS,uS,dS,hS,mS,JD,YD,QD,ZD,_S,xS,kS];jD(u,YD,p),jD(u,QD,h),jD(u,JD,f),jD(u,ZD,m),jD(d,YD,p),jD(d,QD,h),jD(d,JD,f),jD(d,ZD,m),jD(p,XD,u),jD(h,eS,u),jD(f,tS,u),jD(m,nS,u),jD(g,XD,u),jD(b,eS,u),jD(y,tS,u),jD(v,nS,u),jD(w,XD,u),jD(_,eS,u),jD(x,tS,u),jD(k,nS,u),zD(p,j,g),zD(h,j,b),zD(f,j,y),zD(m,j,v),zD(p,R,w),zD(h,R,_),zD(f,R,x),zD(m,R,k),zD(g,j,g),zD(b,j,b),zD(y,j,y),zD(v,j,v),zD(g,R,g),zD(b,R,b),zD(y,R,y),zD(v,R,v),zD(w,j,g),zD(_,j,b),zD(x,j,y),zD(k,j,v),zD(w,R,w),zD(_,R,_),zD(x,R,x),zD(k,R,k),zD(u,j,u),zD(d,j,u),zD(u,R,d),zD(d,R,d),jD(n,$D,A),jD(n,UD,A),jD(n,VD,A),jD(n,HD,A),zD(A,j,A),zD(A,R,N),zD(N,j,A),zD(N,R,N);var F=[rS,iS,oS,aS,lS,cS,XD,pS,UD,fS,gS,VD,YD,bS,yS,vS,wS,_S,ES,DS,MS,$D,CS];return zD(o,F,O),jD(o,sS,T),zD(a,F,O),jD(a,sS,T),zD(s,F,O),zD(O,F,O),jD(O,sS,T),jD(O,hS,I),zD(I,F,O),jD(T,$D,E),jD(T,UD,E),jD(T,VD,E),jD(T,HD,C),e}function KS(e,t,n){var r=n[0].s,i=n[n.length-1].e;return new e(t.substr(r,i-r),n)}var GS="undefined"!=typeof console&&console&&console.warn||function(){},YS={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function QS(e){if(YS.initialized&&GS('linkifyjs: already initialized - will not register custom protocol "'.concat(e,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(e))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");YS.customProtocols.push(e)}function JS(e){return YS.initialized||function(){YS.scanner={start:jS(YS.customProtocols),tokens:SS},YS.parser={start:qS(),tokens:WS};for(var e={createTokenClass:PS},t=0;t<YS.pluginQueue.length;t++)YS.pluginQueue[t][1]({scanner:YS.scanner,parser:YS.parser,utils:e});YS.initialized=!0}(),function(e,t,n){for(var r=n.length,i=0,o=[],s=[];i<r;){for(var a=e,l=null,c=null,u=0,d=null,p=-1;i<r&&!(l=FD(a,n[i].t));)s.push(n[i++]);for(;i<r&&(c=l||FD(a,n[i].t));)l=null,(a=c).accepts()?(p=0,d=a):p>=0&&p++,i++,u++;if(p<0)for(var h=i-u;h<i;h++)s.push(n[h]);else{s.length>0&&(o.push(KS(HS,t,s)),s=[]),i-=p,u-=p;var f=d.t,m=n.slice(i-u,i);o.push(KS(f,t,m))}}return s.length>0&&o.push(KS(HS,t,s)),o}(YS.parser.start,e,function(e,t){for(var n=function(e){for(var t=[],n=e.length,r=0;r<n;){var i=e.charCodeAt(r),o=void 0,s=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}(t.replace(/[A-Z]/g,(function(e){return e.toLowerCase()}))),r=n.length,i=[],o=0,s=0;s<r;){for(var a=e,l=null,c=0,u=null,d=-1,p=-1;s<r&&(l=FD(a,n[s]));)(a=l).accepts()?(d=0,p=0,u=a):d>=0&&(d+=n[s].length,p++),c+=n[s].length,o+=n[s].length,s++;o-=d,s-=p,c-=d,i.push({t:u.t,v:t.substr(o-c,c),s:o-c,e:o})}return i}(YS.scanner.start,e))}function ZS(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=JS(e),r=[],i=0;i<n.length;i++){var o=n[i];!o.isLink||t&&o.t!==t||r.push(o.toObject())}return r}function XS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=JS(e);return 1===n.length&&n[0].isLink&&(!t||n[0].t===t)}function eA(e){return new Jn({key:new er("autolink"),appendTransaction:(t,n,r)=>{const i=t.some((e=>e.docChanged))&&!n.doc.eq(r.doc),o=t.some((e=>e.getMeta("preventAutolink")));if(!i||o)return;const{tr:s}=r,a=function(e,t){const n=new Dn(e);return t.forEach((e=>{e.steps.forEach((e=>{n.step(e)}))})),n}(n.doc,[...t]),{mapping:l}=a,c=function(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach(((e,i)=>{const o=[];if(e.ranges.length)e.forEach(((e,t)=>{o.push({from:e,to:t})}));else{const{from:e,to:t}=n[i];if(void 0===e||void 0===t)return;o.push({from:e,to:t})}o.forEach((({from:e,to:n})=>{const o=t.slice(i).map(e,-1),s=t.slice(i).map(n),a=t.invert().map(o,-1),l=t.invert().map(s);r.push({oldRange:{from:a,to:l},newRange:{from:o,to:s}})}))})),xE(r)}(a);return c.forEach((({oldRange:t,newRange:i})=>{kE(t.from,t.to,n.doc).filter((t=>t.mark.type===e.type)).forEach((t=>{const i=kE(l.map(t.from),l.map(t.to),r.doc).filter((t=>t.mark.type===e.type));if(!i.length)return;const o=i[0],a=n.doc.textBetween(t.from,t.to,void 0," "),c=r.doc.textBetween(o.from,o.to,void 0," "),u=XS(a),d=XS(c);u&&!d&&s.removeMark(o.from,o.to,e.type)}));const o=function(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,((e,t)=>{n(e)&&r.push({node:e,pos:t})})),r}(r.doc,i,(e=>e.isTextblock));let a,c;if(o.length>1?(a=o[0],c=r.doc.textBetween(a.pos,a.pos+a.node.nodeSize,void 0," ")):o.length&&r.doc.textBetween(i.from,i.to," "," ").endsWith(" ")&&(a=o[0],c=r.doc.textBetween(a.pos,i.to,void 0," ")),a&&c){const t=c.split(" ").filter((e=>""!==e));if(t.length<=0)return!1;const n=t[t.length-1],r=a.pos+c.lastIndexOf(n);if(!n)return!1;ZS(n).filter((e=>e.isLink)).filter((t=>!e.validate||e.validate(t.value))).map((e=>({...e,from:r+e.start+1,to:r+e.end+1}))).forEach((t=>{s.addMark(t.from,t.to,e.type.create({href:t.href}))}))}})),s.steps.length?s:void 0}})}const tA=HE.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(QS)},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:e}){return["a",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[VE({find:e=>ZS(e).filter((e=>!this.options.validate||this.options.validate(e.value))).filter((e=>e.isLink)).map((e=>({text:e.value,index:e.start,data:e}))),type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];var t;return this.options.autolink&&e.push(eA({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push((t={type:this.type},new Jn({key:new er("handleClickLink"),props:{handleClick:(e,n,r)=>{var i;const o=_E(e.state,t.type.name);return!(!(null===(i=r.target)||void 0===i?void 0:i.closest("a"))||!o.href||(window.open(o.href,o.target),0))}}}))),this.options.linkOnPaste&&e.push(function(e){return new Jn({key:new er("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach((e=>{a+=e.textContent}));const l=ZS(a).find((e=>e.isLink&&e.value===a));return!(!a||!l||(e.editor.commands.setMark(e.type,{href:l.href}),0))}}})}({editor:this.editor,type:this.type})),e}}),nA=$E.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:e}){return["td",Ik(this.options.HTMLAttributes,e),0]}}),rA=$E.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:e}){return["th",Ik(this.options.HTMLAttributes,e),0]}}),iA=$E.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:e}){return["tr",Ik(this.options.HTMLAttributes,e),0]}}),oA=HE.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),sA=/^\s*>\s$/,aA=$E.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[UE({find:sA,type:this.type})]}}),lA=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,cA=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,uA=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,dA=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,pA=HE.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[PE({find:lA,type:this.type}),PE({find:uA,type:this.type})]},addPasteRules(){return[VE({find:cA,type:this.type}),VE({find:dA,type:this.type})]}}),hA=/^\s*([-+*])\s$/,fA=$E.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[UE({find:hA,type:this.type})]}}),mA=/^```([a-z]+)?[\s\n]$/,gA=/^~~~([a-z]+)?[\s\n]$/,bA=$E.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,r=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",Ik(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith("\n\n");return!(!o||!s)&&e.chain().command((({tr:e})=>(e.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type)return!1;if(!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();if(void 0===s)return!1;return!r.nodeAt(s)&&e.commands.exitCode()}}},addInputRules(){return[BE({find:mA,type:this.type,getAttributes:e=>({language:e[1]})}),BE({find:gA,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Jn({key:new er("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=null==i?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=e.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(In.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}});function yA(e={}){return new Jn({view:t=>new vA(t,e)})}class vA{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?t.bottom:t.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:t.left,right:t.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let n,r,i=this.editorView.dom.offsetParent;if(this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!i||i==document.body&&"static"==getComputedStyle(i).position)n=-pageXOffset,r=-pageYOffset;else{let e=i.getBoundingClientRect();n=e.left-i.scrollLeft,r=e.top-i.scrollTop}this.element.style.left=e.left-n+"px",this.element.style.top=e.top-r+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,t):r;if(t&&!i){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(e=hn(this.editorView.state.doc,e,this.editorView.dragging.slice),null==e))return this.setCursor(null);this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const wA=Jk.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[yA(this.options)]}});class _A extends An{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return _A.valid(n)?new _A(n):An.near(n)}content(){return ze.empty}eq(e){return e instanceof _A&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new _A(e.resolve(t.pos))}getBookmark(){return new xA(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&_A.valid(e))return e;let r=e.pos,i=null;for(let n=e.depth;;n--){let o=e.node(n);if(t>0?e.indexAfter(n)<o.childCount:e.index(n)>0){i=o.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(_A.valid(s))return s}for(;;){let o=t>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!jn.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*t),n=!1;continue e}break}i=o,r+=t;let s=e.doc.resolve(r);if(_A.valid(s))return s}return null}}}_A.prototype.visible=!1,_A.findFrom=_A.findGapCursorFrom,An.jsonID("gapcursor",_A);class xA{constructor(e){this.pos=e}map(e){return new xA(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return _A.valid(t)?new _A(t):An.near(t)}}const kA=mk({ArrowLeft:EA("horiz",-1),ArrowRight:EA("horiz",1),ArrowUp:EA("vert",-1),ArrowDown:EA("vert",1)});function EA(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){let o=e.selection,s=t>0?o.$to:o.$from,a=o.empty;if(o instanceof In){if(!i.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=_A.findGapCursorFrom(s,t,a);return!!l&&(r&&r(e.tr.setSelection(new _A(l))),!0)}}function MA(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!_A.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&jn.isSelectable(e.state.doc.nodeAt(i.inside)))&&(e.dispatch(e.state.tr.setSelection(new _A(r))),!0)}function CA(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof _A))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Te.empty;for(let e=r.length-1;e>=0;e--)i=Te.from(r[e].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new ze(i,0,0));return o.setSelection(In.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function DA(e){if(!(e.selection instanceof _A))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Ox.create(e.doc,[Sx.widget(e.selection.head,t,{key:"gapcursor"})])}const SA=Jk.create({name:"gapCursor",addProseMirrorPlugins:()=>[new Jn({props:{decorations:DA,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&_A.valid(n)?new _A(n):null,handleClick:MA,handleKeyDown:kA,handleDOMEvents:{beforeinput:CA}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!==(t=Rk(Ak(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))&&void 0!==t?t:null}}}),AA=$E.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",Ik(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command((()=>{const{selection:e,storedMarks:i}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:s}=r.extensionManager,a=i||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{if(t&&a&&o){const t=a.filter((e=>s.includes(e.type.name)));e.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),NA=$E.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}})))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Ik(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>BE({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}})))}});var OA=200,TA=function(){};TA.prototype.append=function(e){return e.length?(e=TA.from(e),!this.length&&e||e.length<OA&&this.leafAppend(e)||this.length<OA&&e.leafPrepend(this)||this.appendInner(e)):this},TA.prototype.prepend=function(e){return e.length?TA.from(e).append(this):this},TA.prototype.appendInner=function(e){return new LA(this,e)},TA.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?TA.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},TA.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},TA.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},TA.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},TA.from=function(e){return e instanceof TA?e:e&&e.length?new IA(e):TA.empty};var IA=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=OA)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=OA)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(TA);TA.empty=new IA([]);var LA=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(TA),jA=TA;const RA=500;class FA{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,s,a=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new zA(e.map));let t,i=e.step.map(n.slice(r));i&&a.maybeStep(i).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new zA(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(r)):e.selection,s=new FA(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(e,t,n,r){let i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),u=new zA(e.mapping.maps[n],c,t);(l=a&&a.merge(u))&&(u=l,n?i.pop():s=s.slice(0,s.length-1)),i.push(u),t&&(o++,t=void 0),r||(a=u)}let l=o-n.depth;return l>BA&&(s=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(s,l),o-=l),new FA(s.append(i),o)}remapping(e,t){let n=new Gt;return this.items.forEach(((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new FA(this.items.append(e.map((e=>new zA(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),r);let a=t;this.items.forEach((t=>{let r=i.getMirror(--a);if(null==r)return;o=Math.min(o,r);let l=i.maps[r];if(t.step){let o=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(a+1,r));c&&s++,n.push(new zA(l,o,c))}else n.push(new zA(l))}),r);let l=[];for(let e=t;e<o;e++)l.push(new zA(i.maps[e]));let c=this.items.slice(0,r).append(l).append(n),u=new FA(c,s);return u.emptyItemCount()>RA&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach(((o,s)=>{if(s>=e)r.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=o.selection&&o.selection.map(t.slice(n));a&&i++;let l,c=new zA(s.invert(),e,a),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else o.map&&n--}),this.items.length,0),new FA(jA.from(r.reverse()),i)}}FA.empty=new FA(jA.empty,0);class zA{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new zA(t.getMap().invert(),t,this.selection)}}}class PA{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const BA=20;function UA(e){let t=[];return e.forEach(((e,n,r,i)=>t.push(r,i))),t}function HA(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function $A(e,t,n,r){let i=qA(t),o=KA.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,i),c=new PA(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(KA,{redo:r,historyState:c}).scrollIntoView())}let VA=!1,WA=null;function qA(e){let t=e.plugins;if(WA!=t){VA=!1,WA=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){VA=!0;break}}return VA}const KA=new er("history"),GA=new er("closeHistory");function YA(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Jn({key:KA,state:{init:()=>new PA(FA.empty,FA.empty,null,0),apply:(t,n,r)=>function(e,t,n,r){let i,o=n.getMeta(KA);if(o)return o.historyState;n.getMeta(GA)&&(e=new PA(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(KA))return s.getMeta(KA).redo?new PA(e.done.addTransform(n,void 0,r,qA(t)),e.undone,UA(n.mapping.maps[n.steps.length-1]),e.prevTime):new PA(e.done,e.undone.addTransform(n,void 0,r,qA(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new PA(e.done.rebased(n,i),e.undone.rebased(n,i),HA(e.prevRanges,n.mapping),e.prevTime):new PA(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),HA(e.prevRanges,n.mapping),e.prevTime);{let i=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)})),n}(n,e.prevRanges)),o=s?HA(e.prevRanges,n.mapping):UA(n.mapping.maps[n.steps.length-1]);return new PA(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,qA(t)),FA.empty,o,n.time)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?QA:"historyRedo"==n?JA:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const QA=(e,t)=>{let n=KA.getState(e);return!(!n||0==n.done.eventCount)&&(t&&$A(n,e,t,!1),!0)},JA=(e,t)=>{let n=KA.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&$A(n,e,t,!0),!0)},ZA=Jk.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>QA(e,t),redo:()=>({state:e,dispatch:t})=>JA(e,t)}),addProseMirrorPlugins(){return[YA(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),XA=$E.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",Ik(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,r=t.end();if(t.nodeAfter)e.setSelection(In.create(e.doc,t.pos));else{const i=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();i&&(e.insert(r,i),e.setSelection(In.create(e.doc,r)))}e.scrollIntoView()}return!0})).run()}},addInputRules(){return[(e={find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type},new Hk({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Rk(e.getAttributes,void 0,r)||{},{tr:o}=t,s=n.from;let a=n.to;if(r[1]){let t=s+r[0].lastIndexOf(r[1]);t>a?t=a:a=t+r[1].length;const n=r[0][r[0].length-1];o.insertText(n,s+r[0].length-1),o.replaceWith(t,a,e.type.create(i))}else r[0]&&o.replaceWith(s,a,e.type.create(i))}}))];var e}}),eN=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,tN=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,nN=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,rN=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,iN=HE.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[PE({find:eN,type:this.type}),PE({find:nN,type:this.type})]},addPasteRules(){return[VE({find:tN,type:this.type}),VE({find:rN,type:this.type})]}}),oN=$E.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",Ik(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),sN=/^(\d+)\.\s$/,aN=$E.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",Ik(this.options.HTMLAttributes,n),0]:["ol",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[UE({find:sN,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]})]}}),lN=$E.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),cN=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,uN=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,dN=HE.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",Ik(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[PE({find:cN,type:this.type})]},addPasteRules(){return[VE({find:uN,type:this.type})]}}),pN=$E.create({name:"text",group:"inline"}),hN=Jk.create({name:"starterKit",addExtensions(){var e,t,n,r,i,o,s,a,l,c,u,d,p,h,f,m,g,b;const y=[];return!1!==this.options.blockquote&&y.push(aA.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bold&&y.push(pA.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.bulletList&&y.push(fA.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&y.push(CD.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&y.push(bA.configure(null===(i=this.options)||void 0===i?void 0:i.codeBlock)),!1!==this.options.document&&y.push(DD.configure(null===(o=this.options)||void 0===o?void 0:o.document)),!1!==this.options.dropcursor&&y.push(wA.configure(null===(s=this.options)||void 0===s?void 0:s.dropcursor)),!1!==this.options.gapcursor&&y.push(SA.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&y.push(AA.configure(null===(l=this.options)||void 0===l?void 0:l.hardBreak)),!1!==this.options.heading&&y.push(NA.configure(null===(c=this.options)||void 0===c?void 0:c.heading)),!1!==this.options.history&&y.push(ZA.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&y.push(XA.configure(null===(d=this.options)||void 0===d?void 0:d.horizontalRule)),!1!==this.options.italic&&y.push(iN.configure(null===(p=this.options)||void 0===p?void 0:p.italic)),!1!==this.options.listItem&&y.push(oN.configure(null===(h=this.options)||void 0===h?void 0:h.listItem)),!1!==this.options.orderedList&&y.push(aN.configure(null===(f=this.options)||void 0===f?void 0:f.orderedList)),!1!==this.options.paragraph&&y.push(lN.configure(null===(m=this.options)||void 0===m?void 0:m.paragraph)),!1!==this.options.strike&&y.push(dN.configure(null===(g=this.options)||void 0===g?void 0:g.strike)),!1!==this.options.text&&y.push(pN.configure(null===(b=this.options)||void 0===b?void 0:b.text)),y}});var fN={exports:{}};function mN(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];"object"!=typeof n||Object.isFrozen(n)||mN(n)})),e}fN.exports=mN,fN.exports.default=mN;class gN{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function bN(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function yN(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const vN="</span>",wN=e=>!!e.scope||e.sublanguage&&e.language;class _N{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=bN(e)}openNode(e){if(!wN(e))return;let t="";t=e.sublanguage?`language-${e.language}`:((e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix}),this.span(t)}closeNode(e){wN(e)&&(this.buffer+=vN)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const xN=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class kN{constructor(){this.rootNode=xN(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=xN({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{kN._collapse(e)})))}}class EN extends kN{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.sublanguage=!0,n.language=t,this.add(n)}toHTML(){return new _N(this,this.options).value()}finalize(){return!0}}function MN(e){return e?"string"==typeof e?e:e.source:null}function CN(e){return AN("(?=",e,")")}function DN(e){return AN("(?:",e,")*")}function SN(e){return AN("(?:",e,")?")}function AN(...e){const t=e.map((e=>MN(e))).join("");return t}function NN(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e),n="("+(t.capture?"":"?:")+e.map((e=>MN(e))).join("|")+")";return n}function ON(e){return new RegExp(e.toString()+"|").exec("").length-1}const TN=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function IN(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=MN(e),i="";for(;r.length>0;){const e=TN.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i})).map((e=>`(${e})`)).join(t)}const LN="[a-zA-Z]\\w*",jN="[a-zA-Z_]\\w*",RN="\\b\\d+(\\.\\d+)?",FN="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",zN="\\b(0b[01]+)",PN={begin:"\\\\[\\s\\S]",relevance:0},BN={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[PN]},UN={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[PN]},HN=function(e,t,n={}){const r=yN({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=NN("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:AN(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},$N=HN("//","$"),VN=HN("/\\*","\\*/"),WN=HN("#","$"),qN={scope:"number",begin:RN,relevance:0},KN={scope:"number",begin:FN,relevance:0},GN={scope:"number",begin:zN,relevance:0},YN={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[PN,{begin:/\[/,end:/\]/,relevance:0,contains:[PN]}]}]},QN={scope:"title",begin:LN,relevance:0},JN={scope:"title",begin:jN,relevance:0},ZN={begin:"\\.\\s*"+jN,relevance:0};var XN=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:LN,UNDERSCORE_IDENT_RE:jN,NUMBER_RE:RN,C_NUMBER_RE:FN,BINARY_NUMBER_RE:zN,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=AN(t,/.*\b/,e.binary,/\b.*/)),yN({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:PN,APOS_STRING_MODE:BN,QUOTE_STRING_MODE:UN,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:HN,C_LINE_COMMENT_MODE:$N,C_BLOCK_COMMENT_MODE:VN,HASH_COMMENT_MODE:WN,NUMBER_MODE:qN,C_NUMBER_MODE:KN,BINARY_NUMBER_MODE:GN,REGEXP_MODE:YN,TITLE_MODE:QN,UNDERSCORE_TITLE_MODE:JN,METHOD_GUARD:ZN,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function eO(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function tO(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function nO(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=eO,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function rO(e,t){Array.isArray(e.illegal)&&(e.illegal=NN(...e.illegal))}function iO(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function oO(e,t){void 0===e.relevance&&(e.relevance=1)}const sO=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=AN(n.beforeMatch,CN(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},aO=["of","and","for","in","not","or","if","then","parent","list","value"],lO="keyword";function cO(e,t,n=lO){const r=Object.create(null);return"string"==typeof e?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach((function(n){Object.assign(r,cO(e[n],t,n))})),r;function i(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,uO(n[0],n[1])]}))}}function uO(e,t){return t?Number(t):function(e){return aO.includes(e.toLowerCase())}(e)?0:1}const dO={},pO=e=>{console.error(e)},hO=(e,...t)=>{console.log(`WARN: ${e}`,...t)},fO=(e,t)=>{dO[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),dO[`${e}/${t}`]=!0)},mO=new Error;function gO(e,t,{key:n}){let r=0;const i=e[n],o={},s={};for(let e=1;e<=t.length;e++)s[e+r]=i[e],o[e+r]=!0,r+=ON(t[e-1]);e[n]=s,e[n]._emit=o,e[n]._multi=!0}function bO(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw pO("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),mO;if("object"!=typeof e.beginScope||null===e.beginScope)throw pO("beginScope must be object"),mO;gO(e,e.begin,{key:"beginScope"}),e.begin=IN(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw pO("skip, excludeEnd, returnEnd not compatible with endScope: {}"),mO;if("object"!=typeof e.endScope||null===e.endScope)throw pO("endScope must be object"),mO;gO(e,e.end,{key:"endScope"}),e.end=IN(e.end,{joinWith:""})}}(e)}function yO(e){function t(t,n){return new RegExp(MN(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=ON(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(IN(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=yN(e.classNameAliases||{}),function n(i,o){const s=i;if(i.isCompiled)return s;[tO,iO,bO,sO].forEach((e=>e(i,o))),e.compilerExtensions.forEach((e=>e(i,o))),i.__beforeBegin=null,[nO,rO,oO].forEach((e=>e(i,o))),i.isCompiled=!0;let a=null;return"object"==typeof i.keywords&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),a=i.keywords.$pattern,delete i.keywords.$pattern),a=a||/\w+/,i.keywords&&(i.keywords=cO(i.keywords,e.case_insensitive)),s.keywordPatternRe=t(a,!0),o&&(i.begin||(i.begin=/\B|\b/),s.beginRe=t(s.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(s.endRe=t(s.end)),s.terminatorEnd=MN(s.end)||"",i.endsWithParent&&o.terminatorEnd&&(s.terminatorEnd+=(i.end?"|":"")+o.terminatorEnd)),i.illegal&&(s.illegalRe=t(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return yN(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(vO(e))return yN(e,{starts:e.starts?yN(e.starts):null});if(Object.isFrozen(e))return yN(e);return e}("self"===e?i:e)}))),i.contains.forEach((function(e){n(e,s)})),i.starts&&n(i.starts,o),s.matcher=function(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}function vO(e){return!!e&&(e.endsWithParent||vO(e.starts))}var wO="11.6.0";class _O extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const xO=bN,kO=yN,EO=Symbol("nomatch"),MO=7;var CO=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:EN};function l(e){return a.noHighlightRe.test(e)}function c(e,t,n){let r="",i="";"object"==typeof t?(r=e,n=t.ignoreIllegals,i=t.language):(fO("10.7.0","highlight(lang, code, ...args) has been deprecated."),fO("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,r=t),void 0===n&&(n=!0);const o={code:r,language:i};y("before:highlight",o);const s=o.result?o.result:u(o.language,o.code,n);return s.code=o.code,y("after:highlight",s),s}function u(e,n,r,s){const l=Object.create(null);function c(){if(!E.keywords)return void C.addText(D);let e=0;E.keywordPatternRe.lastIndex=0;let t=E.keywordPatternRe.exec(D),n="";for(;t;){n+=D.substring(e,t.index);const i=_.case_insensitive?t[0].toLowerCase():t[0],o=(r=i,E.keywords[r]);if(o){const[e,r]=o;if(C.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=MO&&(S+=r),e.startsWith("_"))n+=t[0];else{const n=_.classNameAliases[e]||e;C.addKeyword(t[0],n)}}else n+=t[0];e=E.keywordPatternRe.lastIndex,t=E.keywordPatternRe.exec(D)}var r;n+=D.substring(e),C.addText(n)}function p(){null!=E.subLanguage?function(){if(""===D)return;let e=null;if("string"==typeof E.subLanguage){if(!t[E.subLanguage])return void C.addText(D);e=u(E.subLanguage,D,!0,M[E.subLanguage]),M[E.subLanguage]=e._top}else e=d(D,E.subLanguage.length?E.subLanguage:null);E.relevance>0&&(S+=e.relevance),C.addSublanguage(e._emitter,e.language)}():c(),D=""}function h(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=_.classNameAliases[e[n]]||e[n],i=t[n];r?C.addKeyword(i,r):(D=i,c(),D=""),n++}}function f(e,t){return e.scope&&"string"==typeof e.scope&&C.openNode(_.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(C.addKeyword(D,_.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),D=""):e.beginScope._multi&&(h(e.beginScope,t),D="")),E=Object.create(e,{parent:{value:E}}),E}function g(e,t,n){let r=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(r){if(e["on:end"]){const n=new gN(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return g(e.parent,t,n)}function b(e){return 0===E.matcher.regexIndex?(D+=e[0],1):(O=!0,0)}function y(e){const t=e[0],r=n.substring(e.index),i=g(E,e,r);if(!i)return EO;const o=E;E.endScope&&E.endScope._wrap?(p(),C.addKeyword(t,E.endScope._wrap)):E.endScope&&E.endScope._multi?(p(),h(E.endScope,e)):o.skip?D+=t:(o.returnEnd||o.excludeEnd||(D+=t),p(),o.excludeEnd&&(D=t));do{E.scope&&C.closeNode(),E.skip||E.subLanguage||(S+=E.relevance),E=E.parent}while(E!==i.parent);return i.starts&&f(i.starts,e),o.returnEnd?0:t.length}let v={};function w(t,o){const s=o&&o[0];if(D+=t,null==s)return p(),0;if("begin"===v.type&&"end"===o.type&&v.index===o.index&&""===s){if(D+=n.slice(o.index,o.index+1),!i){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=v.rule,t}return 1}if(v=o,"begin"===o.type)return function(e){const t=e[0],n=e.rule,r=new gN(n),i=[n.__beforeBegin,n["on:begin"]];for(const n of i)if(n&&(n(e,r),r.isMatchIgnored))return b(t);return n.skip?D+=t:(n.excludeBegin&&(D+=t),p(),n.returnBegin||n.excludeBegin||(D=t)),f(n,e),n.returnBegin?0:t.length}(o);if("illegal"===o.type&&!r){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(E.scope||"<unnamed>")+'"');throw e.mode=E,e}if("end"===o.type){const e=y(o);if(e!==EO)return e}if("illegal"===o.type&&""===s)return 1;if(N>1e5&&N>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return D+=s,s.length}const _=m(e);if(!_)throw pO(o.replace("{}",e)),new Error('Unknown language: "'+e+'"');const x=yO(_);let k="",E=s||x;const M={},C=new a.__emitter(a);!function(){const e=[];for(let t=E;t!==_;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>C.openNode(e)))}();let D="",S=0,A=0,N=0,O=!1;try{for(E.matcher.considerAll();;){N++,O?O=!1:E.matcher.considerAll(),E.matcher.lastIndex=A;const e=E.matcher.exec(n);if(!e)break;const t=w(n.substring(A,e.index),e);A=e.index+t}return w(n.substring(A)),C.closeAllNodes(),C.finalize(),k=C.toHTML(),{language:e,value:k,relevance:S,illegal:!1,_emitter:C,_top:E}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:xO(n),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:A,context:n.slice(A-100,A+100),mode:t.mode,resultSoFar:k},_emitter:C};if(i)return{language:e,value:xO(n),illegal:!1,relevance:0,errorRaised:t,_emitter:C,_top:E};throw t}}function d(e,n){n=n||a.languages||Object.keys(t);const r=function(e){const t={value:xO(e),illegal:!1,relevance:0,_top:s,_emitter:new a.__emitter(a)};return t._emitter.addText(e),t}(e),i=n.filter(m).filter(b).map((t=>u(t,e,!1)));i.unshift(r);const o=i.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(m(e.language).supersetOf===t.language)return 1;if(m(t.language).supersetOf===e.language)return-1}return 0})),[l,c]=o,d=l;return d.secondBest=c,d}function p(e){let t=null;const r=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=a.languageDetectRe.exec(t);if(n){const t=m(n[1]);return t||(hO(o.replace("{}",n[1])),hO("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>l(e)||m(e)))}(e);if(l(r))return;if(y("before:highlightElement",{el:e,language:r}),e.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),a.throwUnescapedHTML)){throw new _O("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const i=t.textContent,s=r?c(i,{language:r,ignoreIllegals:!0}):d(i);e.innerHTML=s.value,function(e,t,r){const i=t&&n[t]||r;e.classList.add("hljs"),e.classList.add(`language-${i}`)}(e,r,s.language),e.result={language:s.language,re:s.relevance,relevance:s.relevance},s.secondBest&&(e.secondBest={language:s.secondBest.language,relevance:s.secondBest.relevance}),y("after:highlightElement",{el:e,result:s,text:i})}let h=!1;function f(){if("loading"===document.readyState)return void(h=!0);document.querySelectorAll(a.cssSelector).forEach(p)}function m(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function g(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{n[e.toLowerCase()]=t}))}function b(e){const t=m(e);return t&&!t.disableAutodetect}function y(e,t){const n=e;r.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){h&&f()}),!1),Object.assign(e,{highlight:c,highlightAuto:d,highlightAll:f,highlightElement:p,highlightBlock:function(e){return fO("10.7.0","highlightBlock will be removed entirely in v12.0"),fO("10.7.0","Please use highlightElement now."),p(e)},configure:function(e){a=kO(a,e)},initHighlighting:()=>{f(),fO("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){f(),fO("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,r){let o=null;try{o=r(e)}catch(e){if(pO("Language definition for '{}' could not be registered.".replace("{}",n)),!i)throw e;pO(e),o=s}o.name||(o.name=n),t[n]=o,o.rawDefinition=r.bind(null,e),o.aliases&&g(o.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function(){return Object.keys(t)},getLanguage:m,registerAliases:g,autoDetection:b,inherit:kO,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),r.push(e)}}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=wO,e.regex={concat:AN,lookahead:CN,either:NN,optional:SN,anyNumberOfTimes:DN};for(const e in XN)"object"==typeof XN[e]&&fN.exports(XN[e]);return Object.assign(e,XN),e}({}),DO=CO;CO.HighlightJS=CO,CO.default=CO;var SO=DO;function AO(e,t=[]){return e.map((e=>{const n=[...t,...e.properties?e.properties.className:[]];return e.children?AO(e.children,n):{text:e.value,classes:n}})).flat()}function NO(e){return e.value||e.children||[]}function OO({doc:e,name:t,lowlight:n,defaultLanguage:r}){const i=[];return bE(e,(e=>e.type.name===t)).forEach((e=>{let t=e.pos+1;const o=e.node.attrs.language||r,s=n.listLanguages();var a;AO(o&&(s.includes(o)||(a=o,Boolean(SO.getLanguage(a))))?NO(n.highlight(o,e.node.textContent)):NO(n.highlightAuto(e.node.textContent))).forEach((e=>{const n=t+e.text.length;if(e.classes.length){const r=Sx.inline(t,n,{class:e.classes.join(" ")});i.push(r)}t=n}))})),Ox.create(e,i)}function TO({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every((e=>"function"==typeof t[e])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Jn({key:new er("lowlight"),state:{init:(r,{doc:i})=>OO({doc:i,name:e,lowlight:t,defaultLanguage:n}),apply:(r,i,o,s)=>{const a=o.selection.$head.parent.type.name,l=s.selection.$head.parent.type.name,c=bE(o.doc,(t=>t.type.name===e)),u=bE(s.doc,(t=>t.type.name===e));return r.docChanged&&([a,l].includes(e)||u.length!==c.length||r.steps.some((e=>void 0!==e.from&&void 0!==e.to&&c.some((t=>t.pos>=e.from&&t.pos+t.node.nodeSize<=e.to)))))?OO({doc:r.doc,name:e,lowlight:t,defaultLanguage:n}):i.map(r.mapping,r.doc)}},props:{decorations:e=>r.getState(e)}});return r}const IO=bA.extend({addOptions(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),lowlight:{},defaultLanguage:null}},addProseMirrorPlugins(){var e;return[...(null===(e=this.parent)||void 0===e?void 0:e.call(this))||[],TO({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),LO=()=>c.createElement(dD,{"data-cy":"neeto-editor-code-block"},c.createElement("pre",null,c.createElement(uD,{as:"code"})));var jO=IO.extend({addNodeView:()=>new fD(LO)}).configure({lowlight:Xo}),RO=Jk.create({name:"paste-unformatted",addCommands:()=>({pasteUnformatted:()=>async e=>{let{editor:t}=e;const n=await navigator.clipboard.readText();t.commands.insertContent(n)}})}),FO=$E.create({name:"external-video",addOptions:()=>({inline:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},title:{default:null},frameborder:{default:"0"},allow:{default:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"},allowfullscreen:{default:"allowfullscreen"}}),parseHTML:()=>[{tag:"iframe[src]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["iframe",Ik(this.options.HTMLAttributes,{...t,class:"video-wrapper"})]},addCommands(){return{setExternalVideo:e=>t=>{let{commands:n}=t;return n.insertContent({type:this.name,attrs:e})}}},addPasteRules:()=>[new Wk({find:lr,handler:e=>{let{state:t,range:n,match:r}=e;t.tr.delete(n.from,n.to),t.tr.setSelection(In.create(t.doc,n.from+1));const i=yD(r[0]);if(i){const e=t.schema.nodes["external-video"].create({src:i});t.tr.insert(n.from,e)}}})]});const zO=new er("suggestion");function PO({pluginKey:e=zO,editor:t,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:a="suggestion",command:l=(()=>null),items:c=(()=>[]),render:u=(()=>({})),allow:d=(()=>!0)}){let p;const h=null==u?void 0:u(),f=new Jn({key:e,view(){return{update:async(e,n)=>{var r,i,o,s,a,u,d;const f=null===(r=this.key)||void 0===r?void 0:r.getState(n),m=null===(i=this.key)||void 0===i?void 0:i.getState(e.state),g=f.active&&m.active&&f.range.from!==m.range.from,b=!f.active&&m.active,y=f.active&&!m.active,v=b||g,w=!b&&!y&&f.query!==m.query&&!g,_=y||g;if(!v&&!w&&!_)return;const x=_&&!v?f:m,k=e.dom.querySelector(`[data-decoration-id="${x.decorationId}"]`);p={editor:t,range:x.range,query:x.query,text:x.text,items:[],command:e=>{l({editor:t,range:x.range,props:e})},decorationNode:k,clientRect:k?()=>{var n;const{decorationId:r}=null===(n=this.key)||void 0===n?void 0:n.getState(t.state),i=e.dom.querySelector(`[data-decoration-id="${r}"]`);return(null==i?void 0:i.getBoundingClientRect())||null}:null},v&&(null===(o=null==h?void 0:h.onBeforeStart)||void 0===o||o.call(h,p)),w&&(null===(s=null==h?void 0:h.onBeforeUpdate)||void 0===s||s.call(h,p)),(w||v)&&(p.items=await c({editor:t,query:x.query})),_&&(null===(a=null==h?void 0:h.onExit)||void 0===a||a.call(h,p)),w&&(null===(u=null==h?void 0:h.onUpdate)||void 0===u||u.call(h,p)),v&&(null===(d=null==h?void 0:h.onStart)||void 0===d||d.call(h,p))},destroy:()=>{var e;p&&(null===(e=null==h?void 0:h.onExit)||void 0===e||e.call(h,p))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(e,s,a,l){const{isEditable:c}=t,{composing:u}=t.view,{selection:p}=e,{empty:h,from:f}=p,m={...s};if(m.composing=u,c&&(h||t.view.composing)){!(f<s.range.from||f>s.range.to)||u||s.composing||(m.active=!1);const e=function(e){var t;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=e,a=n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),l=new RegExp(`\\s${a}$`),c=o?"^":"",u=r?new RegExp(`${c}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${c}(?:^)?${a}[^\\s${a}]*`,"gm"),d=(null===(t=s.nodeBefore)||void 0===t?void 0:t.isText)&&s.nodeBefore.text;if(!d)return null;const p=s.pos-d.length,h=Array.from(d.matchAll(u)).pop();if(!h||void 0===h.input||void 0===h.index)return null;const f=h.input.slice(Math.max(0,h.index-1),h.index),m=new RegExp(`^[${null==i?void 0:i.join("")}\0]?$`).test(f);if(null!==i&&!m)return null;const g=p+h.index;let b=g+h[0].length;return r&&l.test(d.slice(b-1,b+1))&&(h[0]+=" ",b+=1),g<s.pos&&b>=s.pos?{range:{from:g,to:b},query:h[0].slice(n.length),text:h[0]}:null}({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:p.$from}),a=`id_${Math.floor(4294967295*Math.random())}`;e&&d({editor:t,state:l,range:e.range})?(m.active=!0,m.decorationId=s.decorationId?s.decorationId:a,m.range=e.range,m.query=e.query,m.text=e.text):m.active=!1}else m.active=!1;return m.active||(m.decorationId=null,m.range={from:0,to:0},m.query=null,m.text=null),m}},props:{handleKeyDown(e,t){var n;const{active:r,range:i}=f.getState(e.state);return r&&(null===(n=null==h?void 0:h.onKeyDown)||void 0===n?void 0:n.call(h,{view:e,event:t,range:i}))||!1},decorations(e){const{active:t,range:n,decorationId:r}=f.getState(e);return t?Ox.create(e.doc,[Sx.inline(n.from,n.to,{nodeName:s,class:a,"data-decoration-id":r})]):null}}});return f}function BO(e){return e&&e.__esModule?e.default:e}function UO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HO,$O,VO,WO,qO,KO,GO={},YO=[],QO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function JO(e,t){for(var n in t)e[n]=t[n];return e}function ZO(e){var t=e.parentNode;t&&t.removeChild(e)}function XO(e,t,n){var r,i,o,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?HO.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return eT(e,s,r,i,null)}function eT(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++VO:i};return null==i&&null!=$O.vnode&&$O.vnode(o),o}function tT(e){return e.children}function nT(e,t){this.props=e,this.context=t}function rT(e,t){if(null==t)return e.__?rT(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?rT(e):null}function iT(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return iT(e)}}function oT(e){(!e.__d&&(e.__d=!0)&&WO.push(e)&&!sT.__r++||KO!==$O.debounceRendering)&&((KO=$O.debounceRendering)||qO)(sT)}function sT(){for(var e;sT.__r=WO.length;)e=WO.sort((function(e,t){return e.__v.__b-t.__v.__b})),WO=[],e.some((function(e){var t,n,r,i,o,s;e.__d&&(o=(i=(t=e).__v).__e,(s=t.__P)&&(n=[],(r=JO({},i)).__v=i.__v+1,mT(s,i,r,t.__n,void 0!==s.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?rT(i):o,i.__h),gT(n,i),i.__e!=o&&iT(i)))}))}function aT(e,t,n,r,i,o,s,a,l,c){var u,d,p,h,f,m,g,b=r&&r.__k||YO,y=b.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(h=n.__k[u]=null==(h=t[u])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?eT(null,h,null,null,h):Array.isArray(h)?eT(tT,{children:h},null,null,null):h.__b>0?eT(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(p=b[u])||p&&h.key==p.key&&h.type===p.type)b[u]=void 0;else for(d=0;d<y;d++){if((p=b[d])&&h.key==p.key&&h.type===p.type){b[d]=void 0;break}p=null}mT(e,h,p=p||GO,i,o,s,a,l,c),f=h.__e,(d=h.ref)&&p.ref!=d&&(g||(g=[]),p.ref&&g.push(p.ref,null,h),g.push(d,h.__c||f,h)),null!=f?(null==m&&(m=f),"function"==typeof h.type&&h.__k===p.__k?h.__d=l=lT(h,l,e):l=uT(e,h,p,b,f,l),"function"==typeof n.type&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=e&&(l=rT(p))}for(n.__e=m,u=y;u--;)null!=b[u]&&("function"==typeof n.type&&null!=b[u].__e&&b[u].__e==n.__d&&(n.__d=rT(r,u+1)),yT(b[u],b[u]));if(g)for(u=0;u<g.length;u++)bT(g[u],g[++u],g[++u])}function lT(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?lT(r,t,n):uT(n,r,r,i,r.__e,t));return t}function cT(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){cT(e,t)})):t.push(e)),t}function uT(e,t,n,r,i,o){var s,a,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<r.length;l+=2)if(a==i)break e;e.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function dT(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||QO.test(t)?n:n+"px"}function pT(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||dT(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||dT(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?fT:hT,o):e.removeEventListener(t,o?fT:hT,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function hT(e){this.l[e.type+!1]($O.event?$O.event(e):e)}function fT(e){this.l[e.type+!0]($O.event?$O.event(e):e)}function mT(e,t,n,r,i,o,s,a,l){var c,u,d,p,h,f,m,g,b,y,v,w=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,a=t.__e=n.__e,t.__h=null,o=[a]),(c=$O.__b)&&c(t);try{e:if("function"==typeof w){if(g=t.props,b=(c=w.contextType)&&r[c.__c],y=c?b?b.props.value:c.__:r,n.__c?m=(u=t.__c=n.__c).__=u.__E:("prototype"in w&&w.prototype.render?t.__c=u=new w(g,y):(t.__c=u=new nT(g,y),u.constructor=w,u.render=vT),b&&b.sub(u),u.props=g,u.state||(u.state={}),u.context=y,u.__n=r,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=w.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=JO({},u.__s)),JO(u.__s,w.getDerivedStateFromProps(g,u.__s))),p=u.props,h=u.state,d)null==w.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==w.getDerivedStateFromProps&&g!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,y)||t.__v===n.__v){u.props=g,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&s.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,y),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(p,h,f)}))}u.context=y,u.props=g,u.state=u.__s,(c=$O.__r)&&c(t),u.__d=!1,u.__v=t,u.__P=e,c=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(r=JO(JO({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(p,h)),v=null!=c&&c.type===tT&&null==c.key?c.props.children:c,aT(e,Array.isArray(v)?v:[v],t,n,r,i,o,s,a,l),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),m&&(u.__E=u.__=null),u.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,o,s,a){var l,c,u,d=n.props,p=t.props,h=t.type,f=0;if("svg"===h&&(i=!0),null!=o)for(;f<o.length;f++)if((l=o[f])&&"setAttribute"in l==!!h&&(h?l.localName===h:3===l.nodeType)){e=l,o[f]=null;break}if(null==e){if(null===h)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,p.is&&p),o=null,a=!1}if(null===h)d===p||a&&e.data===p||(e.data=p);else{if(o=o&&HO.call(e.childNodes),c=(d=n.props||GO).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!a){if(null!=o)for(d={},f=0;f<e.attributes.length;f++)d[e.attributes[f].name]=e.attributes[f].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||pT(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||pT(e,o,t[o],n[o],r)}(e,p,d,i,a),u)t.__k=[];else if(f=t.props.children,aT(e,Array.isArray(f)?f:[f],t,n,r,i&&"foreignObject"!==h,o,s,o?o[0]:n.__k&&rT(n,0),a),null!=o)for(f=o.length;f--;)null!=o[f]&&ZO(o[f]);a||("value"in p&&void 0!==(f=p.value)&&(f!==d.value||f!==e.value||"progress"===h&&!f)&&pT(e,"value",f,d.value,!1),"checked"in p&&void 0!==(f=p.checked)&&f!==e.checked&&pT(e,"checked",f,d.checked,!1))}return e}(n.__e,t,n,r,i,o,s,l);(c=$O.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=o)&&(t.__e=a,t.__h=!!l,o[o.indexOf(a)]=null),$O.__e(e,t,n)}}function gT(e,t){$O.__c&&$O.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){$O.__e(e,t.__v)}}))}function bT(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){$O.__e(e,n)}}function yT(e,t,n){var r,i;if($O.unmount&&$O.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||bT(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){$O.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&yT(r[i],t,"function"!=typeof e.type);n||null==e.__e||ZO(e.__e),e.__e=e.__d=void 0}function vT(e,t,n){return this.constructor(e,n)}function wT(e,t,n){var r,i,o;$O.__&&$O.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],mT(t,e=(!r&&n||t).__k=XO(tT,null,[e]),i||GO,GO,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?HO.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),gT(o,e)}HO=YO.slice,$O={__e:function(e,t){for(var n,r,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(t){e=t}throw e}},VO=0,nT.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=JO({},this.state),"function"==typeof e&&(e=e(JO({},n),this.props)),e&&JO(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),oT(this))},nT.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),oT(this))},nT.prototype.render=tT,WO=[],qO="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sT.__r=0;var _T=0;function xT(e,t,n,r,i){var o,s,a={};for(s in t)"ref"==s?o=t[s]:a[s]=t[s];var l={type:e,props:a,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--_T,__source:r,__self:i};if("function"==typeof e&&(o=e.defaultProps))for(s in o)void 0===a[s]&&(a[s]=o[s]);return $O.vnode&&$O.vnode(l),l}var kT={set:function(e,t){try{window.localStorage[`emoji-mart.${e}`]=JSON.stringify(t)}catch(e){}},get:function(e){try{const t=window.localStorage[`emoji-mart.${e}`];if(t)return JSON.parse(t)}catch(e){}}};const ET=new Map,MT=[{v:14,emoji:""},{v:13.1,emoji:""},{v:13,emoji:""},{v:12.1,emoji:""},{v:12,emoji:""},{v:11,emoji:""},{v:5,emoji:""},{v:4,emoji:""},{v:3,emoji:""},{v:2,emoji:""},{v:1,emoji:""}];function CT(e){if(ET.has(e))return ET.get(e);const t=DT(e);return ET.set(e,t),t}const DT=(()=>{let e=null;try{navigator.userAgent.includes("jsdom")||(e=document.createElement("canvas").getContext("2d"))}catch{}if(!e)return()=>!1;const t=25,n=20,r=Math.floor(t/2);return e.font=r+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=2*n,e.canvas.height=t,r=>{e.clearRect(0,0,2*n,t),e.fillStyle="#FF0000",e.fillText(r,0,22),e.fillStyle="#0000FF",e.fillText(r,n,22);const i=e.getImageData(0,0,n,t).data,o=i.length;let s=0;for(;s<o&&!i[s+3];s+=4);if(s>=o)return!1;const a=n+s/4%n,l=Math.floor(s/4/n),c=e.getImageData(a,l,1,1).data;return i[s]===c[0]&&i[s+2]===c[2]&&!(e.measureText(r).width>=n)}})();var ST={latestVersion:function(){for(const{v:e,emoji:t}of MT)if(CT(t))return e},noCountryFlags:function(){return!CT("")}};const AT=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let NT=null;var OT,TT={add:function(e){NT||(NT=kT.get("frequently")||{});const t=e.id||e;t&&(NT[t]||(NT[t]=0),NT[t]+=1,kT.set("last",t),kT.set("frequently",NT))},get:function({maxFrequentRows:e,perLine:t}){if(!e)return[];NT||(NT=kT.get("frequently"));let n=[];if(!NT){NT={};for(let e in AT.slice(0,t)){const r=AT[e];NT[r]=t-e,n.push(r)}return n}const r=e*t,i=kT.get("last");for(let e in NT)n.push(e);if(n.sort(((e,t)=>{const n=NT[t],r=NT[e];return n==r?e.localeCompare(t):n-r})),n.length>r){const e=n.slice(r);n=n.slice(0,r);for(let t of e)t!=i&&delete NT[t];i&&-1==n.indexOf(i)&&(delete NT[n[n.length-1]],n.splice(-1,1,i)),kT.set("frequently",NT)}return n}};OT=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldnt be found","pick":"Pick an emoji","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var IT={autoFocus:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:14,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","cs","de","es","fa","fi","fr","it","ja","nl","pl","pt","ru","uk","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let LT=null,jT=null;const RT={};async function FT(e){if(RT[e])return RT[e];const t=await fetch(e),n=await t.json();return RT[e]=n,n}let zT=null,PT=null,BT=!1;function UT(e,{caller:t}={}){return zT||(zT=new Promise((e=>{PT=e}))),e?async function(e){BT=!0;let{emojiVersion:t,set:n,locale:r}=e;if(t||(t=IT.emojiVersion.value),n||(n=IT.set.value),r||(r=IT.locale.value),jT)jT.categories=jT.categories.filter((e=>!!!e.name));else{jT=("function"==typeof e.data?await e.data():e.data)||await FT(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${t}/${n}.json`),jT.emoticons={},jT.natives={},jT.categories.unshift({id:"frequent",emojis:[]});for(const e in jT.aliases){const t=jT.aliases[e],n=jT.emojis[t];n&&(n.aliases||(n.aliases=[]),n.aliases.push(e))}}if(LT=("function"==typeof e.i18n?await e.i18n():e.i18n)||("en"==r?BO(OT):await FT(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${r}.json`)),e.custom)for(let t in e.custom){t=parseInt(t);const n=e.custom[t],r=e.custom[t-1];if(n.emojis&&n.emojis.length){n.id||(n.id=`custom_${t+1}`),n.name||(n.name=LT.categories.custom),r&&!n.icon&&(n.target=r.target||r),jT.categories.push(n);for(const e of n.emojis)jT.emojis[e.id]=e}}e.categories&&(jT.categories=jT.categories.filter((t=>-1!=e.categories.indexOf(t.id))).sort(((t,n)=>e.categories.indexOf(t.id)-e.categories.indexOf(n.id))));let i=null,o=null;"native"==n&&(i=ST.latestVersion(),o=e.noCountryFlags||ST.noCountryFlags());let s=jT.categories.length,a=!1;for(;s--;){const t=jT.categories[s];if("frequent"==t.id){let{maxFrequentRows:n,perLine:r}=e;n||(n=IT.maxFrequentRows.value),r||(r=IT.perLine.value),t.emojis=TT.get({maxFrequentRows:n,perLine:r})}if(!t.emojis||!t.emojis.length){jT.categories.splice(s,1);continue}const{categoryIcons:n}=e;if(n){const e=n[t.id];e&&!t.icon&&(t.icon=e)}let r=t.emojis.length;for(;r--;){const e=t.emojis[r],n=e.id?e:jT.emojis[e],s=()=>{t.emojis.splice(r,1)};if(n)if(i&&n.version>i)s();else if(!o||"flags"!=t.id||qT.includes(n.id)){if(!n.search){if(a=!0,n.search=","+[[n.id,!1],[n.name,!0],[n.keywords,!1],[n.emoticons,!1]].map((([e,t])=>{if(e)return(Array.isArray(e)?e:[e]).map((e=>(t?e.split(/[-|_|\s]+/):[e]).map((e=>e.toLowerCase())))).flat()})).flat().filter((e=>e&&e.trim())).join(","),n.emoticons)for(const e of n.emoticons)jT.emoticons[e]||(jT.emoticons[e]=n.id);let e=0;for(const t of n.skins){if(!t)continue;e++;const{native:r}=t;r&&(jT.natives[r]=n.id,n.search+=`,${r}`);const i=1==e?"":`:skin-tone-${e}:`;t.shortcodes=`:${n.id}:${i}`}}}else s();else s()}}a&&WT.reset();PT()}(e):t&&!BT&&console.warn(`\`${t}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),zT}function HT(e,t,n){e||(e={});const r={};for(let i in t)r[i]=$T(i,e,t,n);return r}function $T(e,t,n,r){const i=n[e];let o=r&&r.getAttribute(e)||(null!=t[e]&&null!=t[e]?t[e]:null);return i?(null!=o&&i.value&&typeof i.value!=typeof o&&(o="boolean"==typeof i.value?"false"!=o:i.value.constructor(o)),i.transform&&o&&(o=i.transform(o)),(null==o||i.choices&&-1==i.choices.indexOf(o))&&(o=i.value),o):o}let VT=null;var WT={search:async function(e,{maxResults:t,caller:n}={}){if(!e||!e.trim().length)return null;t||(t=90),await UT(null,{caller:n||"SearchIndex.search"});const r=e.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter(((e,t,n)=>e.trim()&&n.indexOf(e)==t));if(!r.length)return;let i,o,s=VT||(VT=Object.values(jT.emojis));for(const e of r){if(!s.length)break;i=[],o={};for(const t of s){if(!t.search)continue;const n=t.search.indexOf(`,${e}`);-1!=n&&(i.push(t),o[t.id]||(o[t.id]=0),o[t.id]+=t.id==e?0:n+1)}s=i}return i.length<2||(i.sort(((e,t)=>{const n=o[e.id],r=o[t.id];return n==r?e.id.localeCompare(t.id):n-r})),i.length>t&&(i=i.slice(0,t))),i},get:function(e){return e.id?e:jT.emojis[e]||jT.emojis[jT.aliases[e]]||jT.emojis[jT.natives[e]]},reset:function(){VT=null},SHORTCODES_REGEX:/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/};const qT=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];var KT={categories:{activity:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:xT("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:xT("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:xT("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:xT("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:xT("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:xT("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:xT("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[xT("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),xT("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:xT("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[xT("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),xT("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:xT("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[xT("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),xT("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:xT("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[xT("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),xT("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:xT("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[xT("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),xT("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:xT("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:xT("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:xT("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:xT("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:xT("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:xT("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function GT(e){let{id:t,skin:n,emoji:r}=e;if(e.shortcodes){const r=e.shortcodes.match(WT.SHORTCODES_REGEX);r&&(t=r[1],r[2]&&(n=r[2]))}if(r||(r=WT.get(t||e.native)),!r)return e.fallback;const i=r.skins[n-1]||r.skins[0],o=i.src||("native"==e.set||e.spritesheet?void 0:"function"==typeof e.getImageURL?e.getImageURL(e.set,i.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${e.set}@14.0.0/img/${e.set}/64/${i.unified}.png`),s="function"==typeof e.getSpritesheetURL?e.getSpritesheetURL(e.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${e.set}@14.0.0/img/${e.set}/sheets-256/64.png`;return xT("span",{class:"emoji-mart-emoji","data-emoji-set":e.set,children:o?xT("img",{style:{height:e.size||"1em",width:"auto",display:"inline-block",position:"relative",top:".1em"},alt:i.native||i.shortcodes,src:o}):"native"==e.set?xT("span",{style:{fontSize:e.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:i.native}):xT("span",{style:{display:"block",width:e.size,height:e.size,backgroundImage:`url(${s})`,backgroundSize:`${100*jT.sheet.cols}% ${100*jT.sheet.rows}%`,backgroundPosition:`${100/(jT.sheet.cols-1)*i.x}% ${100/(jT.sheet.rows-1)*i.y}%`}})})}const YT="undefined"!=typeof window?window.HTMLElement:Object;class QT extends YT{static get observedAttributes(){return Object.keys(this.Props)}update(e={}){for(let t in e)this.attributeChangedCallback(t,null,e[t])}attributeChangedCallback(e,t,n){if(!this.component)return;const r=$T(e,{[e]:n},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[e]:r}):(this.component.props[e]=r,this.component.forceUpdate())}constructor(e={}){if(super(),this.props=e,e.parent||e.ref){let t=null;const n=e.parent||(t=e.ref&&e.ref.current);t&&(t.innerHTML=""),n&&n.appendChild(this)}}}class JT extends QT{setShadow(){this.attachShadow({mode:"open"})}injectStyles(e){if(!e)return;const t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}constructor(e,{styles:t}={}){super(e),this.setShadow(),this.injectStyles(t)}}var ZT={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:e=>/\D/.test(e)?e:`${e}px`},set:IT.set,skin:IT.skin};class XT extends QT{async connectedCallback(){const e=HT(this.props,ZT,this);e.element=this,e.ref=e=>{this.component=e},await UT(),wT(xT(GT,{...e}),this)}constructor(e){super(e)}}UO(XT,"Props",ZT),"undefined"==typeof customElements||customElements.get("em-emoji")||customElements.define("em-emoji",XT);var eI,tI=[],nI=$O.__b,rI=$O.__r,iI=$O.diffed,oI=$O.__c,sI=$O.unmount;function aI(){var e;for(tI.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=tI.pop();)if(e.__P)try{e.__H.__h.forEach(cI),e.__H.__h.forEach(uI),e.__H.__h=[]}catch(t){e.__H.__h=[],$O.__e(t,e.__v)}}$O.__b=function(e){nI&&nI(e)},$O.__r=function(e){rI&&rI(e);var t=e.__c.__H;t&&(t.__h.forEach(cI),t.__h.forEach(uI),t.__h=[])},$O.diffed=function(e){iI&&iI(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==tI.push(t)&&eI===$O.requestAnimationFrame||((eI=$O.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),lI&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);lI&&(t=requestAnimationFrame(n))})(aI))},$O.__c=function(e,t){t.some((function(e){try{e.__h.forEach(cI),e.__h=e.__h.filter((function(e){return!e.__||uI(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],$O.__e(n,e.__v)}})),oI&&oI(e,t)},$O.unmount=function(e){sI&&sI(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{cI(e)}catch(e){t=e}})),t&&$O.__e(t,n.__v))};var lI="function"==typeof requestAnimationFrame;function cI(e){var t=e.__c;"function"==typeof t&&(e.__c=void 0,t())}function uI(e){e.__c=e.__()}function dI(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function pI(e){this.props=e}(pI.prototype=new nT).isPureReactComponent=!0,pI.prototype.shouldComponentUpdate=function(e,t){return dI(this.props,e)||dI(this.state,t)};var hI=$O.__b;$O.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),hI&&hI(e)};var fI=$O.__e;$O.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);fI(e,t,n)};var mI=$O.unmount;function gI(){this.__u=0,this.t=null,this.__b=null}function bI(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function yI(){this.u=null,this.o=null}$O.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),mI&&mI(e)},(gI.prototype=new nT).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=bI(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(s,s)},gI.prototype.componentWillUnmount=function(){this.t=[]},gI.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__e&&XO(tT,null,e.fallback);return i&&(i.__h=null),[XO(tT,null,t.__e?null:e.children),i]};var vI=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(yI.prototype=new nT).__e=function(e){var t=this,n=bI(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),vI(t,e,r)):i()};n?n(o):o()}},yI.prototype.render=function(e){this.u=null,this.o=new Map;var t=cT(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},yI.prototype.componentDidUpdate=yI.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){vI(e,n,t)}))};var wI="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,_I=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,xI="undefined"!=typeof document,kI=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};nT.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(nT.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var EI=$O.event;function MI(){}function CI(){return this.cancelBubble}function DI(){return this.defaultPrevented}$O.event=function(e){return EI&&(e=EI(e)),e.persist=MI,e.isPropagationStopped=CI,e.isDefaultPrevented=DI,e.nativeEvent=e};var SI={configurable:!0,get:function(){return this.class}},AI=$O.vnode;$O.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var o in r={},n){var s=n[o];xI&&"children"===o&&"noscript"===t||"value"===o&&"defaultValue"in n&&null==s||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===s?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!kI(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():i&&_I.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),r[o]=s)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=cT(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=cT(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(SI.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",SI))}e.$$typeof=wI,AI&&AI(e)};var NI=$O.__r;$O.__r=function(e){NI&&NI(e),e.__c};const OI={light:"outline",dark:"solid"};class TI extends pI{renderIcon(e){const{icon:t}=e;if(t){if(t.svg)return xT("span",{class:"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return xT("img",{src:t.src})}const n=KT.categories[e.id]||KT.categories.custom;return n["auto"==this.props.icons?OI[this.props.theme]:this.props.icons]||n}render(){let e=null;return xT("nav",{id:"nav",class:"padding","data-position":this.props.position,children:xT("div",{class:"flex relative",children:[this.categories.map(((t,n)=>{const r=t.name||LT.categories[t.id],i=!this.props.unfocused&&t.id==this.state.categoryId;return i&&(e=n),xT("button",{"aria-label":r,"aria-selected":i||void 0,title:r,type:"button",class:"flex flex-grow flex-center",onMouseDown:e=>e.preventDefault(),onClick:()=>{this.props.onClick({category:t,i:n})},children:this.renderIcon(t)})})),xT("div",{class:"bar",style:{width:`${100/this.categories.length}%`,opacity:null==e?0:1,transform:`translateX(${100*e}%)`}})]})})}constructor(){super(),this.categories=jT.categories.filter((e=>!e.target)),this.state={categoryId:this.categories[0].id}}}class II extends pI{shouldComponentUpdate(e){for(let t in e)if("children"!=t&&e[t]!=this.props[t])return!0;return!1}render(){return this.props.children}}const LI=10;class jI extends nT{getInitialState(e=this.props){return{skin:kT.get("skin")||e.skin,theme:this.initTheme(e.theme)}}componentWillMount(){this.observers=[],this.dir=LT.rtl?"rtl":"ltr",this.refs={menu:{current:null},navigation:{current:null},scroll:{current:null},search:{current:null},searchInput:{current:null},skinToneButton:{current:null},skinToneRadio:{current:null}},this.initGrid(),0==this.props.stickySearch&&"sticky"==this.props.searchPosition&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:e}=this.refs;e.current&&e.current.focus()}}componentWillReceiveProps(e){this.nextState||(this.nextState={});for(const t in e)this.nextState[t]=e[t];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout((()=>{let e=!1;for(const t in this.nextState)this.props[t]=this.nextState[t],"custom"!==t&&"categories"!==t||(e=!0);delete this.nextState;const t=this.getInitialState();if(e)return this.reset(t);this.setState(t)}))}componentWillUnmount(){this.unregister()}async reset(e={}){await UT(this.props),this.initGrid(),this.unobserve(),this.setState(e,(()=>{this.observeCategories(),this.observeRows()}))}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){document.removeEventListener("click",this.handleClickOutside),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve(){for(const e of this.observers)e.disconnect()}initGrid(){const{categories:e}=jT;this.refs.categories=new Map;const t=jT.categories.map((e=>e.id)).join(",");this.navKey&&this.navKey!=t&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=t,this.grid=[],this.grid.setsize=0;const n=(e,t)=>{const n=[];n.__categoryId=t.id,n.__index=e.length,this.grid.push(n);const r=this.grid.length-1,i=r%LI?{}:{current:null};return i.index=r,i.posinset=this.grid.setsize+1,e.push(i),n};for(let t of e){const e=[];let r=n(e,t);for(let i of t.emojis)r.length==this.props.perLine&&(r=n(e,t)),this.grid.setsize+=1,r.push(i);this.refs.categories.set(t.id,{root:{current:null},rows:e})}}initTheme(e){if("auto"!=e)return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addListener((()=>{"auto"==this.props.theme&&this.setState({theme:this.darkMedia.matches?"dark":"light"})}))}return this.darkMedia.matches?"dark":"light"}getEmojiByPos([e,t]){const n=this.state.searchResults||this.grid,r=n[e]&&n[e][t];if(r)return WT.get(r)}observeCategories(){const e=this.refs.navigation.current;if(!e)return;const t=new Map,n=t=>{t!=e.state.categoryId&&e.setState({categoryId:t})},r={root:this.refs.scroll.current,threshold:[0,1]},i=new IntersectionObserver((e=>{for(const n of e){const e=n.target.dataset.id;t.set(e,n.intersectionRatio)}const r=[...t],i=r[r.length-1];if(1==i[1])return n(i[0]);for(const[e,t]of r)if(t){n(e);break}}),r);for(const{root:e}of this.refs.categories.values())i.observe(e.current);this.observers.push(i)}observeRows(){const e={...this.state.visibleRows},t=new IntersectionObserver((t=>{for(const n of t){const t=parseInt(n.target.dataset.index);n.isIntersecting?e[t]=!0:delete e[t]}this.setState({visibleRows:e})}),{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*(LI+5)}px 0px ${this.props.emojiButtonSize*LI}px`});for(const{rows:e}of this.refs.categories.values())for(const n of e)n.current&&t.observe(n.current);this.observers.push(t)}preventDefault(e){e.preventDefault()}unfocusSearch(){const e=this.refs.searchInput.current;e&&e.blur()}navigate({e:e,input:t,left:n,right:r,up:i,down:o}){const s=this.state.searchResults||this.grid;if(!s.length)return;let[a,l]=this.state.pos;const c=(()=>{if(0==a&&0==l&&!e.repeat&&(n||i))return null;if(-1==a)return e.repeat||!r&&!o||t.selectionStart!=t.value.length?null:[0,0];if(n||r){let e=s[a];const t=n?-1:1;if(l+=t,!e[l]){if(a+=t,e=s[a],!e)return a=n?0:s.length-1,l=n?0:s[a].length-1,[a,l];l=n?e.length-1:0}return[a,l]}if(i||o){a+=i?-1:1;const e=s[a];return e?(e[l]||(l=e.length-1),[a,l]):(a=i?0:s.length-1,l=i?0:s[a].length-1,[a,l])}})();c?(e.preventDefault(),this.setState({pos:c,keyboard:!0},(()=>{this.scrollTo({row:c[0]})}))):this.state.pos[0]>-1&&this.setState({pos:[-1,-1]})}scrollTo({categoryId:e,row:t}){const n=this.state.searchResults||this.grid;if(!n.length)return;const r=this.refs.scroll.current,i=r.getBoundingClientRect();let o=0;if(t>=0&&(e=n[t].__categoryId),e){o=(this.refs[e]||this.refs.categories.get(e).root).current.getBoundingClientRect().top-(i.top-r.scrollTop)+1}if(t>=0)if(t){const e=o+n[t].__index*this.props.emojiButtonSize,s=e+this.props.emojiButtonSize+.88*this.props.emojiButtonSize;if(e<r.scrollTop)o=e;else{if(!(s>r.scrollTop+i.height))return;o=s-i.height}}else o=0;this.ignoreMouse(),r.scrollTop=o}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout((()=>{delete this.mouseIsIgnored}),100)}handleEmojiOver(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}handleEmojiClick({emoji:e,pos:t}){if(this.props.onEmojiSelect&&(!e&&t&&(e=this.getEmojiByPos(t)),e)){const t=function(e,{skinIndex:t}={}){const n=e.skins[t]||(t=0,e.skins[t]),r={id:e.id,name:e.name,native:n.native,unified:n.unified,keywords:e.keywords,shortcodes:n.shortcodes||e.shortcodes};return e.skins.length>1&&(r.skin=t+1),n.src&&(r.src=n.src),e.aliases&&e.aliases.length&&(r.aliases=e.aliases),e.emoticons&&e.emoticons.length&&(r.emoticons=e.emoticons),r}(e,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&TT.add(t,this.props),this.props.onEmojiSelect(t)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(e){this.setState({tempSkin:e})}handleSkinClick(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),kT.set("skin",e)}renderNav(){return xT(TI,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return xT("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[xT("div",{class:"flex flex-middle flex-grow",children:[xT("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:xT(GT,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||("top"==this.props.previewPosition?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),xT("div",{class:`margin-${this.dir[0]}`,children:xT("div",e?{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[xT("div",{class:"ellipsis",style:{fontSize:"1.1em"},children:e.name}),xT("div",{class:"ellipsis color-c",style:{fontSize:".9em"},children:e.skins[0].shortcodes})]}:t?{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[xT("div",{class:"ellipsis",style:{fontSize:"1.1em"},children:LT.search_no_results_1}),xT("div",{class:"ellipsis color-c",style:{fontSize:".9em"},children:LT.search_no_results_2})]}:{class:"color-c",style:{fontSize:21},children:LT.pick})})]}),!e&&"preview"==this.props.skinTonePosition&&this.renderSkinToneButton()]})}renderEmojiButton(e,{pos:t,posinset:n,grid:r}){const i=this.props.emojiButtonSize,o=this.state.tempSkin||this.state.skin,s=(e.skins[o-1]||e.skins[0]).native,a=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(((e,n)=>e==t[n]))}(this.state.pos,t),l=t.concat(e.id).join("");return xT(II,{selected:a,skin:o,size:i,children:xT("button",{"aria-label":s,"aria-selected":a||void 0,"aria-posinset":n,"aria-setsize":r.setsize,"data-keyboard":this.state.keyboard,title:"none"==this.props.previewPosition?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:()=>this.handleEmojiClick({emoji:e}),onMouseEnter:()=>this.handleEmojiOver(t),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[xT("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(n-1)%this.props.emojiButtonColors.length]:void 0}}),xT(GT,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:o,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},l)}renderSearch(){const e="none"==this.props.previewPosition||"search"==this.props.skinTonePosition;return xT("div",{children:[xT("div",{class:"spacer"}),xT("div",{class:"flex flex-middle",children:[e&&"rtl"==this.dir&&this.renderSkinToneButton(),xT("div",{class:"search relative flex-grow",children:[xT("input",{type:"search",ref:this.refs.searchInput,placeholder:LT.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),xT("span",{class:"icon loupe flex",children:KT.search.loupe}),this.state.searchResults&&xT("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:KT.search.delete})]}),e&&"ltr"==this.dir&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:e}=this.state;return e?xT("div",{class:"category",ref:this.refs.search,children:[xT("div",{class:`sticky padding-small align-${this.dir[0]}`,children:LT.categories.search}),xT("div",{children:e.length?e.map(((t,n)=>xT("div",{class:"flex",children:t.map(((t,r)=>this.renderEmojiButton(t,{pos:[n,r],posinset:n*this.props.perLine+r+1,grid:e})))}))):xT("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&xT("a",{onClick:this.props.onAddCustomEmoji,children:LT.add_custom})})})]}):null}renderCategories(){const{categories:e}=jT,t=!!this.state.searchResults;return xT("div",{style:{visibility:t?"hidden":void 0,display:t?"none":void 0},children:e.map((e=>{const{root:t,rows:n}=this.refs.categories.get(e.id);return xT("div",{"data-id":e.target?e.target.id:e.id,class:"category",ref:t,children:[xT("div",{class:`sticky padding-small align-${this.dir[0]}`,children:e.name||LT.categories[e.id]}),xT("div",{class:"relative",style:{height:n.length*this.props.emojiButtonSize},children:n.map(((t,n)=>{const r=t.index-t.index%LI,i=this.state.visibleRows[r],o="current"in t?t:void 0;if(!i&&!o)return null;const s=n*this.props.perLine,a=s+this.props.perLine,l=e.emojis.slice(s,a);return xT("div",{"data-index":t.index,ref:o,class:"flex row",style:{top:n*this.props.emojiButtonSize},children:i&&l.map(((e,n)=>{const r=WT.get(e);return this.renderEmojiButton(r,{pos:[t.index,n],posinset:t.posinset+n,grid:this.grid})}))},t.index)}))})]})}))})}renderSkinToneButton(){return"none"==this.props.skinTonePosition?null:xT("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:xT("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":LT.skins.choose,title:LT.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:xT("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const e=this.getEmojiByPos(this.state.pos);return xT("div",{"aria-live":"polite",class:"sr-only",children:e?e.name:""})}renderSkins(){const e=this.refs.skinToneButton.current.getBoundingClientRect(),t=this.base.getBoundingClientRect(),n={};return"ltr"==this.dir?n.right=t.right-e.right-3:n.left=e.left-t.left-3,"bottom"==this.props.previewPosition&&"preview"==this.props.skinTonePosition?n.bottom=t.bottom-e.top+6:(n.top=e.bottom-t.top+3,n.bottom="auto"),xT("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":LT.skins.choose,class:"menu hidden","data-position":n.top?"top":"bottom",style:n,children:[...Array(6).keys()].map((e=>{const t=e+1,n=this.state.skin==t;return xT("div",{children:[xT("input",{type:"radio",name:"skin-tone",value:t,"aria-label":LT.skins[t],ref:n?this.refs.skinToneRadio:null,defaultChecked:n,onChange:()=>this.handleSkinMouseOver(t),onKeyDown:e=>{"Enter"!=e.code&&"Space"!=e.code&&"Tab"!=e.code||(e.preventDefault(),this.handleSkinClick(t))}}),xT("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(t),onMouseEnter:()=>this.handleSkinMouseOver(t),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[xT("span",{class:`skin-tone skin-tone-${t}`}),xT("span",{class:"margin-small-lr",children:LT.skins[t]})]})]})}))})}render(){return xT("section",{id:"root",class:"flex flex-column",style:{width:this.props.perLine*this.props.emojiButtonSize+28},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:["top"==this.props.previewPosition&&this.renderPreview(),"top"==this.props.navPosition&&this.renderNav(),"sticky"==this.props.searchPosition&&xT("div",{class:"padding-lr",children:this.renderSearch()}),xT("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:xT("div",{style:{width:this.props.perLine*this.props.emojiButtonSize},children:["static"==this.props.searchPosition&&this.renderSearch(),this.renderSearchResults(),this.renderCategories(),xT("div",{class:"spacer"})]})}),"bottom"==this.props.navPosition&&this.renderNav(),"bottom"==this.props.previewPosition&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(e){super(),UO(this,"handleClickOutside",(e=>{const{element:t}=this.props;e.target!=t&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside())})),UO(this,"handleBaseClick",(e=>{this.state.showSkins&&(e.target.closest(".menu")||(e.preventDefault(),e.stopImmediatePropagation(),this.closeSkins()))})),UO(this,"handleBaseKeydown",(e=>{this.state.showSkins&&"Escape"==e.key&&(e.preventDefault(),e.stopImmediatePropagation(),this.closeSkins())})),UO(this,"handleSearchClick",(()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})})),UO(this,"handleSearchInput",(async()=>{const e=this.refs.searchInput.current;if(!e)return;const{value:t}=e,n=await WT.search(t),r=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!n)return this.setState({searchResults:n,pos:[-1,-1]},r);const i=e.selectionStart==e.value.length?[0,0]:[-1,-1],o=[];o.setsize=n.length;let s=null;for(let e of n)o.length&&s.length!=this.props.perLine||(s=[],s.__categoryId="search",s.__index=o.length,o.push(s)),s.push(e);this.ignoreMouse(),this.setState({searchResults:o,pos:i},r)})),UO(this,"handleSearchKeyDown",(e=>{const t=e.currentTarget;switch(e.stopImmediatePropagation(),e.key){case"ArrowLeft":this.navigate({e:e,input:t,left:!0});break;case"ArrowRight":this.navigate({e:e,input:t,right:!0});break;case"ArrowUp":this.navigate({e:e,input:t,up:!0});break;case"ArrowDown":this.navigate({e:e,input:t,down:!0});break;case"Enter":e.preventDefault(),this.handleEmojiClick({pos:this.state.pos});break;case"Escape":e.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch()}})),UO(this,"clearSearch",(()=>{const e=this.refs.searchInput.current;e&&(e.value="",e.focus(),this.handleSearchInput())})),UO(this,"handleCategoryClick",(({category:e,i:t})=>{this.scrollTo(0==t?{row:-1}:{categoryId:e.id})})),UO(this,"openSkins",(e=>{const{currentTarget:t}=e,n=t.getBoundingClientRect();this.setState({showSkins:n},(async()=>{await async function(e=1){for(let t in[...Array(e).keys()])await new Promise(requestAnimationFrame)}(2);const e=this.refs.menu.current;e&&(e.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))}))})),this.state={pos:[-1,-1],visibleRows:{0:!0},...this.getInitialState(e)}}}class RI extends JT{async connectedCallback(){const e=HT(this.props,IT,this);e.element=this,e.ref=e=>{this.component=e},await UT(e),wT(xT(jI,{...e}),this.shadowRoot)}disconnectedCallback(){this.component&&this.component.unregister()}constructor(e){super(e,{styles:BO(FI)})}}UO(RI,"Props",IT),"undefined"==typeof customElements||customElements.get("em-emoji-picker")||customElements.define("em-emoji-picker",RI);var FI={};FI=':host {\n  display: flex;\n  width: -webkit-min-content;\n  width: -moz-min-content;\n  width: min-content;\n  height: 435px;\n  min-height: 230px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow);\n  --border-radius: 10px;\n  --category-icon-size: 18px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n  --font-size: 15px;\n  --shadow-color: 0deg 0% 0%;\n  --shadow:\n    0.3px 0.5px 2.7px hsl(var(--shadow-color) / 0.14),\n    0.4px 0.8px 1px -3.2px hsl(var(--shadow-color) / 0.14),\n    1px 2px 2.5px -4.5px hsl(var(--shadow-color) / 0.14);\n}\n\n[data-theme=light] {\n  --em-rgb-color: var(--rgb-color, 34, 36, 39);\n  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);\n  --em-rgb-background: var(--rgb-background, 255, 255, 255);\n  --em-rgb-input: var(--rgb-input, 255, 255, 255);\n  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));\n  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));\n}\n\n[data-theme=dark] {\n  --em-rgb-color: var(--rgb-color, 222, 222, 221);\n  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);\n  --em-rgb-background: var(--rgb-background, 21, 22, 23);\n  --em-rgb-input: var(--rgb-input, 0, 0, 0);\n  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));\n  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));\n}\n\n#root {\n  --color-a: rgb(var(--em-rgb-color));\n  --color-b: rgba(var(--em-rgb-color), .65);\n  --color-c: rgba(var(--em-rgb-color), .45);\n  --padding: 12px;\n  --padding-small: calc(var(--padding) / 2);\n  --sidebar-width: 16px;\n  --duration: 225ms;\n  --duration-fast: 125ms;\n  --duration-instant: 50ms;\n  --easing: cubic-bezier(.4, .0, .2, 1);\n  position: relative;\n  width: 100%;\n  text-align: left;\n  border-radius: var(--border-radius);\n  background-color: rgb(var(--em-rgb-background));\n}\n\n@media (prefers-reduced-motion) {\n  #root {\n    --duration: 0;\n    --duration-fast: 0;\n    --duration-instant: 0;\n  }\n}\n\n#root[data-menu] button {\n  cursor: auto;\n}\n\n#root[data-menu] .menu button {\n  cursor: pointer;\n}\n\n:host, #root, input, button {\n  color: rgb(var(--em-rgb-color));\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n*, *:before, *:after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  min-width: 0;\n}\n\n.relative {\n  position: relative;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-auto {\n  flex: 0 0 auto;\n}\n\n.flex-center {\n  justify-content: center;\n}\n\n.flex-column {\n  flex-direction: column;\n}\n\n.flex-grow {\n  flex: 1 1 auto;\n}\n\n.flex-middle {\n  align-items: center;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.padding {\n  padding: var(--padding);\n}\n\n.padding-t {\n  padding-top: var(--padding);\n}\n\n.padding-lr {\n  padding-left: var(--padding);\n  padding-right: var(--padding);\n}\n\n.padding-r {\n  padding-right: var(--padding);\n}\n\n.padding-small {\n  padding: var(--padding-small);\n}\n\n.padding-small-b {\n  padding-bottom: var(--padding-small);\n}\n\n.padding-small-lr {\n  padding-left: var(--padding-small);\n  padding-right: var(--padding-small);\n}\n\n.margin {\n  margin: var(--padding);\n}\n\n.margin-r {\n  margin-right: var(--padding);\n}\n\n.margin-l {\n  margin-left: var(--padding);\n}\n\n.margin-small-l {\n  margin-left: var(--padding-small);\n}\n\n.margin-small-lr {\n  margin-left: var(--padding-small);\n  margin-right: var(--padding-small);\n}\n\n.align-l {\n  text-align: left;\n}\n\n.align-r {\n  text-align: right;\n}\n\n.color-a {\n  color: var(--color-a);\n}\n\n.color-b {\n  color: var(--color-b);\n}\n\n.color-c {\n  color: var(--color-c);\n}\n\n.ellipsis {\n  white-space: nowrap;\n  max-width: 100%;\n  width: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.sr-only {\n  position: absolute;\n  left: -10000px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n\na {\n  cursor: pointer;\n  color: rgb(var(--em-rgb-accent));\n}\n\na:hover {\n  text-decoration: underline;\n}\n\n.spacer {\n  height: 10px;\n}\n\n.scroll {\n  overflow: auto;\n  overflow-x: hidden;\n  padding-right: 0;\n}\n\n.scroll::-webkit-scrollbar {\n  width: var(--sidebar-width);\n  height: var(--sidebar-width);\n}\n\n.scroll::-webkit-scrollbar-track {\n  border: 0;\n}\n\n.scroll::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.scroll::-webkit-scrollbar-corner {\n  background-color: transparent;\n}\n\n.scroll::-webkit-scrollbar-thumb {\n  min-height: 20%;\n  min-height: 65px;\n  border: 4px solid rgb(var(--em-rgb-background));\n  border-radius: 8px;\n}\n\n.scroll::-webkit-scrollbar-thumb:hover {\n  background-color: var(--em-color-border-over) !important;\n}\n\n.scroll:hover::-webkit-scrollbar-thumb {\n  background-color: var(--em-color-border);\n}\n\n.sticky {\n  position: -webkit-sticky;\n  position: sticky;\n  z-index: 1;\n  top: -1px;\n  font-weight: 500;\n  background-color: rgba(var(--em-rgb-background), 0.9);\n  -webkit-backdrop-filter: blur(4px);\n          backdrop-filter: blur(4px);\n}\n\n.search {\n  z-index: 2;\n  position: relative;\n}\n\n.search input, .search button {\n  font-size: calc(var(--font-size) - 1px);\n}\n\n.search input[type=search] {\n  display: block;\n  border: 0;\n  outline: 0;\n  width: 100%;\n  padding: 10px 2em 10px 2.2em;\n  border-radius: 10px;\n  background-color: var(--em-color-border);\n  transition-duration: var(--duration);\n  transition-property: background-color, box-shadow;\n  transition-timing-function: var(--easing);\n}\n\n.search input[type=search]::-moz-placeholder {\n  color: inherit;\n  opacity: 0.6;\n}\n\n.search input[type=search]:-ms-input-placeholder {\n  color: inherit;\n  opacity: 0.6;\n}\n\n.search input[type=search]::placeholder {\n  color: inherit;\n  opacity: 0.6;\n}\n\n.search input[type=search], .search input[type=search]::-webkit-search-decoration, .search input[type=search]::-webkit-search-cancel-button, .search input[type=search]::-webkit-search-results-button, .search input[type=search]::-webkit-search-results-decoration {\n  -webkit-appearance: none;\n          appearance: none;\n}\n\n.search input[type=search]:focus {\n  background-color: rgb(var(--em-rgb-input));\n  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, 0.2);\n}\n\n.search .icon {\n  z-index: 1;\n  position: absolute;\n  top: 50%;\n  color: rgba(var(--em-rgb-color), 0.7);\n  transform: translateY(-50%);\n}\n\n.search .loupe {\n  left: 0.7em;\n  pointer-events: none;\n}\n\n.search .delete {\n  right: 0.7em;\n}\n\nsvg {\n  fill: currentColor;\n  width: 1em;\n  height: 1em;\n}\n\nbutton {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  cursor: pointer;\n  color: currentColor;\n  border: 0;\n  background-color: transparent;\n}\n\n#nav {\n  z-index: 2;\n  position: relative;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  padding-right: var(--sidebar-width);\n}\n\n#nav button {\n  color: var(--color-b);\n  transition: color var(--duration) var(--easing);\n}\n\n#nav button:hover {\n  color: var(--color-a);\n}\n\n#nav svg, #nav img {\n  width: var(--category-icon-size);\n  height: var(--category-icon-size);\n}\n\n#nav .bar {\n  position: absolute;\n  bottom: -12px;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background-color: rgb(var(--em-rgb-accent));\n  border-radius: 3px 3px 0 0;\n  transition: transform var(--duration) var(--easing);\n}\n\n#nav button[aria-selected] {\n  color: rgb(var(--em-rgb-accent));\n}\n\n#preview {\n  z-index: 2;\n  position: relative;\n  padding: calc(var(--padding) + 4px) var(--padding);\n  padding-right: var(--sidebar-width);\n}\n\n#nav:before, #preview:before {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 2px;\n}\n\n#nav[data-position=top]:before, #preview[data-position=top]:before {\n  top: 100%;\n  background: linear-gradient(to bottom, var(--em-color-border), transparent);\n}\n\n#nav[data-position=bottom]:before, #preview[data-position=bottom]:before {\n  bottom: 100%;\n  background: linear-gradient(to top, var(--em-color-border), transparent);\n}\n\n.category button {\n  position: relative;\n  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n}\n\n.category button > * {\n  position: relative;\n}\n\n.category button .background {\n  position: absolute;\n  inset: 0;\n  opacity: 0;\n  background-color: var(--em-color-border);\n  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);\n}\n\n.category button:hover .background {\n  transition-duration: var(--duration-instant);\n  transition-delay: 0ms;\n}\n\n.category button[aria-selected] .background {\n  opacity: 1;\n}\n\n.category button[data-keyboard] .background {\n  transition: none;\n}\n\n.row {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n\n.skin-tone-button {\n  border-radius: 100%;\n  border: 1px solid transparent;\n}\n\n.skin-tone-button:hover {\n  border-color: var(--em-color-border);\n}\n\n.skin-tone-button:active .skin-tone {\n  transform: scale(0.85) !important;\n}\n\n.skin-tone-button .skin-tone {\n  transition: transform var(--duration) var(--easing);\n}\n\n.skin-tone-button[aria-selected] {\n  border-left-width: 0;\n  border-right-width: 0;\n  border-top-color: rgba(0, 0, 0, 0.05);\n  border-bottom-color: transparent;\n  background-color: var(--em-color-border);\n}\n\n.skin-tone-button[aria-selected] .skin-tone {\n  transform: scale(0.9);\n}\n\n.menu {\n  z-index: 2;\n  position: absolute;\n  white-space: nowrap;\n  padding: 4px;\n  border: 1px solid var(--em-color-border);\n  background-color: rgba(var(--em-rgb-background), 0.9);\n  -webkit-backdrop-filter: blur(4px);\n          backdrop-filter: blur(4px);\n  border-radius: 10px;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.05);\n  transition-property: opacity, transform;\n  transition-duration: var(--duration);\n  transition-timing-function: var(--easing);\n}\n\n.menu.hidden {\n  opacity: 0;\n}\n\n.menu[data-position=bottom] {\n  transform-origin: bottom right;\n}\n\n.menu[data-position=bottom].hidden {\n  transform: scale(0.9) rotate(-3deg) translateY(5%);\n}\n\n.menu[data-position=top] {\n  transform-origin: top right;\n}\n\n.menu[data-position=top].hidden {\n  transform: scale(0.9) rotate(3deg) translateY(-5%);\n}\n\n.menu input[type=radio] {\n  position: absolute;\n  overflow: hidden;\n  clip: rect(0 0 0 0);\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n\n.menu input[type=radio]:checked + .option {\n  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));\n}\n\n.option {\n  width: 100%;\n  padding: 4px 6px;\n  border-radius: 6px;\n}\n\n.option:hover {\n  color: #fff;\n  background-color: rgb(var(--em-rgb-accent));\n}\n\n.skin-tone {\n  position: relative;\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  overflow: hidden;\n}\n\n.skin-tone:after {\n  content: "";\n  position: absolute;\n  inset: 0;\n  border-radius: 100%;\n  border: 1px solid rgba(0, 0, 0, 0.8);\n  mix-blend-mode: overlay;\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent);\n}\n\n.skin-tone-1 {\n  background-color: #ffc93a;\n}\n\n.skin-tone-2 {\n  background-color: #ffdab7;\n}\n\n.skin-tone-3 {\n  background-color: #e7b98f;\n}\n\n.skin-tone-4 {\n  background-color: #c88c61;\n}\n\n.skin-tone-5 {\n  background-color: #a46134;\n}\n\n.skin-tone-6 {\n  background-color: #5d4437;\n}\n\n[data-emoji-set=twitter] .skin-tone:after {\n  border-color: rgba(0, 0, 0, 0.5);\n  box-shadow: none;\n}\n\n[data-emoji-set=twitter] .skin-tone-1 {\n  background-color: #FADE72;\n}\n\n[data-emoji-set=twitter] .skin-tone-2 {\n  background-color: #F3DFD0;\n}\n\n[data-emoji-set=twitter] .skin-tone-3 {\n  background-color: #EED3A8;\n}\n\n[data-emoji-set=twitter] .skin-tone-4 {\n  background-color: #CFAD8D;\n}\n\n[data-emoji-set=twitter] .skin-tone-5 {\n  background-color: #A8805D;\n}\n\n[data-emoji-set=twitter] .skin-tone-6 {\n  background-color: #765542;\n}\n\n[data-emoji-set=google] .skin-tone:after {\n  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, 0.4);\n}\n\n[data-emoji-set=google] .skin-tone-1 {\n  background-color: #F5C748;\n}\n\n[data-emoji-set=google] .skin-tone-2 {\n  background-color: #F1D5AA;\n}\n\n[data-emoji-set=google] .skin-tone-3 {\n  background-color: #D4B48D;\n}\n\n[data-emoji-set=google] .skin-tone-4 {\n  background-color: #AA876B;\n}\n\n[data-emoji-set=google] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set=google] .skin-tone-6 {\n  background-color: #61493F;\n}\n\n[data-emoji-set=facebook] .skin-tone:after {\n  border-color: rgba(0, 0, 0, 0.4);\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;\n}\n\n[data-emoji-set=facebook] .skin-tone-1 {\n  background-color: #F5C748;\n}\n\n[data-emoji-set=facebook] .skin-tone-2 {\n  background-color: #F1D5AA;\n}\n\n[data-emoji-set=facebook] .skin-tone-3 {\n  background-color: #D4B48D;\n}\n\n[data-emoji-set=facebook] .skin-tone-4 {\n  background-color: #AA876B;\n}\n\n[data-emoji-set=facebook] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set=facebook] .skin-tone-6 {\n  background-color: #61493F;\n}\n';const zI=()=>ve.get("https://cdn.jsdelivr.net/npm/@emoji-mart/data");class PI extends c.Component{constructor(){super(...arguments),Kg(this,"ref",c.createRef()),Kg(this,"fetchEmojiData",(async()=>{try{const{data:e}=await zI();return e}catch{return{}}})),Kg(this,"onKeyDown",(e=>{let{event:t}=e;return"Escape"===t.key&&(this.props.editor.chain().focus().deleteRange(this.props.range).run(),!0)})),Kg(this,"handleSelect",(e=>{this.props.editor.chain().focus().deleteRange(this.props.range).setEmoji(e).run(),this.props.setActive(!1)}))}componentDidMount(){new RI({...this.props,onEmojiSelect:this.handleSelect,style:{maxWidth:"100%"},theme:"light",native:!0,previewPosition:"none",showSkinTones:!1,data:this.fetchEmojiData,ref:this.ref})}render(){return c.createElement("div",{"data-cy":"neeto-editor-emoji-picker",ref:this.ref})}}PI.defaultProps={editor:{},range:{}},PI.propTypes={editor:um.exports.object.isRequired,range:um.exports.object};const BI=new er("emoji-picker"),UI=$E.create({name:"emojiPicker",group:"inline",inline:!0,selectable:!1,atom:!0,addOptions:()=>({suggestion:{char:"::",startOfLine:!1,pluginKey:BI,items:()=>[],render:()=>{let e,t;return{onStart(n){e=new pD(PI,{props:n,editor:n.editor}),t=XC("body",{theme:"light",getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",zIndex:99999})},onKeyDown(t){var n;return null===(n=e.ref)||void 0===n?void 0:n.onKeyDown(t)},onExit(){t[0].destroy(),e.destroy()}}}}}),addProseMirrorPlugins(){return[PO({editor:this.editor,...this.options.suggestion})]}}),HI=["+1","-1","heart","heart_eyes","tada","partying_face","joy","sob","white_frowning_face","rocket","eyes","raised_hands","open_mouth"],$I=(e,t)=>{const n=HI.concat(t.filter((e=>!HI.includes(e))));return e.sort(((e,t)=>{const r=n.indexOf(e.id),i=n.indexOf(t.id);return-1===r&&-1===i?0:-1===r?1:-1===i?-1:r-i})).slice(0,5)};class VI extends c.Component{constructor(){super(...arguments),Kg(this,"state",{isLoading:!1,selectedIndex:0,emojiSuggestions:[],frequentlyUsedEmojis:{}}),Kg(this,"fetchEmojiData",(async()=>{this.setState({isLoading:!0});try{const{data:e}=await zI();return this.setState({isLoading:!1}),e}catch{return this.setState({isLoading:!1}),{}}})),Kg(this,"searchEmoji",(async()=>this.props.query?WT.search(this.props.query):[])),Kg(this,"searchEmojiAndSetState",(async()=>{const e=await this.searchEmoji(),t=this.state.frequentlyUsedEmojis;this.setState({emojiSuggestions:$I(e,t)})})),Kg(this,"setEditorState",(async()=>{const e=await this.searchEmoji();this.props.editor.chain().focus().deleteRange(this.props.range).setEmoji(e[0]).run()})),Kg(this,"onKeyDown",(e=>{let{event:t}=e;return!w(this.state.emojiSuggestions)&&("ArrowLeft"===t.key||"ArrowDown"===t.key?(this.setState((e=>{let{selectedIndex:t,emojiSuggestions:n}=e;return{selectedIndex:(t+n.length-1)%n.length}})),!0):"ArrowRight"===t.key||"ArrowUp"===t.key?(this.setState((e=>{let{selectedIndex:t,emojiSuggestions:n}=e;return{selectedIndex:(t+1)%n.length}})),!0):"Enter"===t.key?(this.selectItem(this.state.selectedIndex),!0):"Escape"===t.key&&(this.props.editor.chain().focus().insertContent(" ").run(),!0))})),Kg(this,"selectItem",(e=>{this.props.editor.chain().focus().deleteRange(this.props.range).setEmoji(this.state.emojiSuggestions[e]).run()}))}componentDidMount(){this.setState({frequentlyUsedEmojis:Object.keys(JSON.parse(localStorage.getItem("emoji-mart.frequently")||"{}"))}),UT({data:this.fetchEmojiData,theme:"light",previewPosition:"none"}),this.searchEmojiAndSetState()}componentDidUpdate(e){this.props.query!==e.query&&this.searchEmojiAndSetState()}render(){return w(this.state.emojiSuggestions)?null:c.createElement("div",{className:"neeto-editor-emoji-suggestion"},this.state.isLoading&&c.createElement(L,null),!this.state.isLoading&&(e(this.state.emojiSuggestions)?this.state.emojiSuggestions.map(((e,t)=>c.createElement("div",{"data-cy":`neeto-editor-emoji-suggestion-${e.id}`,key:e.id,className:Ka("neeto-editor-emoji-suggestion__item",{"neeto-editor-emoji-suggestion__item--selected":t===this.state.selectedIndex}),onClick:()=>this.selectItem(t)},e.skins[0].native))):c.createElement("p",null,"No results")))}}const WI=new er("emoji-suggestion"),qI=$E.create({name:"emojiSuggestion",group:"inline",inline:!0,selectable:!1,atom:!0,addOptions:()=>({HTMLAttributes:{class:"neeto-editor-emoji"},renderEmoji(e){let{node:t}=e;return t.attrs.label},suggestion:{}}),addAttributes:()=>({label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}),parseHTML:()=>[{tag:"span[data-emoji]"}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",Ik({"data-emoji":""},this.options.HTMLAttributes,n),this.options.renderEmoji({node:t})]},renderText(e){let{node:t}=e;return this.options.renderEmoji({node:t})},addCommands(){return{setEmoji:e=>t=>{var n;let{chain:r}=t;r().focus().insertContent([{type:this.name,attrs:{label:(null==e?void 0:e.native)||(null==e||null===(n=e.skins[0])||void 0===n?void 0:n.native)||""}},{type:"text",text:" "}]).run()}}},addProseMirrorPlugins(){return[PO({editor:this.editor,...this.options.suggestion})]}}),KI={char:":",startOfLine:!1,pluginKey:WI,command:e=>{let{editor:t,range:n,props:r}=e;t.chain().focus().deleteRange(n).setEmoji(r).run()},items:()=>[],render:()=>{let e,t;return{onStart(n){37===n.editor.view.input.lastKeyCode&&(e=null,t=null)},onUpdate(n){var r;39!==n.editor.view.input.lastKeyCode&&37!==n.editor.view.input.lastKeyCode&&1===n.query.length&&(e=new pD(VI,{props:n,editor:n.editor}),t=XC("body",{theme:"light",getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"top-start",zIndex:99999})),e&&e.updateProps(n),!_(t)&&(null===(r=t[0])||void 0===r||r.setProps({getReferenceClientRect:n.clientRect}))},onKeyDown(t){var n,r;return null===(n=e)||void 0===n||null===(r=n.ref)||void 0===r?void 0:r.onKeyDown(t)},onExit(){var n,r;!_(t)&&(null===(n=t[0])||void 0===n||n.destroy()),null===(r=e)||void 0===r||r.destroy(),e=null}}}};var GI,YI=qI.configure({suggestion:KI}),QI=void 0&&(void 0).__extends||(GI=function(e,t){return GI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},GI(e,t)},function(e,t){function n(){this.constructor=e}GI(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),JI=void 0&&(void 0).__assign||function(){return JI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},JI.apply(this,arguments)},ZI={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},XI={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},eL={width:"20px",height:"20px",position:"absolute"},tL={top:JI(JI({},ZI),{top:"-5px"}),right:JI(JI({},XI),{left:void 0,right:"-5px"}),bottom:JI(JI({},ZI),{top:void 0,bottom:"-5px"}),left:JI(JI({},XI),{left:"-5px"}),topRight:JI(JI({},eL),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:JI(JI({},eL),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:JI(JI({},eL),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:JI(JI({},eL),{left:"-10px",top:"-10px",cursor:"nw-resize"})},nL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return QI(t,e),t.prototype.render=function(){return l.createElement("div",{className:this.props.className||"",style:JI(JI({position:"absolute",userSelect:"none"},tL[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(l.PureComponent),rL=void 0&&(void 0).__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iL=void 0&&(void 0).__assign||function(){return iL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iL.apply(this,arguments)},oL={width:"auto",height:"auto"},sL=function(e,t,n){return Math.max(Math.min(e,n),t)},aL=function(e,t){return Math.round(e/t)*t},lL=function(e,t){return new RegExp(e,"i").test(t)},cL=function(e){return Boolean(e.touches&&e.touches.length)},uL=function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e},dL=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},pL=function(e,t,n,r){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return n*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return r*(Number(e.replace("vh",""))/100)}return e},hL=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],fL="__resizable_base__",mL=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(fL):t.className+=fL,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return rL(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||oL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&e.propsSize[t].toString().endsWith("%")){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return dL(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?dL(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?dL(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,i=this.props.boundsByDirection,o=this.state.direction,s=i&&lL("left",o),a=i&&lL("top",o);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=s?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=a?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,s=i.original,a=this.props,l=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,u=a.lockAspectRatioExtraWidth,d=s.width,p=s.height,h=c||0,f=u||0;return lL("right",o)&&(d=s.width+(e-s.x)*r/n,l&&(p=(d-f)/this.ratio+h)),lL("left",o)&&(d=s.width-(e-s.x)*r/n,l&&(p=(d-f)/this.ratio+h)),lL("bottom",o)&&(p=s.height+(t-s.y)*r/n,l&&(d=(p-h)*this.ratio+f)),lL("top",o)&&(p=s.height-(t-s.y)*r/n,l&&(d=(p-h)*this.ratio+f)),{newWidth:d,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,o=i.lockAspectRatio,s=i.lockAspectRatioExtraHeight,a=i.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,c=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,p=s||0,h=a||0;if(o){var f=(u-p)*this.ratio+h,m=(d-p)*this.ratio+h,g=(l-h)/this.ratio+p,b=(c-h)/this.ratio+p,y=Math.max(l,f),v=Math.min(c,m),w=Math.max(u,g),_=Math.min(d,b);e=sL(e,y,v),t=sL(t,w,_)}else e=sL(e,l,c),t=sL(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top,s=r.right,a=r.bottom;this.resizableLeft=i,this.resizableRight=s,this.resizableTop=o,this.resizableBottom=a}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY):e.nativeEvent&&cL(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=this.window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var s=this.parentNode;if(s){var a=this.window.getComputedStyle(s).flexDirection;this.flexDir=a.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:iL(iL({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&cL(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var n=this.props,r=n.maxWidth,i=n.maxHeight,o=n.minWidth,s=n.minHeight,a=cL(e)?e.touches[0].clientX:e.clientX,l=cL(e)?e.touches[0].clientY:e.clientY,c=this.state,u=c.direction,d=c.original,p=c.width,h=c.height,f=this.getParentSize(),m=function(e,t,n,r,i,o,s){return r=pL(r,e.width,t,n),i=pL(i,e.height,t,n),o=pL(o,e.width,t,n),s=pL(s,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===i?void 0:Number(i),minWidth:void 0===o?void 0:Number(o),minHeight:void 0===s?void 0:Number(s)}}(f,this.window.innerWidth,this.window.innerHeight,r,i,o,s);r=m.maxWidth,i=m.maxHeight,o=m.minWidth,s=m.minHeight;var g=this.calculateNewSizeFromDirection(a,l),b=g.newHeight,y=g.newWidth,v=this.calculateNewMaxFromBoundary(r,i);this.props.snap&&this.props.snap.x&&(y=uL(y,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=uL(b,this.props.snap.y,this.props.snapGap));var w=this.calculateNewSizeFromAspectRatio(y,b,{width:v.maxWidth,height:v.maxHeight},{width:o,height:s});if(y=w.newWidth,b=w.newHeight,this.props.grid){var _=aL(y,this.props.grid[0]),x=aL(b,this.props.grid[1]),k=this.props.snapGap||0;y=0===k||Math.abs(_-y)<=k?_:y,b=0===k||Math.abs(x-b)<=k?x:b}var E={width:y-d.width,height:b-d.height};if(p&&"string"==typeof p)if(p.endsWith("%"))y=y/f.width*100+"%";else if(p.endsWith("vw")){y=y/this.window.innerWidth*100+"vw"}else if(p.endsWith("vh")){y=y/this.window.innerHeight*100+"vh"}if(h&&"string"==typeof h)if(h.endsWith("%"))b=b/f.height*100+"%";else if(h.endsWith("vw")){b=b/this.window.innerWidth*100+"vw"}else if(h.endsWith("vh")){b=b/this.window.innerHeight*100+"vh"}var M={width:this.createSizeForCssProperty(y,"width"),height:this.createSizeForCssProperty(b,"height")};"row"===this.flexDir?M.flexBasis=M.width:"column"===this.flexDir&&(M.flexBasis=M.height),ke((function(){t.setState(M)})),this.props.onResize&&this.props.onResize(e,u,this.resizable,E)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:iL(iL({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,i=t.handleClasses,o=t.handleWrapperStyle,s=t.handleWrapperClass,a=t.handleComponent;if(!n)return null;var c=Object.keys(n).map((function(t){return!1!==n[t]?l.createElement(nL,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:i&&i[t]},a&&a[t]?a[t]:null):null}));return l.createElement("div",{className:s,style:o},c)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==hL.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=iL(iL(iL({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return l.createElement(r,iL({ref:this.ref,style:n,className:this.props.className},t),this.state.isResizing&&l.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(l.PureComponent);const gL=e=>{let{align:t,updateAttributes:n,deleteNode:r}=e;const i=[{Icon:z,alignPos:"left",optionName:"Align left"},{Icon:P,alignPos:"center",optionName:"Align Center"},{Icon:B,alignPos:"right",optionName:"Align right"},{Icon:U,optionName:"Delete"}];return c.createElement(O,{buttonProps:{className:"neeto-editor__image-menu-btn"},buttonSize:"small",buttonStyle:"secondary",className:"neeto-editor__image-menu",icon:V,position:"top"},i.map((e=>{let{Icon:i,optionName:s,alignPos:a}=e;return c.createElement(A,{icon:i,key:s,style:a===t?"secondary":"text",tooltipProps:{content:o(s),position:"top"},onClick:()=>(e=>e?n({align:e}):r())(a)})})))},bL=e=>{var t;let{node:n,editor:r,getPos:i,updateAttributes:o,deleteNode:s}=e;const a=d(null),{alt:l,src:u,figheight:p,figwidth:h,align:f}=n.attrs,{view:m}=r;let g=p,b=h;const y=a.current?null===(t=a.current.querySelector("figcaption>div"))||void 0===t?void 0:t.textContent:l;return c.createElement(dD,{className:`neeto-editor__image-wrapper neeto-editor__image--${f}`},c.createElement("figure",{ref:a},c.createElement(gL,{align:f,deleteNode:s,updateAttributes:o}),c.createElement(mL,{lockAspectRatio:!0,className:"neeto-editor__image",size:{height:g,width:b},onResizeStop:(e,t,o)=>{g=o.offsetHeight,b=o.offsetWidth,m.dispatch(m.state.tr.setNodeMarkup(i(),void 0,{...n.attrs,figheight:g,figwidth:b,height:g,width:b})),r.commands.focus()}},c.createElement("img",Vy({},n.attrs,{alt:y,src:u}))),c.createElement(uD,{as:"figcaption",className:Ka({"is-empty":w(y)})})))},yL=$E.create({name:"image",addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",draggable:!0,isolating:!0,addAttributes:()=>({src:{default:null,parseHTML:e=>{var t;return null===(t=e.querySelector("img"))||void 0===t?void 0:t.getAttribute("src")}},alt:{default:"",parseHTML:e=>{var t;return null===(t=e.querySelector("img"))||void 0===t?void 0:t.getAttribute("alt")}},figheight:{default:288,parseHTML:e=>{var t;return null===(t=e.querySelector("img"))||void 0===t?void 0:t.getAttribute("figheight")}},figwidth:{default:"fit-content",parseHTML:e=>{var t;return null===(t=e.querySelector("img"))||void 0===t?void 0:t.getAttribute("figwidth")}},align:{default:"left",parseHTML:e=>{var t;return null===(t=e.querySelector("img"))||void 0===t?void 0:t.getAttribute("align")}}}),parseHTML:()=>[{tag:"figure",contentElement:"figcaption"}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;const{align:r,src:i,figheight:o,figwidth:s}=t.attrs,a={class:"neeto-editor__image",style:`height:${o}px;width:${s}px;`};return["a",{href:i,target:"_blank",rel:"noopener noreferrer",class:`neeto-editor__image-wrapper neeto-editor__image--${r}`},["figure",this.options.HTMLAttributes,["div",a,["img",Ik(n,{draggable:!1,contenteditable:!1})]],["figcaption",0]]]},addNodeView:()=>fD(bL),addCommands(){return{setFigure:e=>{let{caption:t,...n}=e;return e=>{let{chain:r}=e;return r().insertContent({type:this.name,attrs:n,content:t?[{type:"text",text:t}]:[]}).command((e=>{let{tr:t,commands:n}=e;const{doc:r,selection:i}=t,o=r.resolve(i.to).end();return n.setTextSelection(o)})).run()}}}}}),vL=async(e,t)=>{if(e.size<=Pg){const n=new jy({file:e,url:t}),{blobUrl:r}=await n.create();return r}const n=Pg/(1024*1024);return C.error(`Image size should be less than ${n} MB`),""};var wL=e=>{let{uploadEndpoint:t}=e;return yL.extend({addProseMirrorPlugins:()=>[new Jn({props:{handleDOMEvents:{paste(e,n){var r,i;const{schema:o,selection:{$anchor:{pos:s}}}=e.state;if(!(null===(r=n.clipboardData)||void 0===r||null===(i=r.files)||void 0===i?void 0:i.length))return;const a=Array.from(n.clipboardData.files).filter((e=>/image/i.test(e.type)));w(a)||(n.preventDefault(),a.forEach((async n=>{const r=o.nodes.image.create({src:await vL(n,t)});if(r.attrs.src){const t=e.state.tr.insert(s,r);e.dispatch(t)}})))}}}})]})},_L=$E.create({name:"figcaption",selectable:!1,draggable:!1,parseHTML:()=>[{tag:"figcaption"}]});const xL=e=>{let{onSubmit:t,shortcuts:n}=e;return Jk.create({name:"keyboard-shortcuts",addKeyboardShortcuts(){return{"Mod-Enter":()=>(null==t||t(this.editor.getHTML()),this.editor.commands.blur(),!0),...n}}})};var kL=e=>{let{onSubmit:t,shortcuts:n}=e;return xL({onSubmit:t,shortcuts:n})};const EL=new er("mention"),ML=$E.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderLabel({options:e,node:t}){var n;return`${e.suggestion.char}${null!==(n=t.attrs.label)&&void 0!==n?n:t.attrs.id}`},suggestion:{char:"@",pluginKey:EL,command:({editor:e,range:t,props:n})=>{var r,i;const o=e.view.state.selection.$to.nodeAfter;(null===(r=null==o?void 0:o.text)||void 0===r?void 0:r.startsWith(" "))&&(t.to+=1),e.chain().focus().insertContentAt(t,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),null===(i=window.getSelection())||void 0===i||i.collapseToEnd()},allow:({state:e,range:t})=>{const n=e.doc.resolve(t.from),r=e.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(r)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}),parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:t}){return["span",Ik({"data-type":this.name},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e})]},renderText({node:e}){return this.options.renderLabel({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((({tr:e,state:t})=>{let n=!1;const{selection:r}=t,{empty:i,anchor:o}=r;return!!i&&(t.doc.nodesBetween(o-1,o,((t,r)=>{if(t.type.name===this.name)return n=!0,e.insertText(this.options.suggestion.char||"",r,r+t.nodeSize),!1})),n)}))}},addProseMirrorPlugins(){return[PO({editor:this.editor,...this.options.suggestion})]}}),CL=e=>{let{wrapperRef:t,index:n}=e;if(!t.current||n>=t.current.children.length)return;const r=t.current,i=r.children[n],o=i.clientHeight+ls;let s=r.scrollTop;i.offsetTop+o>s+r.clientHeight?s=i.offsetTop-r.clientHeight+o:s>i.offsetTop&&(s=i.offsetTop-ls),t.current.scrollTop=s};class DL extends c.Component{constructor(e){super(e),Kg(this,"selectItem",(e=>{const{items:t,command:n}=this.props,r=t[e];r&&n({label:r.name,id:r.key})})),Kg(this,"upHandler",(()=>{const{items:e}=this.props;this.setState((t=>{const{selectedIndex:n}=t;return{selectedIndex:(n+e.length-1)%e.length}}))})),Kg(this,"downHandler",(()=>{const{items:e}=this.props;this.setState((t=>{const{selectedIndex:n}=t;return{selectedIndex:(n+1)%e.length}}))})),Kg(this,"enterHandler",(()=>{const{selectedIndex:e}=this.state;this.selectItem(e)})),Kg(this,"onKeyDown",(e=>{let{event:t}=e;const n={ArrowUp:this.upHandler,ArrowDown:this.downHandler,Enter:this.enterHandler};return!!Object.prototype.hasOwnProperty.call(n,t.key)&&(n[t.key](),!0)})),this.state={selectedIndex:0},this.mentionRef=c.createRef()}componentDidUpdate(e){const{items:t}=this.props;t!==e.items&&this.setState({selectedIndex:0}),CL({wrapperRef:this.mentionRef,index:this.state.selectedIndex})}render(){const{selectedIndex:e}=this.state,{items:t}=this.props;return w(t)?c.createElement("div",{className:"neeto-editor-mentions__wrapper"},c.createElement("p",{className:"neeto-editor-mentions__item"},"No Results")):c.createElement("div",{className:"neeto-editor-mentions__wrapper","data-cy":"neeto-editor-mention-list",ref:this.mentionRef},t.map(((t,n)=>{let{key:r,name:i,imageUrl:o}=t;return c.createElement("button",{"data-cy":`neeto-editor-mention-list-${i}`,key:r,type:"button",className:Ka("neeto-editor-mentions__item",{active:n===e}),onClick:()=>this.selectItem(n)},c.createElement(j,{user:{name:i,imageUrl:o}}),c.createElement("p",null,i))})))}}function SL(e){return Array.isArray?Array.isArray(e):"[object Array]"===FL(e)}const AL=1/0;function NL(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-AL?"-0":t}(e)}function OL(e){return"string"==typeof e}function TL(e){return"number"==typeof e}function IL(e){return!0===e||!1===e||function(e){return LL(e)&&null!==e}(e)&&"[object Boolean]"==FL(e)}function LL(e){return"object"==typeof e}function jL(e){return null!=e}function RL(e){return!e.trim().length}function FL(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const zL="Extended search is not available",PL="Incorrect 'index' type",BL=Object.prototype.hasOwnProperty;class UL{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=HL(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function HL(e){let t=null,n=null,r=null,i=1,o=null;if(OL(e)||SL(e))r=e,t=$L(e),n=VL(e);else{if(!BL.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const s=e.name;if(r=s,BL.call(e,"weight")&&(i=e.weight,i<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(s));t=$L(s),n=VL(s),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function $L(e){return SL(e)?e:e.split(".")}function VL(e){return SL(e)?e.join("."):e}const WL={useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const i=(e,t,o)=>{if(jL(e))if(t[o]){const s=e[t[o]];if(!jL(s))return;if(o===t.length-1&&(OL(s)||TL(s)||IL(s)))n.push(NL(s));else if(SL(s)){r=!0;for(let e=0,n=s.length;e<n;e+=1)i(s[e],t,o+1)}else t.length&&i(s,t,o+1)}else n.push(e)};return i(e,OL(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var qL={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...WL};const KL=/[^ ]+/g;class GL{constructor({getFn:e=qL.getFn,fieldNormWeight:t=qL.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const i=t.match(KL).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),s=parseFloat(Math.round(o*r)/r);return n.set(i,s),s},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,OL(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();OL(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!jL(e)||RL(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(jL(i))if(SL(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(jL(r))if(OL(r)&&!RL(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else SL(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(OL(i)&&!RL(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function YL(e,t,{getFn:n=qL.getFn,fieldNormWeight:r=qL.fieldNormWeight}={}){const i=new GL({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(HL)),i.setSources(t),i.create(),i}function QL(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=qL.distance,ignoreLocation:o=qL.ignoreLocation}={}){const s=t/e.length;if(o)return s;const a=Math.abs(r-n);return i?s+a/i:a?1:s}const JL=32;function ZL(e,t,n,{location:r=qL.location,distance:i=qL.distance,threshold:o=qL.threshold,findAllMatches:s=qL.findAllMatches,minMatchCharLength:a=qL.minMatchCharLength,includeMatches:l=qL.includeMatches,ignoreLocation:c=qL.ignoreLocation}={}){if(t.length>JL)throw new Error((e=>`Pattern length exceeds max of ${e}.`)(JL));const u=t.length,d=e.length,p=Math.max(0,Math.min(r,d));let h=o,f=p;const m=a>1||l,g=m?Array(d):[];let b;for(;(b=e.indexOf(t,f))>-1;){let e=QL(t,{currentLocation:b,expectedLocation:p,distance:i,ignoreLocation:c});if(h=Math.min(e,h),f=b+u,m){let e=0;for(;e<u;)g[b+e]=1,e+=1}}f=-1;let y=[],v=1,w=u+d;const _=1<<u-1;for(let r=0;r<u;r+=1){let o=0,a=w;for(;o<a;){QL(t,{errors:r,currentLocation:p+a,expectedLocation:p,distance:i,ignoreLocation:c})<=h?o=a:w=a,a=Math.floor((w-o)/2+o)}w=a;let l=Math.max(1,p-a+1),b=s?d:Math.min(p+a,d)+u,x=Array(b+2);x[b+1]=(1<<r)-1;for(let o=b;o>=l;o-=1){let s=o-1,a=n[e.charAt(s)];if(m&&(g[s]=+!!a),x[o]=(x[o+1]<<1|1)&a,r&&(x[o]|=(y[o+1]|y[o])<<1|1|y[o+1]),x[o]&_&&(v=QL(t,{errors:r,currentLocation:s,expectedLocation:p,distance:i,ignoreLocation:c}),v<=h)){if(h=v,f=s,f<=p)break;l=Math.max(1,2*p-f)}}if(QL(t,{errors:r+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:c})>h)break;y=x}const x={isMatch:f>=0,score:Math.max(.001,v)};if(m){const e=function(e=[],t=qL.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=e.length;o<s;o+=1){let s=e[o];s&&-1===r?r=o:s||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(g,a);e.length?l&&(x.indices=e):x.isMatch=!1}return x}function XL(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class ej{constructor(e,{location:t=qL.location,threshold:n=qL.threshold,distance:r=qL.distance,includeMatches:i=qL.includeMatches,findAllMatches:o=qL.findAllMatches,minMatchCharLength:s=qL.minMatchCharLength,isCaseSensitive:a=qL.isCaseSensitive,ignoreLocation:l=qL.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:l},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:XL(e),startIndex:t})},u=this.pattern.length;if(u>JL){let e=0;const t=u%JL,n=u-t;for(;e<n;)c(this.pattern.substr(e,JL),e),e+=JL;if(t){const e=u-JL;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:a,ignoreLocation:l}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:p,startIndex:h})=>{const{isMatch:f,score:m,indices:g}=ZL(e,t,p,{location:r+h,distance:i,threshold:o,findAllMatches:s,minMatchCharLength:a,includeMatches:n,ignoreLocation:l});f&&(d=!0),u+=m,f&&g&&(c=[...c,...g])}));let p={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(p.indices=c),p}}class tj{constructor(e){this.pattern=e}static isMultiMatch(e){return nj(e,this.multiRegex)}static isSingleMatch(e){return nj(e,this.singleRegex)}search(){}}function nj(e,t){const n=e.match(t);return n?n[1]:null}class rj extends tj{constructor(e,{location:t=qL.location,threshold:n=qL.threshold,distance:r=qL.distance,includeMatches:i=qL.includeMatches,findAllMatches:o=qL.findAllMatches,minMatchCharLength:s=qL.minMatchCharLength,isCaseSensitive:a=qL.isCaseSensitive,ignoreLocation:l=qL.ignoreLocation}={}){super(e),this._bitapSearch=new ej(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class ij extends tj{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const oj=[class extends tj{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},ij,class extends tj{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends tj{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends tj{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends tj{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends tj{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},rj],sj=oj.length,aj=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,lj="|";const cj=new Set([rj.type,ij.type]);class uj{constructor(e,{isCaseSensitive:t=qL.isCaseSensitive,includeMatches:n=qL.includeMatches,minMatchCharLength:r=qL.minMatchCharLength,ignoreLocation:i=qL.ignoreLocation,findAllMatches:o=qL.findAllMatches,location:s=qL.location,threshold:a=qL.threshold,distance:l=qL.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:s,threshold:a,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split(lj).map((e=>{let n=e.trim().split(aj).filter((e=>e&&!!e.trim())),r=[];for(let e=0,i=n.length;e<i;e+=1){const i=n[e];let o=!1,s=-1;for(;!o&&++s<sj;){const e=oj[s];let n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),o=!0)}if(!o)for(s=-1;++s<sj;){const e=oj[s];let n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,o=[],s=0;for(let r=0,a=t.length;r<a;r+=1){const a=t[r];o.length=0,i=0;for(let t=0,r=a.length;t<r;t+=1){const r=a[t],{isMatch:l,indices:c,score:u}=r.search(e);if(!l){s=0,i=0,o.length=0;break}if(i+=1,s+=u,n){const e=r.constructor.type;cj.has(e)?o=[...o,...c]:o.push(c)}}if(i){let e={isMatch:!0,score:s/i};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}}const dj=[];function pj(e,t){for(let n=0,r=dj.length;n<r;n+=1){let r=dj[n];if(r.condition(e,t))return new r(e,t)}return new ej(e,t)}const hj="$and",fj="$or",mj="$path",gj="$val",bj=e=>!(!e[hj]&&!e[fj]),yj=e=>({[hj]:Object.keys(e).map((t=>({[t]:e[t]})))});function vj(e,t,{auto:n=!0}={}){const r=e=>{let i=Object.keys(e);const o=(e=>!!e[mj])(e);if(!o&&i.length>1&&!bj(e))return r(yj(e));if((e=>!SL(e)&&LL(e)&&!bj(e))(e)){const r=o?e[mj]:i[0],s=o?e[gj]:e[r];if(!OL(s))throw new Error((e=>`Invalid value for key ${e}`)(r));const a={keyId:VL(r),pattern:s};return n&&(a.searcher=pj(s,t)),a}let s={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];SL(n)&&n.forEach((e=>{s.children.push(r(e))}))})),s};return bj(e)||(e=yj(e)),r(e)}function wj(e,t){const n=e.matches;t.matches=[],jL(n)&&n.forEach((e=>{if(!jL(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function _j(e,t){t.score=e.score}class xj{constructor(e,t={},n){if(this.options={...qL,...t},this.options.useExtendedSearch&&!1)throw new Error(zL);this._keyStore=new UL(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof GL))throw new Error(PL);this._myIndex=t||YL(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){jL(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:s}=this.options;let a=OL(e)?OL(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=qL.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:i})=>{const o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))})),e.score=n}))}(a,{ignoreFieldNorm:s}),i&&a.sort(o),TL(t)&&t>-1&&(a=a.slice(0,t)),function(e,t,{includeMatches:n=qL.includeMatches,includeScore:r=qL.includeScore}={}){const i=[];return n&&i.push(wj),r&&i.push(_j),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,r)})),r}))}(a,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=pj(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:i})=>{if(!jL(e))return;const{isMatch:o,score:s,indices:a}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:s,value:e,norm:i,indices:a}]})})),r}_searchLogical(e){const t=vj(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}const i=[];for(let o=0,s=e.children.length;o<s;o+=1){const s=e.children[o],a=n(s,t,r);if(a.length)i.push(...a);else if(e.operator===hj)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((({$:e,i:r})=>{if(jL(e)){let s=n(t,e,r);s.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),s.forEach((({matches:e})=>{i[r].matches.push(...e)})))}})),o}_searchObjectList(e){const t=pj(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:e,i:r})=>{if(!jL(e))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),o.length&&i.push({idx:r,item:e,matches:o})})),i}_findMatches({key:e,value:t,searcher:n}){if(!jL(t))return[];let r=[];if(SL(t))t.forEach((({v:t,i:i,n:o})=>{if(!jL(t))return;const{isMatch:s,score:a,indices:l}=n.searchIn(t);s&&r.push({score:a,key:e,value:t,idx:i,norm:o,indices:l})}));else{const{v:i,n:o}=t,{isMatch:s,score:a,indices:l}=n.searchIn(i);s&&r.push({score:a,key:e,value:i,norm:o,indices:l})}return r}}xj.version="6.6.2",xj.createIndex=YL,xj.parseIndex=function(e,{getFn:t=qL.getFn,fieldNormWeight:n=qL.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new GL({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},xj.config=qL,xj.parseQuery=vj,function(...e){dj.push(...e)}(uj);const kj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort(((e,t)=>e.name.localeCompare(t.name)))},Ej={render:()=>{let e,t;return{onStart:n=>{e=new pD(DL,{props:n,editor:n.editor}),t=XC("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",zIndex:99999})},onUpdate(n){e.updateProps(n),t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r;return"Escape"===n.event.key?(t[0].hide(),!0):null===(r=e.ref)||void 0===r?void 0:r.onKeyDown(n)},onExit(){t[0].destroy(),e.destroy()}}}},Mj=ML.extend({addCommands(){return{setMention:e=>{let{id:t,label:n}=e;return e=>{let{chain:r}=e;r().focus().insertContent([{type:this.name,attrs:{id:t,label:n}},{type:"text",text:" "}]).run()}}}}});var Cj=e=>{let{suggestion:t={},...n}=e;return Mj.configure({...n,suggestion:{...Ej,...t}})};const Dj=Jk.create({name:"placeholder",addOptions:()=>({excludeNodeTypes:["variable","codeBlock"],emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!1,includeChildren:!1}),addProseMirrorPlugins(){return[new Jn({props:{decorations:e=>{let{doc:t,selection:n}=e;const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=n,o=[];return r?(t.descendants(((e,t)=>{const n=i>=t&&i<=t+e.nodeSize,r=!e.isLeaf&&!e.childCount,s=this.options.excludeNodeTypes.includes(e.type.name);if((n||!this.options.showOnlyCurrent)&&!s&&r){const n=[this.options.emptyNodeClass];this.editor.isEmpty&&n.push(this.options.emptyEditorClass);const r=Sx.node(t,t+e.nodeSize,{class:n.join(" "),"data-placeholder":this.options.placeholder});o.push(r)}return this.options.includeChildren})),Ox.create(t,o)):null}}})]}});var Sj={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",d=1,p=2,h=4,f=1,m=2,g=1,b=2,y=4,v=8,w=16,_=32,x=64,k=128,E=256,M=512,C=30,D="...",S=800,A=16,N=1,O=2,T=3,I=1/0,L=9007199254740991,j=17976931348623157e292,R=0/0,F=4294967295,z=F-1,P=F>>>1,B=[["ary",k],["bind",g],["bindKey",b],["curry",v],["curryRight",w],["flip",M],["partial",_],["partialRight",x],["rearg",E]],U="[object Arguments]",H="[object Array]",$="[object AsyncFunction]",V="[object Boolean]",W="[object Date]",q="[object DOMException]",K="[object Error]",G="[object Function]",Y="[object GeneratorFunction]",Q="[object Map]",J="[object Number]",Z="[object Null]",X="[object Object]",ee="[object Promise]",te="[object Proxy]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object Symbol]",se="[object Undefined]",ae="[object WeakMap]",le="[object WeakSet]",ce="[object ArrayBuffer]",ue="[object DataView]",de="[object Float32Array]",pe="[object Float64Array]",he="[object Int8Array]",fe="[object Int16Array]",me="[object Int32Array]",ge="[object Uint8Array]",be="[object Uint8ClampedArray]",ye="[object Uint16Array]",ve="[object Uint32Array]",we=/\b__p \+= '';/g,_e=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Me=RegExp(ke.source),Ce=RegExp(Ee.source),De=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Ae=/<%=([\s\S]+?)%>/g,Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Ie.source),je=/^\s+/,Re=/\s/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ze=/\{\n\/\* \[wrapped with (.+)\] \*/,Pe=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/[()=,{}\[\]\/\s]/,He=/\\(\\)?/g,$e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ve=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,Ke=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Xe="\\ud800-\\udfff",et="\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff",tt="\\u2700-\\u27bf",nt="a-z\\xdf-\\xf6\\xf8-\\xff",rt="A-Z\\xc0-\\xd6\\xd8-\\xde",it="\\ufe0e\\ufe0f",ot="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",st="[']",at="["+Xe+"]",lt="["+ot+"]",ct="["+et+"]",ut="\\d+",dt="["+tt+"]",pt="["+nt+"]",ht="[^"+Xe+ot+ut+tt+nt+rt+"]",ft="\\ud83c[\\udffb-\\udfff]",mt="[^"+Xe+"]",gt="(?:\\ud83c[\\udde6-\\uddff]){2}",bt="[\\ud800-\\udbff][\\udc00-\\udfff]",yt="["+rt+"]",vt="\\u200d",wt="(?:"+pt+"|"+ht+")",_t="(?:"+yt+"|"+ht+")",xt="(?:"+st+"(?:d|ll|m|re|s|t|ve))?",kt="(?:"+st+"(?:D|LL|M|RE|S|T|VE))?",Et="(?:"+ct+"|"+ft+")"+"?",Mt="["+it+"]?",Ct=Mt+Et+("(?:"+vt+"(?:"+[mt,gt,bt].join("|")+")"+Mt+Et+")*"),Dt="(?:"+[dt,gt,bt].join("|")+")"+Ct,St="(?:"+[mt+ct+"?",ct,gt,bt,at].join("|")+")",At=RegExp(st,"g"),Nt=RegExp(ct,"g"),Ot=RegExp(ft+"(?="+ft+")|"+St+Ct,"g"),Tt=RegExp([yt+"?"+pt+"+"+xt+"(?="+[lt,yt,"$"].join("|")+")",_t+"+"+kt+"(?="+[lt,yt+wt,"$"].join("|")+")",yt+"?"+wt+"+"+xt,yt+"+"+kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ut,Dt].join("|"),"g"),It=RegExp("["+vt+Xe+et+it+"]"),Lt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rt=-1,Ft={};Ft[de]=Ft[pe]=Ft[he]=Ft[fe]=Ft[me]=Ft[ge]=Ft[be]=Ft[ye]=Ft[ve]=!0,Ft[U]=Ft[H]=Ft[ce]=Ft[V]=Ft[ue]=Ft[W]=Ft[K]=Ft[G]=Ft[Q]=Ft[J]=Ft[X]=Ft[ne]=Ft[re]=Ft[ie]=Ft[ae]=!1;var zt={};zt[U]=zt[H]=zt[ce]=zt[ue]=zt[V]=zt[W]=zt[de]=zt[pe]=zt[he]=zt[fe]=zt[me]=zt[Q]=zt[J]=zt[X]=zt[ne]=zt[re]=zt[ie]=zt[oe]=zt[ge]=zt[be]=zt[ye]=zt[ve]=!0,zt[K]=zt[G]=zt[ae]=!1;var Pt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,Ut=parseInt,Ht="object"==typeof Ci&&Ci&&Ci.Object===Object&&Ci,$t="object"==typeof self&&self&&self.Object===Object&&self,Vt=Ht||$t||Function("return this")(),Wt=t&&!t.nodeType&&t,qt=Wt&&"object"=="object"&&e&&!e.nodeType&&e,Kt=qt&&qt.exports===Wt,Gt=Kt&&Ht.process,Yt=function(){try{var e=qt&&qt.require&&qt.require("util").types;return e||Gt&&Gt.binding&&Gt.binding("util")}catch(e){}}(),Qt=Yt&&Yt.isArrayBuffer,Jt=Yt&&Yt.isDate,Zt=Yt&&Yt.isMap,Xt=Yt&&Yt.isRegExp,en=Yt&&Yt.isSet,tn=Yt&&Yt.isTypedArray;function nn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rn(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function on(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function sn(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function an(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ln(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function cn(e,t){return!!(null==e?0:e.length)&&vn(e,t,0)>-1}function un(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function dn(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function hn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function fn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function mn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gn=kn("length");function bn(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function yn(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function vn(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):yn(e,_n,n)}function wn(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function _n(e){return e!=e}function xn(e,t){var n=null==e?0:e.length;return n?Cn(e,t)/n:R}function kn(e){return function(t){return null==t?n:t[e]}}function En(e){return function(t){return null==e?n:e[t]}}function Mn(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Cn(e,t){for(var r,i=-1,o=e.length;++i<o;){var s=t(e[i]);s!==n&&(r=r===n?s:r+s)}return r}function Dn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Sn(e){return e?e.slice(0,qn(e)+1).replace(je,""):e}function An(e){return function(t){return e(t)}}function Nn(e,t){return dn(t,(function(t){return e[t]}))}function On(e,t){return e.has(t)}function Tn(e,t){for(var n=-1,r=e.length;++n<r&&vn(t,e[n],0)>-1;);return n}function In(e,t){for(var n=e.length;n--&&vn(t,e[n],0)>-1;);return n}function Ln(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var jn=En({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Rn=En({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fn(e){return"\\"+Pt[e]}function zn(e){return It.test(e)}function Pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Bn(e,t){return function(n){return e(t(n))}}function Un(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==u||(e[n]=u,o[i++]=n)}return o}function Hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Vn(e){return zn(e)?function(e){var t=Ot.lastIndex=0;for(;Ot.test(e);)++t;return t}(e):gn(e)}function Wn(e){return zn(e)?function(e){return e.match(Ot)||[]}(e):function(e){return e.split("")}(e)}function qn(e){for(var t=e.length;t--&&Re.test(e.charAt(t)););return t}var Kn=En({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Gn=function e(t){var Re,Xe=(t=null==t?Vt:Gn.defaults(Vt.Object(),t,Gn.pick(Vt,jt))).Array,et=t.Date,tt=t.Error,nt=t.Function,rt=t.Math,it=t.Object,ot=t.RegExp,st=t.String,at=t.TypeError,lt=Xe.prototype,ct=nt.prototype,ut=it.prototype,dt=t["__core-js_shared__"],pt=ct.toString,ht=ut.hasOwnProperty,ft=0,mt=(Re=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",gt=ut.toString,bt=pt.call(it),yt=Vt._,vt=ot("^"+pt.call(ht).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Kt?t.Buffer:n,_t=t.Symbol,xt=t.Uint8Array,kt=wt?wt.allocUnsafe:n,Et=Bn(it.getPrototypeOf,it),Mt=it.create,Ct=ut.propertyIsEnumerable,Dt=lt.splice,St=_t?_t.isConcatSpreadable:n,Ot=_t?_t.iterator:n,It=_t?_t.toStringTag:n,Pt=function(){try{var e=Wo(it,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ht=t.clearTimeout!==Vt.clearTimeout&&t.clearTimeout,$t=et&&et.now!==Vt.Date.now&&et.now,Wt=t.setTimeout!==Vt.setTimeout&&t.setTimeout,qt=rt.ceil,Gt=rt.floor,Yt=it.getOwnPropertySymbols,gn=wt?wt.isBuffer:n,En=t.isFinite,Yn=lt.join,Qn=Bn(it.keys,it),Jn=rt.max,Zn=rt.min,Xn=et.now,er=t.parseInt,tr=rt.random,nr=lt.reverse,rr=Wo(t,"DataView"),ir=Wo(t,"Map"),or=Wo(t,"Promise"),sr=Wo(t,"Set"),ar=Wo(t,"WeakMap"),lr=Wo(it,"create"),cr=ar&&new ar,ur={},dr=ys(rr),pr=ys(ir),hr=ys(or),fr=ys(sr),mr=ys(ar),gr=_t?_t.prototype:n,br=gr?gr.valueOf:n,yr=gr?gr.toString:n;function vr(e){if(ja(e)&&!Ea(e)&&!(e instanceof kr)){if(e instanceof xr)return e;if(ht.call(e,"__wrapped__"))return vs(e)}return new xr(e)}var wr=function(){function e(){}return function(t){if(!La(t))return{};if(Mt)return Mt(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function _r(){}function xr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function kr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function Er(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Cr;++t<n;)this.add(e[t])}function Sr(e){var t=this.__data__=new Mr(e);this.size=t.size}function Ar(e,t){var n=Ea(e),r=!n&&ka(e),i=!n&&!r&&Sa(e),o=!n&&!r&&!i&&$a(e),s=n||r||i||o,a=s?Dn(e.length,st):[],l=a.length;for(var c in e)!t&&!ht.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Zo(c,l))||a.push(c);return a}function Nr(e){var t=e.length;return t?e[Di(0,t-1)]:n}function Or(e,t){return ms(lo(e),Br(t,0,e.length))}function Tr(e){return ms(lo(e))}function Ir(e,t,r){(r!==n&&!wa(e[t],r)||r===n&&!(t in e))&&zr(e,t,r)}function Lr(e,t,r){var i=e[t];ht.call(e,t)&&wa(i,r)&&(r!==n||t in e)||zr(e,t,r)}function jr(e,t){for(var n=e.length;n--;)if(wa(e[n][0],t))return n;return-1}function Rr(e,t,n,r){return Wr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Fr(e,t){return e&&co(t,dl(t),e)}function zr(e,t,n){"__proto__"==t&&Pt?Pt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Pr(e,t){for(var r=-1,i=t.length,o=Xe(i),s=null==e;++r<i;)o[r]=s?n:sl(e,t[r]);return o}function Br(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function Ur(e,t,r,i,o,s){var a,l=t&d,c=t&p,u=t&h;if(r&&(a=o?r(e,i,o,s):r(e)),a!==n)return a;if(!La(e))return e;var f=Ea(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ht.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return lo(e,a)}else{var m=Go(e),g=m==G||m==Y;if(Sa(e))return no(e,l);if(m==X||m==U||g&&!o){if(a=c||g?{}:Qo(e),!l)return c?function(e,t){return co(e,Ko(e),t)}(e,function(e,t){return e&&co(t,pl(t),e)}(a,e)):function(e,t){return co(e,qo(e),t)}(e,Fr(a,e))}else{if(!zt[m])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case ce:return ro(e);case V:case W:return new r(+e);case ue:return function(e,t){var n=t?ro(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case de:case pe:case he:case fe:case me:case ge:case be:case ye:case ve:return io(e,n);case Q:return new r;case J:case ie:return new r(e);case ne:return function(e){var t=new e.constructor(e.source,Ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case re:return new r;case oe:return i=e,br?it(br.call(i)):{}}var i}(e,m,l)}}s||(s=new Sr);var b=s.get(e);if(b)return b;s.set(e,a),Ba(e)?e.forEach((function(n){a.add(Ur(n,t,r,n,e,s))})):Ra(e)&&e.forEach((function(n,i){a.set(i,Ur(n,t,r,i,e,s))}));var y=f?n:(u?c?zo:Fo:c?pl:dl)(e);return on(y||e,(function(n,i){y&&(n=e[i=n]),Lr(a,i,Ur(n,t,r,i,e,s))})),a}function Hr(e,t,r){var i=r.length;if(null==e)return!i;for(e=it(e);i--;){var o=r[i],s=t[o],a=e[o];if(a===n&&!(o in e)||!s(a))return!1}return!0}function $r(e,t,r){if("function"!=typeof e)throw new at(s);return ds((function(){e.apply(n,r)}),t)}function Vr(e,t,n,r){var o=-1,s=cn,a=!0,l=e.length,c=[],u=t.length;if(!l)return c;n&&(t=dn(t,An(n))),r?(s=un,a=!1):t.length>=i&&(s=On,a=!1,t=new Dr(t));e:for(;++o<l;){var d=e[o],p=null==n?d:n(d);if(d=r||0!==d?d:0,a&&p==p){for(var h=u;h--;)if(t[h]===p)continue e;c.push(d)}else s(t,p,r)||c.push(d)}return c}vr.templateSettings={escape:De,evaluate:Se,interpolate:Ae,variable:"",imports:{_:vr}},vr.prototype=_r.prototype,vr.prototype.constructor=vr,xr.prototype=wr(_r.prototype),xr.prototype.constructor=xr,kr.prototype=wr(_r.prototype),kr.prototype.constructor=kr,Er.prototype.clear=function(){this.__data__=lr?lr(null):{},this.size=0},Er.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Er.prototype.get=function(e){var t=this.__data__;if(lr){var r=t[e];return r===l?n:r}return ht.call(t,e)?t[e]:n},Er.prototype.has=function(e){var t=this.__data__;return lr?t[e]!==n:ht.call(t,e)},Er.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=lr&&t===n?l:t,this},Mr.prototype.clear=function(){this.__data__=[],this.size=0},Mr.prototype["delete"]=function(e){var t=this.__data__,n=jr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Dt.call(t,n,1),--this.size,!0)},Mr.prototype.get=function(e){var t=this.__data__,r=jr(t,e);return r<0?n:t[r][1]},Mr.prototype.has=function(e){return jr(this.__data__,e)>-1},Mr.prototype.set=function(e,t){var n=this.__data__,r=jr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Cr.prototype.clear=function(){this.size=0,this.__data__={hash:new Er,map:new(ir||Mr),string:new Er}},Cr.prototype["delete"]=function(e){var t=$o(this,e)["delete"](e);return this.size-=t?1:0,t},Cr.prototype.get=function(e){return $o(this,e).get(e)},Cr.prototype.has=function(e){return $o(this,e).has(e)},Cr.prototype.set=function(e,t){var n=$o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Dr.prototype.add=Dr.prototype.push=function(e){return this.__data__.set(e,l),this},Dr.prototype.has=function(e){return this.__data__.has(e)},Sr.prototype.clear=function(){this.__data__=new Mr,this.size=0},Sr.prototype["delete"]=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n},Sr.prototype.get=function(e){return this.__data__.get(e)},Sr.prototype.has=function(e){return this.__data__.has(e)},Sr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mr){var r=n.__data__;if(!ir||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Cr(r)}return n.set(e,t),this.size=n.size,this};var Wr=ho(Xr),qr=ho(ei,!0);function Kr(e,t){var n=!0;return Wr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Gr(e,t,r){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=t(s);if(null!=a&&(l===n?a==a&&!Ha(a):r(a,l)))var l=a,c=s}return c}function Yr(e,t){var n=[];return Wr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Qr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Jo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?Qr(a,t-1,n,r,i):pn(i,a):r||(i[i.length]=a)}return i}var Jr=fo(),Zr=fo(!0);function Xr(e,t){return e&&Jr(e,t,dl)}function ei(e,t){return e&&Zr(e,t,dl)}function ti(e,t){return ln(t,(function(t){return Oa(e[t])}))}function ni(e,t){for(var r=0,i=(t=Zi(t,e)).length;null!=e&&r<i;)e=e[bs(t[r++])];return r&&r==i?e:n}function ri(e,t,n){var r=t(e);return Ea(e)?r:pn(r,n(e))}function ii(e){return null==e?e===n?se:Z:It&&It in it(e)?function(e){var t=ht.call(e,It),r=e[It];try{e[It]=n;var i=!0}catch(e){}var o=gt.call(e);i&&(t?e[It]=r:delete e[It]);return o}(e):function(e){return gt.call(e)}(e)}function oi(e,t){return e>t}function si(e,t){return null!=e&&ht.call(e,t)}function ai(e,t){return null!=e&&t in it(e)}function li(e,t,r){for(var i=r?un:cn,o=e[0].length,s=e.length,a=s,l=Xe(s),c=1/0,u=[];a--;){var d=e[a];a&&t&&(d=dn(d,An(t))),c=Zn(d.length,c),l[a]=!r&&(t||o>=120&&d.length>=120)?new Dr(a&&d):n}d=e[0];var p=-1,h=l[0];e:for(;++p<o&&u.length<c;){var f=d[p],m=t?t(f):f;if(f=r||0!==f?f:0,!(h?On(h,m):i(u,m,r))){for(a=s;--a;){var g=l[a];if(!(g?On(g,m):i(e[a],m,r)))continue e}h&&h.push(m),u.push(f)}}return u}function ci(e,t,r){var i=null==(e=as(e,t=Zi(t,e)))?e:e[bs(Ns(t))];return null==i?n:nn(i,e,r)}function ui(e){return ja(e)&&ii(e)==U}function di(e,t,r,i,o){return e===t||(null==e||null==t||!ja(e)&&!ja(t)?e!=e&&t!=t:function(e,t,r,i,o,s){var a=Ea(e),l=Ea(t),c=a?H:Go(e),u=l?H:Go(t),d=(c=c==U?X:c)==X,p=(u=u==U?X:u)==X,h=c==u;if(h&&Sa(e)){if(!Sa(t))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new Sr),a||$a(e)?jo(e,t,r,i,o,s):function(e,t,n,r,i,o,s){switch(n){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!o(new xt(e),new xt(t)));case V:case W:case J:return wa(+e,+t);case K:return e.name==t.name&&e.message==t.message;case ne:case ie:return e==t+"";case Q:var a=Pn;case re:var l=r&f;if(a||(a=Hn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=m,s.set(e,t);var u=jo(a(e),a(t),r,i,o,s);return s["delete"](e),u;case oe:if(br)return br.call(e)==br.call(t)}return!1}(e,t,c,r,i,o,s);if(!(r&f)){var g=d&&ht.call(e,"__wrapped__"),b=p&&ht.call(t,"__wrapped__");if(g||b){var y=g?e.value():e,v=b?t.value():t;return s||(s=new Sr),o(y,v,r,i,s)}}if(!h)return!1;return s||(s=new Sr),function(e,t,r,i,o,s){var a=r&f,l=Fo(e),c=l.length,u=Fo(t).length;if(c!=u&&!a)return!1;var d=c;for(;d--;){var p=l[d];if(!(a?p in t:ht.call(t,p)))return!1}var h=s.get(e),m=s.get(t);if(h&&m)return h==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var b=a;for(;++d<c;){var y=e[p=l[d]],v=t[p];if(i)var w=a?i(v,y,p,t,e,s):i(y,v,p,e,t,s);if(!(w===n?y===v||o(y,v,r,i,s):w)){g=!1;break}b||(b="constructor"==p)}if(g&&!b){var _=e.constructor,x=t.constructor;_==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(g=!1)}return s["delete"](e),s["delete"](t),g}(e,t,r,i,o,s)}(e,t,r,i,di,o))}function pi(e,t,r,i){var o=r.length,s=o,a=!i;if(null==e)return!s;for(e=it(e);o--;){var l=r[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=r[o])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===n&&!(c in e))return!1}else{var p=new Sr;if(i)var h=i(u,d,c,e,t,p);if(!(h===n?di(d,u,f|m,i,p):h))return!1}}return!0}function hi(e){return!(!La(e)||(t=e,mt&&mt in t))&&(Oa(e)?vt:Ke).test(ys(e));var t}function fi(e){return"function"==typeof e?e:null==e?Fl:"object"==typeof e?Ea(e)?wi(e[0],e[1]):vi(e):ql(e)}function mi(e){if(!rs(e))return Qn(e);var t=[];for(var n in it(e))ht.call(e,n)&&"constructor"!=n&&t.push(n);return t}function gi(e){if(!La(e))return function(e){var t=[];if(null!=e)for(var n in it(e))t.push(n);return t}(e);var t=rs(e),n=[];for(var r in e)("constructor"!=r||!t&&ht.call(e,r))&&n.push(r);return n}function bi(e,t){return e<t}function yi(e,t){var n=-1,r=Ca(e)?Xe(e.length):[];return Wr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function vi(e){var t=Vo(e);return 1==t.length&&t[0][2]?os(t[0][0],t[0][1]):function(n){return n===e||pi(n,e,t)}}function wi(e,t){return es(e)&&is(t)?os(bs(e),t):function(r){var i=sl(r,e);return i===n&&i===t?al(r,e):di(t,i,f|m)}}function _i(e,t,r,i,o){e!==t&&Jr(t,(function(s,a){if(o||(o=new Sr),La(s))!function(e,t,r,i,o,s,a){var l=cs(e,r),c=cs(t,r),u=a.get(c);if(u)return void Ir(e,r,u);var d=s?s(l,c,r+"",e,t,a):n,p=d===n;if(p){var h=Ea(c),f=!h&&Sa(c),m=!h&&!f&&$a(c);d=c,h||f||m?Ea(l)?d=l:Da(l)?d=lo(l):f?(p=!1,d=no(c,!0)):m?(p=!1,d=io(c,!0)):d=[]:za(c)||ka(c)?(d=l,ka(l)?d=Ja(l):La(l)&&!Oa(l)||(d=Qo(c))):p=!1}p&&(a.set(c,d),o(d,c,i,s,a),a["delete"](c));Ir(e,r,d)}(e,t,a,r,_i,i,o);else{var l=i?i(cs(e,a),s,a+"",e,t,o):n;l===n&&(l=s),Ir(e,a,l)}}),pl)}function xi(e,t){var r=e.length;if(r)return Zo(t+=t<0?r:0,r)?e[t]:n}function ki(e,t,n){t=t.length?dn(t,(function(e){return Ea(e)?function(t){return ni(t,1===e.length?e[0]:e)}:e})):[Fl];var r=-1;t=dn(t,An(Ho()));var i=yi(e,(function(e,n,i){var o=dn(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var l=oo(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Ei(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=ni(e,s);n(a,s)&&Ti(o,Zi(s,e),a)}return o}function Mi(e,t,n,r){var i=r?wn:vn,o=-1,s=t.length,a=e;for(e===t&&(t=lo(t)),n&&(a=dn(e,An(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Dt.call(a,l,1),Dt.call(e,l,1);return e}function Ci(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Zo(i)?Dt.call(e,i,1):Vi(e,i)}}return e}function Di(e,t){return e+Gt(tr()*(t-e+1))}function Si(e,t){var n="";if(!e||t<1||t>L)return n;do{t%2&&(n+=e),(t=Gt(t/2))&&(e+=e)}while(t);return n}function Ai(e,t){return ps(ss(e,t,Fl),e+"")}function Ni(e){return Nr(wl(e))}function Oi(e,t){var n=wl(e);return ms(n,Br(t,0,n.length))}function Ti(e,t,r,i){if(!La(e))return e;for(var o=-1,s=(t=Zi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=bs(t[o]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var d=l[c];(u=i?i(d,c,l):n)===n&&(u=La(d)?d:Zo(t[o+1])?[]:{})}Lr(l,c,u),l=l[c]}return e}var Ii=cr?function(e,t){return cr.set(e,t),e}:Fl,Li=Pt?function(e,t){return Pt(e,"toString",{configurable:!0,enumerable:!1,value:Ll(t),writable:!0})}:Fl;function ji(e){return ms(wl(e))}function Ri(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Xe(i);++r<i;)o[r]=e[r+t];return o}function Fi(e,t){var n;return Wr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function zi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=P){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Ha(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Pi(e,t,Fl,n)}function Pi(e,t,r,i){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,l=null===t,c=Ha(t),u=t===n;o<s;){var d=Gt((o+s)/2),p=r(e[d]),h=p!==n,f=null===p,m=p==p,g=Ha(p);if(a)var b=i||m;else b=u?m&&(i||h):l?m&&h&&(i||!f):c?m&&h&&!f&&(i||!g):!f&&!g&&(i?p<=t:p<t);b?o=d+1:s=d}return Zn(s,z)}function Bi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!wa(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function Ui(e){return"number"==typeof e?e:Ha(e)?R:+e}function Hi(e){if("string"==typeof e)return e;if(Ea(e))return dn(e,Hi)+"";if(Ha(e))return yr?yr.call(e):"";var t=e+"";return"0"==t&&1/e==-I?"-0":t}function $i(e,t,n){var r=-1,o=cn,s=e.length,a=!0,l=[],c=l;if(n)a=!1,o=un;else if(s>=i){var u=t?null:Ao(e);if(u)return Hn(u);a=!1,o=On,c=new Dr}else c=t?[]:l;e:for(;++r<s;){var d=e[r],p=t?t(d):d;if(d=n||0!==d?d:0,a&&p==p){for(var h=c.length;h--;)if(c[h]===p)continue e;t&&c.push(p),l.push(d)}else o(c,p,n)||(c!==l&&c.push(p),l.push(d))}return l}function Vi(e,t){return null==(e=as(e,t=Zi(t,e)))||delete e[bs(Ns(t))]}function Wi(e,t,n,r){return Ti(e,t,n(ni(e,t)),r)}function qi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Ri(e,r?0:o,r?o+1:i):Ri(e,r?o+1:0,r?i:o)}function Ki(e,t){var n=e;return n instanceof kr&&(n=n.value()),hn(t,(function(e,t){return t.func.apply(t.thisArg,pn([e],t.args))}),n)}function Gi(e,t,n){var r=e.length;if(r<2)return r?$i(e[0]):[];for(var i=-1,o=Xe(r);++i<r;)for(var s=e[i],a=-1;++a<r;)a!=i&&(o[i]=Vr(o[i]||s,e[a],t,n));return $i(Qr(o,1),t,n)}function Yi(e,t,r){for(var i=-1,o=e.length,s=t.length,a={};++i<o;){var l=i<s?t[i]:n;r(a,e[i],l)}return a}function Qi(e){return Da(e)?e:[]}function Ji(e){return"function"==typeof e?e:Fl}function Zi(e,t){return Ea(e)?e:es(e,t)?[e]:gs(Za(e))}var Xi=Ai;function eo(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:Ri(e,t,r)}var to=Ht||function(e){return Vt.clearTimeout(e)};function no(e,t){if(t)return e.slice();var n=e.length,r=kt?kt(n):new e.constructor(n);return e.copy(r),r}function ro(e){var t=new e.constructor(e.byteLength);return new xt(t).set(new xt(e)),t}function io(e,t){var n=t?ro(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function oo(e,t){if(e!==t){var r=e!==n,i=null===e,o=e==e,s=Ha(e),a=t!==n,l=null===t,c=t==t,u=Ha(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||i&&a&&c||!r&&c||!o)return 1;if(!i&&!s&&!u&&e<t||u&&r&&o&&!i&&!s||l&&r&&o||!a&&o||!c)return-1}return 0}function so(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,l=t.length,c=Jn(o-s,0),u=Xe(l+c),d=!r;++a<l;)u[a]=t[a];for(;++i<s;)(d||i<o)&&(u[n[i]]=e[i]);for(;c--;)u[a++]=e[i++];return u}function ao(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,l=-1,c=t.length,u=Jn(o-a,0),d=Xe(u+c),p=!r;++i<u;)d[i]=e[i];for(var h=i;++l<c;)d[h+l]=t[l];for(;++s<a;)(p||i<o)&&(d[h+n[s]]=e[i++]);return d}function lo(e,t){var n=-1,r=e.length;for(t||(t=Xe(r));++n<r;)t[n]=e[n];return t}function co(e,t,r,i){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=i?i(r[l],e[l],l,r,e):n;c===n&&(c=e[l]),o?zr(r,l,c):Lr(r,l,c)}return r}function uo(e,t){return function(n,r){var i=Ea(n)?rn:Rr,o=t?t():{};return i(n,e,Ho(r,2),o)}}function po(e){return Ai((function(t,r){var i=-1,o=r.length,s=o>1?r[o-1]:n,a=o>2?r[2]:n;for(s=e.length>3&&"function"==typeof s?(o--,s):n,a&&Xo(r[0],r[1],a)&&(s=o<3?n:s,o=1),t=it(t);++i<o;){var l=r[i];l&&e(t,l,i,s)}return t}))}function ho(e,t){return function(n,r){if(null==n)return n;if(!Ca(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=it(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function fo(e){return function(t,n,r){for(var i=-1,o=it(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function mo(e){return function(t){var r=zn(t=Za(t))?Wn(t):n,i=r?r[0]:t.charAt(0),o=r?eo(r,1).join(""):t.slice(1);return i[e]()+o}}function go(e){return function(t){return hn(Ol(kl(t).replace(At,"")),e,"")}}function bo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=wr(e.prototype),r=e.apply(n,t);return La(r)?r:n}}function yo(e){return function(t,r,i){var o=it(t);if(!Ca(t)){var s=Ho(r,3);t=dl(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,i);return a>-1?o[s?t[a]:a]:n}}function vo(e){return Ro((function(t){var r=t.length,i=r,o=xr.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new at(s);if(o&&!l&&"wrapper"==Bo(a))var l=new xr([],!0)}for(i=l?i:r;++i<r;){var c=Bo(a=t[i]),u="wrapper"==c?Po(a):n;l=u&&ts(u[0])&&u[1]==(k|v|_|E)&&!u[4].length&&1==u[9]?l[Bo(u[0])].apply(l,u[3]):1==a.length&&ts(a)?l[c]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Ea(n))return l.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function wo(e,t,r,i,o,s,a,l,c,u){var d=t&k,p=t&g,h=t&b,f=t&(v|w),m=t&M,y=h?n:bo(e);return function n(){for(var g=arguments.length,b=Xe(g),v=g;v--;)b[v]=arguments[v];if(f)var w=Uo(n),_=Ln(b,w);if(i&&(b=so(b,i,o,f)),s&&(b=ao(b,s,a,f)),g-=_,f&&g<u){var x=Un(b,w);return Do(e,t,wo,n.placeholder,r,b,x,l,c,u-g)}var k=p?r:this,E=h?k[e]:e;return g=b.length,l?b=ls(b,l):m&&g>1&&b.reverse(),d&&c<g&&(b.length=c),this&&this!==Vt&&this instanceof n&&(E=y||bo(E)),E.apply(k,b)}}function _o(e,t){return function(n,r){return function(e,t,n,r){return Xr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function xo(e,t){return function(r,i){var o;if(r===n&&i===n)return t;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=Hi(r),i=Hi(i)):(r=Ui(r),i=Ui(i)),o=e(r,i)}return o}}function ko(e){return Ro((function(t){return t=dn(t,An(Ho())),Ai((function(n){var r=this;return e(t,(function(e){return nn(e,r,n)}))}))}))}function Eo(e,t){var r=(t=t===n?" ":Hi(t)).length;if(r<2)return r?Si(t,e):t;var i=Si(t,qt(e/Vn(t)));return zn(t)?eo(Wn(i),0,e).join(""):i.slice(0,e)}function Mo(e){return function(t,r,i){return i&&"number"!=typeof i&&Xo(t,r,i)&&(r=i=n),t=Ka(t),r===n?(r=t,t=0):r=Ka(r),function(e,t,n,r){for(var i=-1,o=Jn(qt((t-e)/(n||1)),0),s=Xe(o);o--;)s[r?o:++i]=e,e+=n;return s}(t,r,i=i===n?t<r?1:-1:Ka(i),e)}}function Co(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Qa(t),n=Qa(n)),e(t,n)}}function Do(e,t,r,i,o,s,a,l,c,u){var d=t&v;t|=d?_:x,(t&=~(d?x:_))&y||(t&=~(g|b));var p=[e,t,o,d?s:n,d?a:n,d?n:s,d?n:a,l,c,u],h=r.apply(n,p);return ts(e)&&us(h,p),h.placeholder=i,hs(h,e,t)}function So(e){var t=rt[e];return function(e,n){if(e=Qa(e),(n=null==n?0:Zn(Ga(n),292))&&En(e)){var r=(Za(e)+"e").split("e");return+((r=(Za(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ao=sr&&1/Hn(new sr([,-0]))[1]==I?function(e){return new sr(e)}:Hl;function No(e){return function(t){var n=Go(t);return n==Q?Pn(t):n==re?$n(t):function(e,t){return dn(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Oo(e,t,r,i,o,a,l,c){var d=t&b;if(!d&&"function"!=typeof e)throw new at(s);var p=i?i.length:0;if(p||(t&=~(_|x),i=o=n),l=l===n?l:Jn(Ga(l),0),c=c===n?c:Ga(c),p-=o?o.length:0,t&x){var h=i,f=o;i=o=n}var m=d?n:Po(e),M=[e,t,r,i,o,h,f,a,l,c];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(g|b|k),s=r==k&&n==v||r==k&&n==E&&e[7].length<=t[8]||r==(k|E)&&t[7].length<=t[8]&&n==v;if(!o&&!s)return e;r&g&&(e[2]=t[2],i|=n&g?0:y);var a=t[3];if(a){var l=e[3];e[3]=l?so(l,a,t[4]):a,e[4]=l?Un(e[3],u):t[4]}(a=t[5])&&(l=e[5],e[5]=l?ao(l,a,t[6]):a,e[6]=l?Un(e[5],u):t[6]);(a=t[7])&&(e[7]=a);r&k&&(e[8]=null==e[8]?t[8]:Zn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(M,m),e=M[0],t=M[1],r=M[2],i=M[3],o=M[4],!(c=M[9]=M[9]===n?d?0:e.length:Jn(M[9]-p,0))&&t&(v|w)&&(t&=~(v|w)),t&&t!=g)C=t==v||t==w?function(e,t,r){var i=bo(e);return function o(){for(var s=arguments.length,a=Xe(s),l=s,c=Uo(o);l--;)a[l]=arguments[l];var u=s<3&&a[0]!==c&&a[s-1]!==c?[]:Un(a,c);return(s-=u.length)<r?Do(e,t,wo,o.placeholder,n,a,u,n,n,r-s):nn(this&&this!==Vt&&this instanceof o?i:e,this,a)}}(e,t,c):t!=_&&t!=(g|_)||o.length?wo.apply(n,M):function(e,t,n,r){var i=t&g,o=bo(e);return function t(){for(var s=-1,a=arguments.length,l=-1,c=r.length,u=Xe(c+a),d=this&&this!==Vt&&this instanceof t?o:e;++l<c;)u[l]=r[l];for(;a--;)u[l++]=arguments[++s];return nn(d,i?n:this,u)}}(e,t,r,i);else var C=function(e,t,n){var r=t&g,i=bo(e);return function t(){return(this&&this!==Vt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return hs((m?Ii:us)(C,M),e,t)}function To(e,t,r,i){return e===n||wa(e,ut[r])&&!ht.call(i,r)?t:e}function Io(e,t,r,i,o,s){return La(e)&&La(t)&&(s.set(t,e),_i(e,t,n,Io,s),s["delete"](t)),e}function Lo(e){return za(e)?n:e}function jo(e,t,r,i,o,s){var a=r&f,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var p=-1,h=!0,g=r&m?new Dr:n;for(s.set(e,t),s.set(t,e);++p<l;){var b=e[p],y=t[p];if(i)var v=a?i(y,b,p,t,e,s):i(b,y,p,e,t,s);if(v!==n){if(v)continue;h=!1;break}if(g){if(!mn(t,(function(e,t){if(!On(g,t)&&(b===e||o(b,e,r,i,s)))return g.push(t)}))){h=!1;break}}else if(b!==y&&!o(b,y,r,i,s)){h=!1;break}}return s["delete"](e),s["delete"](t),h}function Ro(e){return ps(ss(e,n,Ms),e+"")}function Fo(e){return ri(e,dl,qo)}function zo(e){return ri(e,pl,Ko)}var Po=cr?function(e){return cr.get(e)}:Hl;function Bo(e){for(var t=e.name+"",n=ur[t],r=ht.call(ur,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Uo(e){return(ht.call(vr,"placeholder")?vr:e).placeholder}function Ho(){var e=vr.iteratee||zl;return e=e===zl?fi:e,arguments.length?e(arguments[0],arguments[1]):e}function $o(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Vo(e){for(var t=dl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,is(i)]}return t}function Wo(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return hi(r)?r:n}var qo=Yt?function(e){return null==e?[]:(e=it(e),ln(Yt(e),(function(t){return Ct.call(e,t)})))}:Yl,Ko=Yt?function(e){for(var t=[];e;)pn(t,qo(e)),e=Et(e);return t}:Yl,Go=ii;function Yo(e,t,n){for(var r=-1,i=(t=Zi(t,e)).length,o=!1;++r<i;){var s=bs(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ia(i)&&Zo(s,i)&&(Ea(e)||ka(e))}function Qo(e){return"function"!=typeof e.constructor||rs(e)?{}:wr(Et(e))}function Jo(e){return Ea(e)||ka(e)||!!(St&&e&&e[St])}function Zo(e,t){var n=typeof e;return!!(t=null==t?L:t)&&("number"==n||"symbol"!=n&&Ye.test(e))&&e>-1&&e%1==0&&e<t}function Xo(e,t,n){if(!La(n))return!1;var r=typeof t;return!!("number"==r?Ca(n)&&Zo(t,n.length):"string"==r&&t in n)&&wa(n[t],e)}function es(e,t){if(Ea(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ha(e))||(Oe.test(e)||!Ne.test(e)||null!=t&&e in it(t))}function ts(e){var t=Bo(e),n=vr[t];if("function"!=typeof n||!(t in kr.prototype))return!1;if(e===n)return!0;var r=Po(n);return!!r&&e===r[0]}(rr&&Go(new rr(new ArrayBuffer(1)))!=ue||ir&&Go(new ir)!=Q||or&&Go(or.resolve())!=ee||sr&&Go(new sr)!=re||ar&&Go(new ar)!=ae)&&(Go=function(e){var t=ii(e),r=t==X?e.constructor:n,i=r?ys(r):"";if(i)switch(i){case dr:return ue;case pr:return Q;case hr:return ee;case fr:return re;case mr:return ae}return t});var ns=dt?Oa:Ql;function rs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ut)}function is(e){return e==e&&!La(e)}function os(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in it(r)))}}function ss(e,t,r){return t=Jn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=Jn(n.length-t,0),s=Xe(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Xe(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),nn(e,this,a)}}function as(e,t){return t.length<2?e:ni(e,Ri(t,0,-1))}function ls(e,t){for(var r=e.length,i=Zn(t.length,r),o=lo(e);i--;){var s=t[i];e[i]=Zo(s,r)?o[s]:n}return e}function cs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var us=fs(Ii),ds=Wt||function(e,t){return Vt.setTimeout(e,t)},ps=fs(Li);function hs(e,t,n){var r=t+"";return ps(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Fe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return on(B,(function(n){var r="_."+n[0];t&n[1]&&!cn(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ze);return t?t[1].split(Pe):[]}(r),n)))}function fs(e){var t=0,r=0;return function(){var i=Xn(),o=A-(i-r);if(r=i,o>0){if(++t>=S)return arguments[0]}else t=0;return e.apply(n,arguments)}}function ms(e,t){var r=-1,i=e.length,o=i-1;for(t=t===n?i:t;++r<t;){var s=Di(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var gs=function(e){var t=fa(e,(function(e){return n.size===c&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Te,(function(e,n,r,i){t.push(r?i.replace(He,"$1"):n||e)})),t}));function bs(e){if("string"==typeof e||Ha(e))return e;var t=e+"";return"0"==t&&1/e==-I?"-0":t}function ys(e){if(null!=e){try{return pt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function vs(e){if(e instanceof kr)return e.clone();var t=new xr(e.__wrapped__,e.__chain__);return t.__actions__=lo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ws=Ai((function(e,t){return Da(e)?Vr(e,Qr(t,1,Da,!0)):[]})),_s=Ai((function(e,t){var r=Ns(t);return Da(r)&&(r=n),Da(e)?Vr(e,Qr(t,1,Da,!0),Ho(r,2)):[]})),xs=Ai((function(e,t){var r=Ns(t);return Da(r)&&(r=n),Da(e)?Vr(e,Qr(t,1,Da,!0),n,r):[]}));function ks(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ga(n);return i<0&&(i=Jn(r+i,0)),yn(e,Ho(t,3),i)}function Es(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==n&&(o=Ga(r),o=r<0?Jn(i+o,0):Zn(o,i-1)),yn(e,Ho(t,3),o,!0)}function Ms(e){return(null==e?0:e.length)?Qr(e,1):[]}function Cs(e){return e&&e.length?e[0]:n}var Ds=Ai((function(e){var t=dn(e,Qi);return t.length&&t[0]===e[0]?li(t):[]})),Ss=Ai((function(e){var t=Ns(e),r=dn(e,Qi);return t===Ns(r)?t=n:r.pop(),r.length&&r[0]===e[0]?li(r,Ho(t,2)):[]})),As=Ai((function(e){var t=Ns(e),r=dn(e,Qi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?li(r,n,t):[]}));function Ns(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Os=Ai(Ts);function Ts(e,t){return e&&e.length&&t&&t.length?Mi(e,t):e}var Is=Ro((function(e,t){var n=null==e?0:e.length,r=Pr(e,t);return Ci(e,dn(t,(function(e){return Zo(e,n)?+e:e})).sort(oo)),r}));function Ls(e){return null==e?e:nr.call(e)}var js=Ai((function(e){return $i(Qr(e,1,Da,!0))})),Rs=Ai((function(e){var t=Ns(e);return Da(t)&&(t=n),$i(Qr(e,1,Da,!0),Ho(t,2))})),Fs=Ai((function(e){var t=Ns(e);return t="function"==typeof t?t:n,$i(Qr(e,1,Da,!0),n,t)}));function zs(e){if(!e||!e.length)return[];var t=0;return e=ln(e,(function(e){if(Da(e))return t=Jn(e.length,t),!0})),Dn(t,(function(t){return dn(e,kn(t))}))}function Ps(e,t){if(!e||!e.length)return[];var r=zs(e);return null==t?r:dn(r,(function(e){return nn(t,n,e)}))}var Bs=Ai((function(e,t){return Da(e)?Vr(e,t):[]})),Us=Ai((function(e){return Gi(ln(e,Da))})),Hs=Ai((function(e){var t=Ns(e);return Da(t)&&(t=n),Gi(ln(e,Da),Ho(t,2))})),$s=Ai((function(e){var t=Ns(e);return t="function"==typeof t?t:n,Gi(ln(e,Da),n,t)})),Vs=Ai(zs);var Ws=Ai((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,Ps(e,r)}));function qs(e){var t=vr(e);return t.__chain__=!0,t}function Ks(e,t){return t(e)}var Gs=Ro((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,o=function(t){return Pr(t,e)};return!(t>1||this.__actions__.length)&&i instanceof kr&&Zo(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:Ks,args:[o],thisArg:n}),new xr(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)}));var Ys=uo((function(e,t,n){ht.call(e,n)?++e[n]:zr(e,n,1)}));var Qs=yo(ks),Js=yo(Es);function Zs(e,t){return(Ea(e)?on:Wr)(e,Ho(t,3))}function Xs(e,t){return(Ea(e)?sn:qr)(e,Ho(t,3))}var ea=uo((function(e,t,n){ht.call(e,n)?e[n].push(t):zr(e,n,[t])}));var ta=Ai((function(e,t,n){var r=-1,i="function"==typeof t,o=Ca(e)?Xe(e.length):[];return Wr(e,(function(e){o[++r]=i?nn(t,e,n):ci(e,t,n)})),o})),na=uo((function(e,t,n){zr(e,n,t)}));function ra(e,t){return(Ea(e)?dn:yi)(e,Ho(t,3))}var ia=uo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var oa=Ai((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Xo(e,t[0],t[1])?t=[]:n>2&&Xo(t[0],t[1],t[2])&&(t=[t[0]]),ki(e,Qr(t,1),[])})),sa=$t||function(){return Vt.Date.now()};function aa(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Oo(e,k,n,n,n,n,t)}function la(e,t){var r;if("function"!=typeof t)throw new at(s);return e=Ga(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var ca=Ai((function(e,t,n){var r=g;if(n.length){var i=Un(n,Uo(ca));r|=_}return Oo(e,r,t,n,i)})),ua=Ai((function(e,t,n){var r=g|b;if(n.length){var i=Un(n,Uo(ua));r|=_}return Oo(t,r,e,n,i)}));function da(e,t,r){var i,o,a,l,c,u,d=0,p=!1,h=!1,f=!0;if("function"!=typeof e)throw new at(s);function m(t){var r=i,s=o;return i=o=n,d=t,l=e.apply(s,r)}function g(e){return d=e,c=ds(y,t),p?m(e):l}function b(e){var r=e-u;return u===n||r>=t||r<0||h&&e-d>=a}function y(){var e=sa();if(b(e))return v(e);c=ds(y,function(e){var n=t-(e-u);return h?Zn(n,a-(e-d)):n}(e))}function v(e){return c=n,f&&i?m(e):(i=o=n,l)}function w(){var e=sa(),r=b(e);if(i=arguments,o=this,u=e,r){if(c===n)return g(u);if(h)return to(c),c=ds(y,t),m(u)}return c===n&&(c=ds(y,t)),l}return t=Qa(t)||0,La(r)&&(p=!!r.leading,a=(h="maxWait"in r)?Jn(Qa(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),w.cancel=function(){c!==n&&to(c),d=0,i=u=o=c=n},w.flush=function(){return c===n?l:v(sa())},w}var pa=Ai((function(e,t){return $r(e,1,t)})),ha=Ai((function(e,t,n){return $r(e,Qa(t)||0,n)}));function fa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new at(s);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(fa.Cache||Cr),n}function ma(e){if("function"!=typeof e)throw new at(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}fa.Cache=Cr;var ga=Xi((function(e,t){var n=(t=1==t.length&&Ea(t[0])?dn(t[0],An(Ho())):dn(Qr(t,1),An(Ho()))).length;return Ai((function(r){for(var i=-1,o=Zn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return nn(e,this,r)}))})),ba=Ai((function(e,t){var r=Un(t,Uo(ba));return Oo(e,_,n,t,r)})),ya=Ai((function(e,t){var r=Un(t,Uo(ya));return Oo(e,x,n,t,r)})),va=Ro((function(e,t){return Oo(e,E,n,n,n,t)}));function wa(e,t){return e===t||e!=e&&t!=t}var _a=Co(oi),xa=Co((function(e,t){return e>=t})),ka=ui(function(){return arguments}())?ui:function(e){return ja(e)&&ht.call(e,"callee")&&!Ct.call(e,"callee")},Ea=Xe.isArray,Ma=Qt?An(Qt):function(e){return ja(e)&&ii(e)==ce};function Ca(e){return null!=e&&Ia(e.length)&&!Oa(e)}function Da(e){return ja(e)&&Ca(e)}var Sa=gn||Ql,Aa=Jt?An(Jt):function(e){return ja(e)&&ii(e)==W};function Na(e){if(!ja(e))return!1;var t=ii(e);return t==K||t==q||"string"==typeof e.message&&"string"==typeof e.name&&!za(e)}function Oa(e){if(!La(e))return!1;var t=ii(e);return t==G||t==Y||t==$||t==te}function Ta(e){return"number"==typeof e&&e==Ga(e)}function Ia(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function La(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ja(e){return null!=e&&"object"==typeof e}var Ra=Zt?An(Zt):function(e){return ja(e)&&Go(e)==Q};function Fa(e){return"number"==typeof e||ja(e)&&ii(e)==J}function za(e){if(!ja(e)||ii(e)!=X)return!1;var t=Et(e);if(null===t)return!0;var n=ht.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&pt.call(n)==bt}var Pa=Xt?An(Xt):function(e){return ja(e)&&ii(e)==ne};var Ba=en?An(en):function(e){return ja(e)&&Go(e)==re};function Ua(e){return"string"==typeof e||!Ea(e)&&ja(e)&&ii(e)==ie}function Ha(e){return"symbol"==typeof e||ja(e)&&ii(e)==oe}var $a=tn?An(tn):function(e){return ja(e)&&Ia(e.length)&&!!Ft[ii(e)]};var Va=Co(bi),Wa=Co((function(e,t){return e<=t}));function qa(e){if(!e)return[];if(Ca(e))return Ua(e)?Wn(e):lo(e);if(Ot&&e[Ot])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ot]());var t=Go(e);return(t==Q?Pn:t==re?Hn:wl)(e)}function Ka(e){return e?(e=Qa(e))===I||e===-I?(e<0?-1:1)*j:e==e?e:0:0===e?e:0}function Ga(e){var t=Ka(e),n=t%1;return t==t?n?t-n:t:0}function Ya(e){return e?Br(Ga(e),0,F):0}function Qa(e){if("number"==typeof e)return e;if(Ha(e))return R;if(La(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=La(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Sn(e);var n=qe.test(e);return n||Ge.test(e)?Ut(e.slice(2),n?2:8):We.test(e)?R:+e}function Ja(e){return co(e,pl(e))}function Za(e){return null==e?"":Hi(e)}var Xa=po((function(e,t){if(rs(t)||Ca(t))co(t,dl(t),e);else for(var n in t)ht.call(t,n)&&Lr(e,n,t[n])})),el=po((function(e,t){co(t,pl(t),e)})),tl=po((function(e,t,n,r){co(t,pl(t),e,r)})),nl=po((function(e,t,n,r){co(t,dl(t),e,r)})),rl=Ro(Pr);var il=Ai((function(e,t){e=it(e);var r=-1,i=t.length,o=i>2?t[2]:n;for(o&&Xo(t[0],t[1],o)&&(i=1);++r<i;)for(var s=t[r],a=pl(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===n||wa(d,ut[u])&&!ht.call(e,u))&&(e[u]=s[u])}return e})),ol=Ai((function(e){return e.push(n,Io),nn(fl,n,e)}));function sl(e,t,r){var i=null==e?n:ni(e,t);return i===n?r:i}function al(e,t){return null!=e&&Yo(e,t,ai)}var ll=_o((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=gt.call(t)),e[t]=n}),Ll(Fl)),cl=_o((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=gt.call(t)),ht.call(e,t)?e[t].push(n):e[t]=[n]}),Ho),ul=Ai(ci);function dl(e){return Ca(e)?Ar(e):mi(e)}function pl(e){return Ca(e)?Ar(e,!0):gi(e)}var hl=po((function(e,t,n){_i(e,t,n)})),fl=po((function(e,t,n,r){_i(e,t,n,r)})),ml=Ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=dn(t,(function(t){return t=Zi(t,e),r||(r=t.length>1),t})),co(e,zo(e),n),r&&(n=Ur(n,d|p|h,Lo));for(var i=t.length;i--;)Vi(n,t[i]);return n}));var gl=Ro((function(e,t){return null==e?{}:function(e,t){return Ei(e,t,(function(t,n){return al(e,n)}))}(e,t)}));function bl(e,t){if(null==e)return{};var n=dn(zo(e),(function(e){return[e]}));return t=Ho(t),Ei(e,n,(function(e,n){return t(e,n[0])}))}var yl=No(dl),vl=No(pl);function wl(e){return null==e?[]:Nn(e,dl(e))}var _l=go((function(e,t,n){return t=t.toLowerCase(),e+(n?xl(t):t)}));function xl(e){return Nl(Za(e).toLowerCase())}function kl(e){return(e=Za(e))&&e.replace(Qe,jn).replace(Nt,"")}var El=go((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ml=go((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Cl=mo("toLowerCase");var Dl=go((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Sl=go((function(e,t,n){return e+(n?" ":"")+Nl(t)}));var Al=go((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Nl=mo("toUpperCase");function Ol(e,t,r){return e=Za(e),(t=r?n:t)===n?function(e){return Lt.test(e)}(e)?function(e){return e.match(Tt)||[]}(e):function(e){return e.match(Be)||[]}(e):e.match(t)||[]}var Tl=Ai((function(e,t){try{return nn(e,n,t)}catch(e){return Na(e)?e:new tt(e)}})),Il=Ro((function(e,t){return on(t,(function(t){t=bs(t),zr(e,t,ca(e[t],e))})),e}));function Ll(e){return function(){return e}}var jl=vo(),Rl=vo(!0);function Fl(e){return e}function zl(e){return fi("function"==typeof e?e:Ur(e,d))}var Pl=Ai((function(e,t){return function(n){return ci(n,e,t)}})),Bl=Ai((function(e,t){return function(n){return ci(e,n,t)}}));function Ul(e,t,n){var r=dl(t),i=ti(t,r);null!=n||La(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=ti(t,dl(t)));var o=!(La(n)&&"chain"in n&&!n.chain),s=Oa(e);return on(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=lo(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pn([this.value()],arguments))})})),e}function Hl(){}var $l=ko(dn),Vl=ko(an),Wl=ko(mn);function ql(e){return es(e)?kn(bs(e)):function(e){return function(t){return ni(t,e)}}(e)}var Kl=Mo(),Gl=Mo(!0);function Yl(){return[]}function Ql(){return!1}var Jl=xo((function(e,t){return e+t}),0),Zl=So("ceil"),Xl=xo((function(e,t){return e/t}),1),ec=So("floor");var tc=xo((function(e,t){return e*t}),1),nc=So("round"),rc=xo((function(e,t){return e-t}),0);return vr.after=function(e,t){if("function"!=typeof t)throw new at(s);return e=Ga(e),function(){if(--e<1)return t.apply(this,arguments)}},vr.ary=aa,vr.assign=Xa,vr.assignIn=el,vr.assignInWith=tl,vr.assignWith=nl,vr.at=rl,vr.before=la,vr.bind=ca,vr.bindAll=Il,vr.bindKey=ua,vr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ea(e)?e:[e]},vr.chain=qs,vr.chunk=function(e,t,r){t=(r?Xo(e,t,r):t===n)?1:Jn(Ga(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=Xe(qt(i/t));o<i;)a[s++]=Ri(e,o,o+=t);return a},vr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},vr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Xe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return pn(Ea(n)?lo(n):[n],Qr(t,1))},vr.cond=function(e){var t=null==e?0:e.length,n=Ho();return e=t?dn(e,(function(e){if("function"!=typeof e[1])throw new at(s);return[n(e[0]),e[1]]})):[],Ai((function(n){for(var r=-1;++r<t;){var i=e[r];if(nn(i[0],this,n))return nn(i[1],this,n)}}))},vr.conforms=function(e){return function(e){var t=dl(e);return function(n){return Hr(n,e,t)}}(Ur(e,d))},vr.constant=Ll,vr.countBy=Ys,vr.create=function(e,t){var n=wr(e);return null==t?n:Fr(n,t)},vr.curry=function e(t,r,i){var o=Oo(t,v,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},vr.curryRight=function e(t,r,i){var o=Oo(t,w,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},vr.debounce=da,vr.defaults=il,vr.defaultsDeep=ol,vr.defer=pa,vr.delay=ha,vr.difference=ws,vr.differenceBy=_s,vr.differenceWith=xs,vr.drop=function(e,t,r){var i=null==e?0:e.length;return i?Ri(e,(t=r||t===n?1:Ga(t))<0?0:t,i):[]},vr.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?Ri(e,0,(t=i-(t=r||t===n?1:Ga(t)))<0?0:t):[]},vr.dropRightWhile=function(e,t){return e&&e.length?qi(e,Ho(t,3),!0,!0):[]},vr.dropWhile=function(e,t){return e&&e.length?qi(e,Ho(t,3),!0):[]},vr.fill=function(e,t,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&Xo(e,t,r)&&(r=0,i=o),function(e,t,r,i){var o=e.length;for((r=Ga(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:Ga(i))<0&&(i+=o),i=r>i?0:Ya(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},vr.filter=function(e,t){return(Ea(e)?ln:Yr)(e,Ho(t,3))},vr.flatMap=function(e,t){return Qr(ra(e,t),1)},vr.flatMapDeep=function(e,t){return Qr(ra(e,t),I)},vr.flatMapDepth=function(e,t,r){return r=r===n?1:Ga(r),Qr(ra(e,t),r)},vr.flatten=Ms,vr.flattenDeep=function(e){return(null==e?0:e.length)?Qr(e,I):[]},vr.flattenDepth=function(e,t){return(null==e?0:e.length)?Qr(e,t=t===n?1:Ga(t)):[]},vr.flip=function(e){return Oo(e,M)},vr.flow=jl,vr.flowRight=Rl,vr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},vr.functions=function(e){return null==e?[]:ti(e,dl(e))},vr.functionsIn=function(e){return null==e?[]:ti(e,pl(e))},vr.groupBy=ea,vr.initial=function(e){return(null==e?0:e.length)?Ri(e,0,-1):[]},vr.intersection=Ds,vr.intersectionBy=Ss,vr.intersectionWith=As,vr.invert=ll,vr.invertBy=cl,vr.invokeMap=ta,vr.iteratee=zl,vr.keyBy=na,vr.keys=dl,vr.keysIn=pl,vr.map=ra,vr.mapKeys=function(e,t){var n={};return t=Ho(t,3),Xr(e,(function(e,r,i){zr(n,t(e,r,i),e)})),n},vr.mapValues=function(e,t){var n={};return t=Ho(t,3),Xr(e,(function(e,r,i){zr(n,r,t(e,r,i))})),n},vr.matches=function(e){return vi(Ur(e,d))},vr.matchesProperty=function(e,t){return wi(e,Ur(t,d))},vr.memoize=fa,vr.merge=hl,vr.mergeWith=fl,vr.method=Pl,vr.methodOf=Bl,vr.mixin=Ul,vr.negate=ma,vr.nthArg=function(e){return e=Ga(e),Ai((function(t){return xi(t,e)}))},vr.omit=ml,vr.omitBy=function(e,t){return bl(e,ma(Ho(t)))},vr.once=function(e){return la(2,e)},vr.orderBy=function(e,t,r,i){return null==e?[]:(Ea(t)||(t=null==t?[]:[t]),Ea(r=i?n:r)||(r=null==r?[]:[r]),ki(e,t,r))},vr.over=$l,vr.overArgs=ga,vr.overEvery=Vl,vr.overSome=Wl,vr.partial=ba,vr.partialRight=ya,vr.partition=ia,vr.pick=gl,vr.pickBy=bl,vr.property=ql,vr.propertyOf=function(e){return function(t){return null==e?n:ni(e,t)}},vr.pull=Os,vr.pullAll=Ts,vr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,Ho(n,2)):e},vr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Mi(e,t,n,r):e},vr.pullAt=Is,vr.range=Kl,vr.rangeRight=Gl,vr.rearg=va,vr.reject=function(e,t){return(Ea(e)?ln:Yr)(e,ma(Ho(t,3)))},vr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ho(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Ci(e,i),n},vr.rest=function(e,t){if("function"!=typeof e)throw new at(s);return Ai(e,t=t===n?t:Ga(t))},vr.reverse=Ls,vr.sampleSize=function(e,t,r){return t=(r?Xo(e,t,r):t===n)?1:Ga(t),(Ea(e)?Or:Oi)(e,t)},vr.set=function(e,t,n){return null==e?e:Ti(e,t,n)},vr.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Ti(e,t,r,i)},vr.shuffle=function(e){return(Ea(e)?Tr:ji)(e)},vr.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Xo(e,t,r)?(t=0,r=i):(t=null==t?0:Ga(t),r=r===n?i:Ga(r)),Ri(e,t,r)):[]},vr.sortBy=oa,vr.sortedUniq=function(e){return e&&e.length?Bi(e):[]},vr.sortedUniqBy=function(e,t){return e&&e.length?Bi(e,Ho(t,2)):[]},vr.split=function(e,t,r){return r&&"number"!=typeof r&&Xo(e,t,r)&&(t=r=n),(r=r===n?F:r>>>0)?(e=Za(e))&&("string"==typeof t||null!=t&&!Pa(t))&&!(t=Hi(t))&&zn(e)?eo(Wn(e),0,r):e.split(t,r):[]},vr.spread=function(e,t){if("function"!=typeof e)throw new at(s);return t=null==t?0:Jn(Ga(t),0),Ai((function(n){var r=n[t],i=eo(n,0,t);return r&&pn(i,r),nn(e,this,i)}))},vr.tail=function(e){var t=null==e?0:e.length;return t?Ri(e,1,t):[]},vr.take=function(e,t,r){return e&&e.length?Ri(e,0,(t=r||t===n?1:Ga(t))<0?0:t):[]},vr.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?Ri(e,(t=i-(t=r||t===n?1:Ga(t)))<0?0:t,i):[]},vr.takeRightWhile=function(e,t){return e&&e.length?qi(e,Ho(t,3),!1,!0):[]},vr.takeWhile=function(e,t){return e&&e.length?qi(e,Ho(t,3)):[]},vr.tap=function(e,t){return t(e),e},vr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new at(s);return La(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),da(e,t,{leading:r,maxWait:t,trailing:i})},vr.thru=Ks,vr.toArray=qa,vr.toPairs=yl,vr.toPairsIn=vl,vr.toPath=function(e){return Ea(e)?dn(e,bs):Ha(e)?[e]:lo(gs(Za(e)))},vr.toPlainObject=Ja,vr.transform=function(e,t,n){var r=Ea(e),i=r||Sa(e)||$a(e);if(t=Ho(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:La(e)&&Oa(o)?wr(Et(e)):{}}return(i?on:Xr)(e,(function(e,r,i){return t(n,e,r,i)})),n},vr.unary=function(e){return aa(e,1)},vr.union=js,vr.unionBy=Rs,vr.unionWith=Fs,vr.uniq=function(e){return e&&e.length?$i(e):[]},vr.uniqBy=function(e,t){return e&&e.length?$i(e,Ho(t,2)):[]},vr.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?$i(e,n,t):[]},vr.unset=function(e,t){return null==e||Vi(e,t)},vr.unzip=zs,vr.unzipWith=Ps,vr.update=function(e,t,n){return null==e?e:Wi(e,t,Ji(n))},vr.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Wi(e,t,Ji(r),i)},vr.values=wl,vr.valuesIn=function(e){return null==e?[]:Nn(e,pl(e))},vr.without=Bs,vr.words=Ol,vr.wrap=function(e,t){return ba(Ji(t),e)},vr.xor=Us,vr.xorBy=Hs,vr.xorWith=$s,vr.zip=Vs,vr.zipObject=function(e,t){return Yi(e||[],t||[],Lr)},vr.zipObjectDeep=function(e,t){return Yi(e||[],t||[],Ti)},vr.zipWith=Ws,vr.entries=yl,vr.entriesIn=vl,vr.extend=el,vr.extendWith=tl,Ul(vr,vr),vr.add=Jl,vr.attempt=Tl,vr.camelCase=_l,vr.capitalize=xl,vr.ceil=Zl,vr.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=Qa(r))==r?r:0),t!==n&&(t=(t=Qa(t))==t?t:0),Br(Qa(e),t,r)},vr.clone=function(e){return Ur(e,h)},vr.cloneDeep=function(e){return Ur(e,d|h)},vr.cloneDeepWith=function(e,t){return Ur(e,d|h,t="function"==typeof t?t:n)},vr.cloneWith=function(e,t){return Ur(e,h,t="function"==typeof t?t:n)},vr.conformsTo=function(e,t){return null==t||Hr(e,t,dl(t))},vr.deburr=kl,vr.defaultTo=function(e,t){return null==e||e!=e?t:e},vr.divide=Xl,vr.endsWith=function(e,t,r){e=Za(e),t=Hi(t);var i=e.length,o=r=r===n?i:Br(Ga(r),0,i);return(r-=t.length)>=0&&e.slice(r,o)==t},vr.eq=wa,vr.escape=function(e){return(e=Za(e))&&Ce.test(e)?e.replace(Ee,Rn):e},vr.escapeRegExp=function(e){return(e=Za(e))&&Le.test(e)?e.replace(Ie,"\\$&"):e},vr.every=function(e,t,r){var i=Ea(e)?an:Kr;return r&&Xo(e,t,r)&&(t=n),i(e,Ho(t,3))},vr.find=Qs,vr.findIndex=ks,vr.findKey=function(e,t){return bn(e,Ho(t,3),Xr)},vr.findLast=Js,vr.findLastIndex=Es,vr.findLastKey=function(e,t){return bn(e,Ho(t,3),ei)},vr.floor=ec,vr.forEach=Zs,vr.forEachRight=Xs,vr.forIn=function(e,t){return null==e?e:Jr(e,Ho(t,3),pl)},vr.forInRight=function(e,t){return null==e?e:Zr(e,Ho(t,3),pl)},vr.forOwn=function(e,t){return e&&Xr(e,Ho(t,3))},vr.forOwnRight=function(e,t){return e&&ei(e,Ho(t,3))},vr.get=sl,vr.gt=_a,vr.gte=xa,vr.has=function(e,t){return null!=e&&Yo(e,t,si)},vr.hasIn=al,vr.head=Cs,vr.identity=Fl,vr.includes=function(e,t,n,r){e=Ca(e)?e:wl(e),n=n&&!r?Ga(n):0;var i=e.length;return n<0&&(n=Jn(i+n,0)),Ua(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&vn(e,t,n)>-1},vr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Ga(n);return i<0&&(i=Jn(r+i,0)),vn(e,t,i)},vr.inRange=function(e,t,r){return t=Ka(t),r===n?(r=t,t=0):r=Ka(r),function(e,t,n){return e>=Zn(t,n)&&e<Jn(t,n)}(e=Qa(e),t,r)},vr.invoke=ul,vr.isArguments=ka,vr.isArray=Ea,vr.isArrayBuffer=Ma,vr.isArrayLike=Ca,vr.isArrayLikeObject=Da,vr.isBoolean=function(e){return!0===e||!1===e||ja(e)&&ii(e)==V},vr.isBuffer=Sa,vr.isDate=Aa,vr.isElement=function(e){return ja(e)&&1===e.nodeType&&!za(e)},vr.isEmpty=function(e){if(null==e)return!0;if(Ca(e)&&(Ea(e)||"string"==typeof e||"function"==typeof e.splice||Sa(e)||$a(e)||ka(e)))return!e.length;var t=Go(e);if(t==Q||t==re)return!e.size;if(rs(e))return!mi(e).length;for(var n in e)if(ht.call(e,n))return!1;return!0},vr.isEqual=function(e,t){return di(e,t)},vr.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?di(e,t,n,r):!!i},vr.isError=Na,vr.isFinite=function(e){return"number"==typeof e&&En(e)},vr.isFunction=Oa,vr.isInteger=Ta,vr.isLength=Ia,vr.isMap=Ra,vr.isMatch=function(e,t){return e===t||pi(e,t,Vo(t))},vr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,pi(e,t,Vo(t),r)},vr.isNaN=function(e){return Fa(e)&&e!=+e},vr.isNative=function(e){if(ns(e))throw new tt(o);return hi(e)},vr.isNil=function(e){return null==e},vr.isNull=function(e){return null===e},vr.isNumber=Fa,vr.isObject=La,vr.isObjectLike=ja,vr.isPlainObject=za,vr.isRegExp=Pa,vr.isSafeInteger=function(e){return Ta(e)&&e>=-L&&e<=L},vr.isSet=Ba,vr.isString=Ua,vr.isSymbol=Ha,vr.isTypedArray=$a,vr.isUndefined=function(e){return e===n},vr.isWeakMap=function(e){return ja(e)&&Go(e)==ae},vr.isWeakSet=function(e){return ja(e)&&ii(e)==le},vr.join=function(e,t){return null==e?"":Yn.call(e,t)},vr.kebabCase=El,vr.last=Ns,vr.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=Ga(r))<0?Jn(i+o,0):Zn(o,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):yn(e,_n,o,!0)},vr.lowerCase=Ml,vr.lowerFirst=Cl,vr.lt=Va,vr.lte=Wa,vr.max=function(e){return e&&e.length?Gr(e,Fl,oi):n},vr.maxBy=function(e,t){return e&&e.length?Gr(e,Ho(t,2),oi):n},vr.mean=function(e){return xn(e,Fl)},vr.meanBy=function(e,t){return xn(e,Ho(t,2))},vr.min=function(e){return e&&e.length?Gr(e,Fl,bi):n},vr.minBy=function(e,t){return e&&e.length?Gr(e,Ho(t,2),bi):n},vr.stubArray=Yl,vr.stubFalse=Ql,vr.stubObject=function(){return{}},vr.stubString=function(){return""},vr.stubTrue=function(){return!0},vr.multiply=tc,vr.nth=function(e,t){return e&&e.length?xi(e,Ga(t)):n},vr.noConflict=function(){return Vt._===this&&(Vt._=yt),this},vr.noop=Hl,vr.now=sa,vr.pad=function(e,t,n){e=Za(e);var r=(t=Ga(t))?Vn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Eo(Gt(i),n)+e+Eo(qt(i),n)},vr.padEnd=function(e,t,n){e=Za(e);var r=(t=Ga(t))?Vn(e):0;return t&&r<t?e+Eo(t-r,n):e},vr.padStart=function(e,t,n){e=Za(e);var r=(t=Ga(t))?Vn(e):0;return t&&r<t?Eo(t-r,n)+e:e},vr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),er(Za(e).replace(je,""),t||0)},vr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Xo(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=Ka(e),t===n?(t=e,e=0):t=Ka(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var o=tr();return Zn(e+o*(t-e+Bt("1e-"+((o+"").length-1))),t)}return Di(e,t)},vr.reduce=function(e,t,n){var r=Ea(e)?hn:Mn,i=arguments.length<3;return r(e,Ho(t,4),n,i,Wr)},vr.reduceRight=function(e,t,n){var r=Ea(e)?fn:Mn,i=arguments.length<3;return r(e,Ho(t,4),n,i,qr)},vr.repeat=function(e,t,r){return t=(r?Xo(e,t,r):t===n)?1:Ga(t),Si(Za(e),t)},vr.replace=function(){var e=arguments,t=Za(e[0]);return e.length<3?t:t.replace(e[1],e[2])},vr.result=function(e,t,r){var i=-1,o=(t=Zi(t,e)).length;for(o||(o=1,e=n);++i<o;){var s=null==e?n:e[bs(t[i])];s===n&&(i=o,s=r),e=Oa(s)?s.call(e):s}return e},vr.round=nc,vr.runInContext=e,vr.sample=function(e){return(Ea(e)?Nr:Ni)(e)},vr.size=function(e){if(null==e)return 0;if(Ca(e))return Ua(e)?Vn(e):e.length;var t=Go(e);return t==Q||t==re?e.size:mi(e).length},vr.snakeCase=Dl,vr.some=function(e,t,r){var i=Ea(e)?mn:Fi;return r&&Xo(e,t,r)&&(t=n),i(e,Ho(t,3))},vr.sortedIndex=function(e,t){return zi(e,t)},vr.sortedIndexBy=function(e,t,n){return Pi(e,t,Ho(n,2))},vr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=zi(e,t);if(r<n&&wa(e[r],t))return r}return-1},vr.sortedLastIndex=function(e,t){return zi(e,t,!0)},vr.sortedLastIndexBy=function(e,t,n){return Pi(e,t,Ho(n,2),!0)},vr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=zi(e,t,!0)-1;if(wa(e[n],t))return n}return-1},vr.startCase=Sl,vr.startsWith=function(e,t,n){return e=Za(e),n=null==n?0:Br(Ga(n),0,e.length),t=Hi(t),e.slice(n,n+t.length)==t},vr.subtract=rc,vr.sum=function(e){return e&&e.length?Cn(e,Fl):0},vr.sumBy=function(e,t){return e&&e.length?Cn(e,Ho(t,2)):0},vr.template=function(e,t,r){var i=vr.templateSettings;r&&Xo(e,t,r)&&(t=n),e=Za(e),t=tl({},t,i,To);var o,s,l=tl({},t.imports,i.imports,To),c=dl(l),u=Nn(l,c),d=0,p=t.interpolate||Je,h="__p += '",f=ot((t.escape||Je).source+"|"+p.source+"|"+(p===Ae?$e:Je).source+"|"+(t.evaluate||Je).source+"|$","g"),m="//# sourceURL="+(ht.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rt+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),h+=e.slice(d,l).replace(Ze,Fn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=l+t.length,t})),h+="';\n";var g=ht.call(t,"variable")&&t.variable;if(g){if(Ue.test(g))throw new tt(a)}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(we,""):h).replace(_e,"$1").replace(xe,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var b=Tl((function(){return nt(c,m+"return "+h).apply(n,u)}));if(b.source=h,Na(b))throw b;return b},vr.times=function(e,t){if((e=Ga(e))<1||e>L)return[];var n=F,r=Zn(e,F);t=Ho(t),e-=F;for(var i=Dn(r,t);++n<e;)t(n);return i},vr.toFinite=Ka,vr.toInteger=Ga,vr.toLength=Ya,vr.toLower=function(e){return Za(e).toLowerCase()},vr.toNumber=Qa,vr.toSafeInteger=function(e){return e?Br(Ga(e),-L,L):0===e?e:0},vr.toString=Za,vr.toUpper=function(e){return Za(e).toUpperCase()},vr.trim=function(e,t,r){if((e=Za(e))&&(r||t===n))return Sn(e);if(!e||!(t=Hi(t)))return e;var i=Wn(e),o=Wn(t);return eo(i,Tn(i,o),In(i,o)+1).join("")},vr.trimEnd=function(e,t,r){if((e=Za(e))&&(r||t===n))return e.slice(0,qn(e)+1);if(!e||!(t=Hi(t)))return e;var i=Wn(e);return eo(i,0,In(i,Wn(t))+1).join("")},vr.trimStart=function(e,t,r){if((e=Za(e))&&(r||t===n))return e.replace(je,"");if(!e||!(t=Hi(t)))return e;var i=Wn(e);return eo(i,Tn(i,Wn(t))).join("")},vr.truncate=function(e,t){var r=C,i=D;if(La(t)){var o="separator"in t?t.separator:o;r="length"in t?Ga(t.length):r,i="omission"in t?Hi(t.omission):i}var s=(e=Za(e)).length;if(zn(e)){var a=Wn(e);s=a.length}if(r>=s)return e;var l=r-Vn(i);if(l<1)return i;var c=a?eo(a,0,l).join(""):e.slice(0,l);if(o===n)return c+i;if(a&&(l+=c.length-l),Pa(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=ot(o.source,Za(Ve.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var p=u.index;c=c.slice(0,p===n?l:p)}}else if(e.indexOf(Hi(o),l)!=l){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+i},vr.unescape=function(e){return(e=Za(e))&&Me.test(e)?e.replace(ke,Kn):e},vr.uniqueId=function(e){var t=++ft;return Za(e)+t},vr.upperCase=Al,vr.upperFirst=Nl,vr.each=Zs,vr.eachRight=Xs,vr.first=Cs,Ul(vr,function(){var e={};return Xr(vr,(function(t,n){ht.call(vr.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),vr.VERSION=r,on(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){vr[e].placeholder=vr})),on(["drop","take"],(function(e,t){kr.prototype[e]=function(r){r=r===n?1:Jn(Ga(r),0);var i=this.__filtered__&&!t?new kr(this):this.clone();return i.__filtered__?i.__takeCount__=Zn(r,i.__takeCount__):i.__views__.push({size:Zn(r,F),type:e+(i.__dir__<0?"Right":"")}),i},kr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),on(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==N||n==T;kr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ho(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),on(["head","last"],(function(e,t){var n="take"+(t?"Right":"");kr.prototype[e]=function(){return this[n](1).value()[0]}})),on(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");kr.prototype[e]=function(){return this.__filtered__?new kr(this):this[n](1)}})),kr.prototype.compact=function(){return this.filter(Fl)},kr.prototype.find=function(e){return this.filter(e).head()},kr.prototype.findLast=function(e){return this.reverse().find(e)},kr.prototype.invokeMap=Ai((function(e,t){return"function"==typeof e?new kr(this):this.map((function(n){return ci(n,e,t)}))})),kr.prototype.reject=function(e){return this.filter(ma(Ho(e)))},kr.prototype.slice=function(e,t){e=Ga(e);var r=this;return r.__filtered__&&(e>0||t<0)?new kr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=Ga(t))<0?r.dropRight(-t):r.take(t-e)),r)},kr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},kr.prototype.toArray=function(){return this.take(F)},Xr(kr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=vr[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);o&&(vr.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,l=t instanceof kr,c=a[0],u=l||Ea(t),d=function(e){var t=o.apply(vr,pn([e],a));return i&&p?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(l=u=!1);var p=this.__chain__,h=!!this.__actions__.length,f=s&&!p,m=l&&!h;if(!s&&u){t=m?t:new kr(this);var g=e.apply(t,a);return g.__actions__.push({func:Ks,args:[d],thisArg:n}),new xr(g,p)}return f&&m?e.apply(this,a):(g=this.thru(d),f?i?g.value()[0]:g.value():g)})})),on(["pop","push","shift","sort","splice","unshift"],(function(e){var t=lt[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);vr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ea(i)?i:[],e)}return this[n]((function(n){return t.apply(Ea(n)?n:[],e)}))}})),Xr(kr.prototype,(function(e,t){var n=vr[t];if(n){var r=n.name+"";ht.call(ur,r)||(ur[r]=[]),ur[r].push({name:t,func:n})}})),ur[wo(n,b).name]=[{name:"wrapper",func:n}],kr.prototype.clone=function(){var e=new kr(this.__wrapped__);return e.__actions__=lo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=lo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=lo(this.__views__),e},kr.prototype.reverse=function(){if(this.__filtered__){var e=new kr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},kr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ea(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Zn(t,e+s);break;case"takeRight":e=Jn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,d=u.length,p=0,h=Zn(l,this.__takeCount__);if(!n||!r&&i==l&&h==l)return Ki(e,this.__actions__);var f=[];e:for(;l--&&p<h;){for(var m=-1,g=e[c+=t];++m<d;){var b=u[m],y=b.iteratee,v=b.type,w=y(g);if(v==O)g=w;else if(!w){if(v==N)continue e;break e}}f[p++]=g}return f},vr.prototype.at=Gs,vr.prototype.chain=function(){return qs(this)},vr.prototype.commit=function(){return new xr(this.value(),this.__chain__)},vr.prototype.next=function(){this.__values__===n&&(this.__values__=qa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},vr.prototype.plant=function(e){for(var t,r=this;r instanceof _r;){var i=vs(r);i.__index__=0,i.__values__=n,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t},vr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof kr){var t=e;return this.__actions__.length&&(t=new kr(this)),(t=t.reverse()).__actions__.push({func:Ks,args:[Ls],thisArg:n}),new xr(t,this.__chain__)}return this.thru(Ls)},vr.prototype.toJSON=vr.prototype.valueOf=vr.prototype.value=function(){return Ki(this.__wrapped__,this.__actions__)},vr.prototype.first=vr.prototype.head,Ot&&(vr.prototype[Ot]=function(){return this}),vr}();qt?((qt.exports=Gn)._=Gn,Wt._=Gn):Vt._=Gn}).call(Ci)}(Sj,Sj.exports);const Aj=()=>document.documentElement.style.setProperty("--focus-background-color","rgba(234, 243, 252, 0.5)"),Nj=()=>document.documentElement.style.setProperty("--focus-background-color","transparent"),Oj={onMouseEnter:Aj,onMouseLeave:Nj},Tj=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?Oj:{}};function Ij(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Lj="undefined"!=typeof window&&"undefined"!=typeof document;function jj(e,t){e&&("function"==typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function Rj(){return Lj&&document.createElement("div")}function Fj(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!Fj(e[n],t[n]))return!1}return!0}return!1}function zj(e){var t=[];return e.forEach((function(e){t.find((function(t){return Fj(e,t)}))||t.push(e)})),t}var Pj=Lj?y:h;function Bj(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var Uj={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||Bj(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&Bj(t,"remove",e.props.className)},onAfterUpdate:r}}};function Hj(e){return function(t){var n=t.children,r=t.content,i=t.visible,o=t.singleton,s=t.render,a=t.reference,l=t.disabled,p=void 0!==l&&l,h=t.ignoreAttributes,f=void 0===h||h;t.__source,t.__self;var m,g,y=Ij(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),v=void 0!==i,w=void 0!==o,_=u(!1),x=_[0],k=_[1],E=u({}),M=E[0],C=E[1],D=u(),S=D[0],A=D[1],N=(m=function(){return{container:Rj(),renders:1}},(g=d()).current||(g.current="function"==typeof m?m():m),g.current),O=Object.assign({ignoreAttributes:f},y,{content:N.container});v&&(O.trigger="manual",O.hideOnClick=!1),w&&(p=!0);var T=O,I=O.plugins||[];s&&(T=Object.assign({},O,{plugins:w&&null!=o.data?[].concat(I,[{fn:function(){return{onTrigger:function(e,t){var n=o.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,A(n.content)}}}}]):I,render:function(){return{popper:N.container}}}));var L=[a].concat(n?[n.type]:[]);return Pj((function(){var t=a;a&&a.hasOwnProperty("current")&&(t=a.current);var n=e(t||N.ref||Rj(),Object.assign({},T,{plugins:[Uj].concat(O.plugins||[])}));return N.instance=n,p&&n.disable(),i&&n.show(),w&&o.hook({instance:n,content:r,props:T,setSingletonContent:A}),k(!0),function(){n.destroy(),null==o||o.cleanup(n)}}),L),Pj((function(){var e;if(1!==N.renders){var t,n,s,a,l=N.instance;l.setProps((t=l.props,n=T,Object.assign({},n,{popperOptions:Object.assign({},t.popperOptions,n.popperOptions,{modifiers:zj([].concat((null==(s=t.popperOptions)?void 0:s.modifiers)||[],(null==(a=n.popperOptions)?void 0:a.modifiers)||[]))})}))),null==(e=l.popperInstance)||e.forceUpdate(),p?l.disable():l.enable(),v&&(i?l.show():l.hide()),w&&o.hook({instance:l,content:r,props:T,setSingletonContent:A})}else N.renders++})),Pj((function(){var e;if(s){var t=N.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;M.placement===n.placement&&M.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&M.escaped===(null==r?void 0:r.hasPopperEscaped)||C({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[M.placement,M.referenceHidden,M.escaped].concat(L)),c.createElement(c.Fragment,null,n?b(n,{ref:function(e){N.ref=e,jj(n.ref,e)}}):null,x&&Ee(s?s(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(M),S,N.instance):r,N.container))}}var $j=function(e,t){return g((function(n,r){var i=n.children,o=Ij(n,["children"]);return c.createElement(e,Object.assign({},t,o),i?b(i,{ref:function(e){jj(r,e),jj(i.ref,e)}}):null)}))},Vj=$j(Hj(XC));class Wj extends c.Component{constructor(e){super(e),Kg(this,"keydownHandler",(e=>{const t={Enter:this.enterHandler,ArrowUp:this.upHandler,ArrowDown:this.downHandler,ArrowLeft:this.leftArrowHandler,ArrowRight:this.rightArrowHandler};e.key in t&&t[e.key](e)})),Kg(this,"selectItem",(e=>{const{items:t,editor:n,range:r}=this.props,i=t[e],o=i&&i.command,s=cs(i.items);o&&s&&i.command({editor:n,range:r})})),Kg(this,"upHandler",(()=>{const{items:e}=this.props,{selectedIndex:t}=this.state;this.setState({selectedIndex:(t+e.length-1)%e.length})})),Kg(this,"downHandler",(()=>{const{items:e}=this.props,{selectedIndex:t}=this.state;this.setState({selectedIndex:(t+1)%e.length})})),Kg(this,"enterHandler",(()=>{const{selectedIndex:e}=this.state;this.selectItem(e)})),Kg(this,"leftArrowHandler",(()=>{const{menuIndex:e,setActiveMenuIndex:t}=this.props;e>0&&t(e-1)})),Kg(this,"rightArrowHandler",(()=>{const{menuIndex:e,setActiveMenuIndex:t,items:n}=this.props,{selectedIndex:r}=this.state,i=n[r];i&&!cs(i.items)&&t(e+1)})),this.state={selectedIndex:0},this.menuRef=c.createRef()}componentDidMount(){const{menuIndex:e,activeMenuIndex:t}=this.props;e===t&&document.addEventListener("keydown",this.keydownHandler)}componentWillUnmount(){document.removeEventListener("keydown",this.keydownHandler)}componentDidUpdate(e){const{items:t,menuIndex:n,activeMenuIndex:r}=this.props,i=n===r;t!==e.items&&this.setState({selectedIndex:0}),CL({wrapperRef:this.menuRef,index:this.state.selectedIndex}),i?document.addEventListener("keydown",this.keydownHandler):document.removeEventListener("keydown",this.keydownHandler)}render(){const{items:e,menuIndex:t,activeMenuIndex:n}=this.props,{selectedIndex:r}=this.state,i=t===n;return c.createElement("div",{className:"neeto-editor-slash-commands__wrapper",ref:this.menuRef},e.map(((e,n)=>{const o=cs(e.items),s=c.createElement(qj,{index:n,item:e,key:e.title,selectItem:()=>o&&this.selectItem(n),selectedIndex:i?r:-1,onHover:()=>this.setState({selectedIndex:n})});return o?s:c.createElement(Vj,{interactive:!0,key:e.title,placement:"right",visible:r===n,content:c.createElement(Wj,Vy({},this.props,{items:e.items,menuIndex:t+1})),onCreate:e=>{let{popper:t}=e;return t.style.width="max-content"},onHide:()=>{this.isSubmenuOpened=!1},onShow:()=>{this.isSubmenuOpened=!0}},s)})))}}const qj=g(((e,t)=>{let{item:n,selectedIndex:r,index:i,selectItem:o,onHover:s}=e;const{Icon:a}=n;return c.createElement("div",{"data-cy":`neeto-editor-command-list-item-${i}`,ref:t,className:Ka("neeto-editor-slash-commands__item",{active:i===r}),onClick:o,onMouseEnter:s},a&&c.createElement(a,{size:20}),c.createElement("div",{className:"neeto-editor-slash-commands__item-content"},c.createElement("h5",null,n.title),c.createElement("p",null,n.description)))}));class Kj extends c.Component{constructor(){super(...arguments),Kg(this,"state",{activeMenuIndex:0}),Kg(this,"onKeyDown",(e=>{let{event:t}=e;return["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)})),Kg(this,"setActiveMenuIndex",(e=>this.setState({activeMenuIndex:e})))}render(){return c.createElement(Wj,Vy({},this.props,{activeMenuIndex:this.state.activeMenuIndex,items:this.props.items,menuIndex:0,setActiveMenuIndex:this.setActiveMenuIndex}))}}const Gj=[{optionName:tr.PARAGRAPH,title:"Paragraph",description:"Add a plain text block.",Icon:W,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).setNode("paragraph").run()}},{optionName:tr.H1,title:"H1",description:"Add a big heading.",Icon:q,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).setNode("heading",{level:1}).run()}},{optionName:tr.H2,title:"H2",description:"Add a sub-heading.",Icon:K,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).setNode("heading",{level:2}).run()}},{optionName:tr.H3,title:"H3",description:"Add a sub-heading of level 3.",Icon:G,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).setNode("heading",{level:3}).run()}},{optionName:tr.H4,title:"H4",description:"Add a sub-heading of level 4.",Icon:G,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).setNode("heading",{level:4}).run()}},{optionName:tr.H5,title:"H5",description:"Add a sub-heading of level 5.",Icon:G,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).setNode("heading",{level:5}).run()}},{optionName:tr.H6,title:"H6",description:"Add a sub-heading of level 6.",Icon:G,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).setNode("heading",{level:6}).run()}},{optionName:tr.LIST_ORDERED,title:"Numbered list",description:"Add a list with numbering.",Icon:Y,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).toggleOrderedList().run()}},{optionName:tr.LIST_BULLETS,title:"Bulleted list",description:"Add a list with bullets.",Icon:Q,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).toggleBulletList().run()}},{optionName:tr.IMAGE_UPLOAD,title:"Image",description:"Add an image.",Icon:J,command:n},{optionName:tr.VIDEO_UPLOAD,title:"Video",description:"Add a video.",Icon:Z,command:n},{optionName:tr.BLOCKQUOTE,title:"Blockquote",description:"Add a quote.",Icon:X,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).toggleBlockquote().run()}},{optionName:tr.CODE_BLOCK,title:"Code block",description:"Add a code block with syntax highlighting.",Icon:ee,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).toggleCodeBlock().run()}},{optionName:tr.EMOJI,title:"Emoji",description:"Add an emoji.",Icon:te,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).insertContent("::").run()}},{optionName:tr.DIVIDER,title:"Divider",description:"Add an horizontal line to separate sections.",Icon:ne,command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).setHorizontalRule().run()}},{optionName:tr.VIDEO_EMBED,title:"Embed Youtube/Loom/Vimeo",description:"Embed a video from major services.",Icon:re,command:n},{optionName:tr.PASTE_UNFORMATTED,title:"Paste Unformatted",description:"Paste by removing all styles.",Icon:ie,command:e=>{let{editor:t,range:n}=e;return t.chain().focus().deleteRange(n).pasteUnformatted().run()}},{optionName:tr.TABLE,title:"Table",description:"Add a table",Icon:oe,command:e=>{let{editor:t,range:n}=e;return t.chain().focus().deleteRange(n).insertTable({rows:3,cols:3,withHeaderRow:!0}).run()}}],Yj={title:"No results",command:e=>{let{editor:t,range:n}=e;t.chain().focus().deleteRange(n).run()}},Qj=e=>{let{options:t,addonCommands:n,setMediaUploader:r,setIsEmbedModalOpen:i}=e;const o=Gj.map((e=>e.optionName===tr.IMAGE_UPLOAD?we("command",(e=>t=>{let{editor:n,range:r}=t;e(we("image",!0)),n.chain().focus().deleteRange(r).run()})(r),e):e.optionName===tr.VIDEO_UPLOAD?we("command",(e=>t=>{let{editor:n,range:r}=t;e(we("video",!0)),n.chain().focus().deleteRange(r).run()})(r),e):e.optionName===tr.VIDEO_EMBED?we("command",(e=>t=>{let{editor:n,range:r}=t;e(!0),n.chain().focus().deleteRange(r).run()})(i),e):e));return[...o.filter((e=>{let{optionName:n}=e;return t.includes(n)})),...n]},Jj=new er("commands");var Zj=e=>{let{addonCommands:t,options:n,setMediaUploader:r,setIsEmbedModalOpen:i}=e;const o=Qj({options:n,addonCommands:t,setMediaUploader:r,setIsEmbedModalOpen:i});return Jk.create({name:"slash-commands",addOptions:()=>({HTMLAttributes:{class:"commands"},suggestion:{char:"/",startOfLine:!1,pluginKey:Jj,command:e=>{let{editor:t,range:n,props:r}=e;r.command({editor:t,range:n})},items:e=>{let{query:t}=e;const n=o.filter((e=>{let{title:n}=e;return n.toLowerCase().includes(t.toLowerCase())}));return Sj.exports.isEmpty(n)?[Yj]:n},render:()=>{let e,t;return{onStart:n=>{e=new pD(Kj,{props:n,editor:n.editor}),t=XC("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",arrow:!1,zIndex:99999,role:"dropdown",theme:"neeto-editor-slash-menu"}),Aj()},onUpdate(n){e.updateProps(n),t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(t){var n;return null===(n=e.ref)||void 0===n?void 0:n.onKeyDown(t)},onExit(){t&&t[0].destroy(),e&&e.destroy(),Nj()}}}}}),addProseMirrorPlugins(){return[PO({editor:this.editor,...this.options.suggestion})]}})};const Xj=new er("special-mention"),eR=e=>{var t;let{options:n,node:r}=e;return`${n.suggestion.char}${null!==(t=r.attrs.label)&&void 0!==t?t:r.attrs.id}`},tR={char:"@@",pluginKey:Xj,render:()=>{let e,t;return{onStart:n=>{e=new pD(DL,{props:n,editor:n.editor}),t=XC("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",zIndex:99999})},onUpdate(n){e.updateProps(n),t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r;return"Escape"===n.event.key?(t[0].hide(),!0):null===(r=e.ref)||void 0===r?void 0:r.onKeyDown(n)},onExit(){t[0].destroy(),e.destroy()}}}},nR=ML.extend({name:"special-mention",renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",Ik({"data-type":this.name},this.options.HTMLAttributes,n),eR({options:this.options,node:t})]}});var rR=e=>{let{suggestion:t={},...n}=e;return nR.configure({...n,suggestion:{...tR,...t}})};let iR,oR;if("undefined"!=typeof WeakMap){let e=new WeakMap;iR=t=>e.get(t),oR=(t,n)=>(e.set(t,n),n)}else{let e=[],t=10,n=0;iR=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},oR=(r,i)=>(n==t&&(n=0),e[n++]=r,e[n++]=i)}class sR{constructor(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r}}class aR{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let r=t%this.width,i=t/this.width|0,o=r+1,s=i+1;for(let e=1;o<this.width&&this.map[t+e]==n;e++)o++;for(let e=1;s<this.height&&this.map[t+this.width*e]==n;e++)s++;return new sR(r,i,o,s)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:r,right:i,top:o,bottom:s}=this.findCell(e);return"horiz"==t?(n<0?0==r:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?0==o:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(e,t){let{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:s,right:a,top:l,bottom:c}=this.findCell(t);return new sR(Math.min(n,s),Math.min(i,l),Math.max(r,a),Math.max(o,c))}cellsInRect(e){let t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){let o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,i==e.left&&i&&this.map[o-1]==s||r==e.top&&r&&this.map[o-this.width]==s||t.push(s))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){let o=i+n.child(r).nodeSize;if(r==e){let n=t+e*this.width,r=(e+1)*this.width;for(;n<r&&this.map[n]<i;)n++;return n==r?o-1:this.map[n]}i=o}}static get(e){return iR(e)||oR(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){let i=e.child(r),o=0;if(n)for(let t=0;t<r;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let i=n.child(e);t+i.attrs.rowspan>r&&(o+=i.attrs.colspan)}}for(let e=0;e<i.childCount;e++){let t=i.child(e);o+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=o:t!=o&&(t=Math.max(t,o))}return t}(e),n=e.childCount,r=[],i=0,o=null,s=[];for(let e=0,i=t*n;e<i;e++)r[e]=0;for(let a=0,l=0;a<n;a++){let c=e.child(a);l++;for(let e=0;;e++){for(;i<r.length&&0!=r[i];)i++;if(e==c.childCount)break;let u=c.child(e),{colspan:d,rowspan:p,colwidth:h}=u.attrs;for(let e=0;e<p;e++){if(e+a>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:l,n:p-e});break}let c=i+e*t;for(let e=0;e<d;e++){0==r[c+e]?r[c+e]=l:(o||(o=[])).push({type:"collision",row:a,pos:l,n:d-e});let n=h&&h[e];if(n){let r=(c+e)%t*2,i=s[r];null==i||i!=n&&1==s[r+1]?(s[r]=n,s[r+1]=1):i==n&&s[r+1]++}}}i+=d,l+=u.nodeSize}let u=(a+1)*t,d=0;for(;i<u;)0==r[i++]&&d++;d&&(o||(o=[])).push({type:"missing",row:a,n:d}),l++}let a=new aR(t,n,r,o),l=!1;for(let e=0;!l&&e<s.length;e+=2)null!=s[e]&&s[e+1]<n&&(l=!0);l&&function(e,t,n){e.problems||(e.problems=[]);for(let r=0,i={};r<e.map.length;r++){let o=e.map[r];if(i[o])continue;i[o]=!0;let s=n.nodeAt(o),a=null;for(let n=0;n<s.attrs.colspan;n++){let i=t[2*((r+n)%e.width)];null==i||s.attrs.colwidth&&s.attrs.colwidth[n]==i||((a||(a=lR(s.attrs)))[n]=i)}a&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}(a,s,e);return a}(e))}}function lR(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function cR(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(let n in e.nodes){let r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}const uR=new er("selectingCells");function dR(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function pR(e){let t=e.selection.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function hR(e){let t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:dR(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}(t.$head)}function fR(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function mR(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function gR(e,t,n){let r=e.start(-1),i=aR.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==i?null:e.node(0).resolve(r+i)}function bR(e,t,n){let r={};for(let t in e)r[t]=e[t];return r[t]=n,r}function yR(e,t,n=1){let r=bR(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((e=>e>0))||(r.colwidth=null)),r}function vR(e,t,n=1){let r=bR(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(let e=0;e<n;e++)r.colwidth.splice(t,0,0)}return r}class wR extends An{constructor(e,t=e){let n=e.node(-1),r=aR.get(n),i=e.start(-1),o=r.rectBetween(e.pos-i,t.pos-i),s=e.node(0),a=r.cellsInRect(o).filter((e=>e!=t.pos-i));a.unshift(t.pos-i);let l=a.map((e=>{let t=n.nodeAt(e),r=e+i+1;return new Nn(s.resolve(r),s.resolve(r+t.content.size))}));super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(e,t){let n=e.resolve(t.map(this.$anchorCell.pos)),r=e.resolve(t.map(this.$headCell.pos));if(fR(n)&&fR(r)&&mR(n,r)){let e=this.$anchorCell.node(-1)!=n.node(-1);return e&&this.isRowSelection()?wR.rowSelection(n,r):e&&this.isColSelection()?wR.colSelection(n,r):new wR(n,r)}return In.between(n,r)}content(){let e=this.$anchorCell.node(-1),t=aR.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[];for(let n=r.top;n<r.bottom;n++){let s=[];for(let o=n*t.width+r.left,a=r.left;a<r.right;a++,o++){let n=t.map[o];if(!i[n]){i[n]=!0;let o=t.findCell(n),a=e.nodeAt(n),l=r.left-o.left,c=o.right-r.right;if(l>0||c>0){let e=a.attrs;l>0&&(e=yR(e,0,l)),c>0&&(e=yR(e,e.colspan-c,c)),a=o.left<r.left?a.type.createAndFill(e):a.type.create(e,a.content)}if(o.top<r.top||o.bottom>r.bottom){let e=bR(a.attrs,"rowspan",Math.min(o.bottom,r.bottom)-Math.max(o.top,r.top));a=o.top<r.top?a.type.createAndFill(e):a.type.create(e,a.content)}s.push(a)}}o.push(e.child(n).copy(Te.from(s)))}const s=this.isColSelection()&&this.isRowSelection()?e:o;return new ze(Te.from(s),1,1)}replace(e,t=ze.empty){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=e.mapping.slice(n);e.replace(a.map(o.pos),a.map(s.pos),i?ze.empty:t)}let i=An.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,t){this.replace(e,new ze(Te.from(t),0,0))}forEachCell(e){let t=this.$anchorCell.node(-1),n=aR.get(t),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<i.length;n++)e(t.nodeAt(i[n]),r+i[n])}isColSelection(){let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;let n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){let n=aR.get(e.node(-1)),r=e.start(-1),i=n.findCell(e.pos-r),o=n.findCell(t.pos-r),s=e.node(0);return i.top<=o.top?(i.top>0&&(e=s.resolve(r+n.map[i.left])),o.bottom<n.height&&(t=s.resolve(r+n.map[n.width*(n.height-1)+o.right-1]))):(o.top>0&&(t=s.resolve(r+n.map[o.left])),i.bottom<n.height&&(e=s.resolve(r+n.map[n.width*(n.height-1)+i.right-1]))),new wR(e,t)}isRowSelection(){let e=aR.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;let i=n+this.$anchorCell.nodeAfter.attrs.colspan,o=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,o)==e.width}eq(e){return e instanceof wR&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){let n=aR.get(e.node(-1)),r=e.start(-1),i=n.findCell(e.pos-r),o=n.findCell(t.pos-r),s=e.node(0);return i.left<=o.left?(i.left>0&&(e=s.resolve(r+n.map[i.top*n.width])),o.right<n.width&&(t=s.resolve(r+n.map[n.width*(o.top+1)-1]))):(o.left>0&&(t=s.resolve(r+n.map[o.top*n.width])),i.right<n.width&&(e=s.resolve(r+n.map[n.width*(i.top+1)-1]))),new wR(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new wR(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){return new wR(e.resolve(t),e.resolve(n))}getBookmark(){return new _R(this.$anchorCell.pos,this.$headCell.pos)}}wR.prototype.visible=!1,An.jsonID("cell",wR);class _R{constructor(e,t){this.anchor=e,this.head=t}map(e){return new _R(e.map(this.anchor),e.map(this.head))}resolve(e){let t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&mR(t,n)?new wR(t,n):An.near(n,1)}}function xR(e){if(!(e.selection instanceof wR))return null;let t=[];return e.selection.forEachCell(((e,n)=>{t.push(Sx.node(n,n+e.nodeSize,{class:"selectedCell"}))})),Ox.create(e.doc,t)}function kR(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole);)n--,r--,t=t.firstChild.content;let i=t.firstChild,o=i.type.spec.tableRole,s=i.type.schema,a=[];if("row"==o)for(let e=0;e<t.childCount;e++){let i=t.child(e).content,o=e?0:Math.max(0,n-1),l=e<t.childCount-1?0:Math.max(0,r-1);(o||l)&&(i=ER(cR(s).row,new ze(i,o,l)).content),a.push(i)}else{if("cell"!=o&&"header_cell"!=o)return null;a.push(n||r?ER(cR(s).row,new ze(t,n,r)).content:t)}return function(e,t){let n=[];for(let e=0;e<t.length;e++){let r=t[e];for(let t=r.childCount-1;t>=0;t--){let{rowspan:i,colspan:o}=r.child(t).attrs;for(let t=e;t<e+i;t++)n[t]=(n[t]||0)+o}}let r=0;for(let e=0;e<n.length;e++)r=Math.max(r,n[e]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Te.empty),n[i]<r){let o=cR(e).cell.createAndFill(),s=[];for(let e=n[i];e<r;e++)s.push(o);t[i]=t[i].append(Te.from(s))}return{height:t.length,width:r,rows:t}}(s,a)}function ER(e,t){let n=e.createAndFill();return new Dn(n).replace(0,n.content.size,t).doc}function MR(e,t,n,r,i,o,s,a){if(0==s||s==t.height)return!1;let l=!1;for(let c=i;c<o;c++){let i=s*t.width+c,o=t.map[i];if(t.map[i-t.width]==o){l=!0;let i=n.nodeAt(o),{top:u,left:d}=t.findCell(o);e.setNodeMarkup(e.mapping.slice(a).map(o+r),null,bR(i.attrs,"rowspan",s-u)),e.insert(e.mapping.slice(a).map(t.positionAt(s,d,n)),i.type.createAndFill(bR(i.attrs,"rowspan",u+i.attrs.rowspan-s))),c+=i.attrs.colspan-1}}return l}function CR(e,t,n,r,i,o,s,a){if(0==s||s==t.width)return!1;let l=!1;for(let c=i;c<o;c++){let i=c*t.width+s,o=t.map[i];if(t.map[i-1]==o){l=!0;let i=n.nodeAt(o),u=t.colCount(o),d=e.mapping.slice(a).map(o+r);e.setNodeMarkup(d,null,yR(i.attrs,s-u,i.attrs.colspan-(s-u))),e.insert(d+i.nodeSize,i.type.createAndFill(yR(i.attrs,0,s-u))),c+=i.attrs.rowspan-1}}return l}function DR(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc,s=aR.get(o),{top:a,left:l}=r,c=l+i.width,u=a+i.height,d=e.tr,p=0;function h(){o=n?d.doc.nodeAt(n-1):d.doc,s=aR.get(o),p=d.mapping.maps.length}(function(e,t,n,r,i,o,s){let a,l,c=cR(e.doc.type.schema);if(i>t.width)for(let o=0,u=0;o<t.height;o++){let d=n.child(o);u+=d.nodeSize;let p,h=[];p=null==d.lastChild||d.lastChild.type==c.cell?a||(a=c.cell.createAndFill()):l||(l=c.header_cell.createAndFill());for(let e=t.width;e<i;e++)h.push(p);e.insert(e.mapping.slice(s).map(u-1+r),h)}if(o>t.height){let u=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,i);e++){let i=!(e>=t.width)&&n.nodeAt(t.map[r+e]).type==c.header_cell;u.push(i?l||(l=c.header_cell.createAndFill()):a||(a=c.cell.createAndFill()))}let d=c.row.create(null,Te.from(u)),p=[];for(let e=t.height;e<o;e++)p.push(d);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),p)}return!(!a&&!l)})(d,s,o,n,c,u,p)&&h(),MR(d,s,o,n,l,c,a,p)&&h(),MR(d,s,o,n,l,c,u,p)&&h(),CR(d,s,o,n,a,u,l,p)&&h(),CR(d,s,o,n,a,u,c,p)&&h();for(let e=a;e<u;e++){let t=s.positionAt(e,l,o),r=s.positionAt(e,c,o);d.replace(d.mapping.slice(p).map(t+n),d.mapping.slice(p).map(r+n),new ze(i.rows[e-a],0,0))}h(),d.setSelection(new wR(d.doc.resolve(n+s.positionAt(a,l,o)),d.doc.resolve(n+s.positionAt(u-1,c-1,o)))),t(d)}const SR=mk({ArrowLeft:NR("horiz",-1),ArrowRight:NR("horiz",1),ArrowUp:NR("vert",-1),ArrowDown:NR("vert",1),"Shift-ArrowLeft":OR("horiz",-1),"Shift-ArrowRight":OR("horiz",1),"Shift-ArrowUp":OR("vert",-1),"Shift-ArrowDown":OR("vert",1),Backspace:TR,"Mod-Backspace":TR,Delete:TR,"Mod-Delete":TR});function AR(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function NR(e,t){return(n,r,i)=>{let o=n.selection;if(o instanceof wR)return AR(n,r,An.near(o.$headCell,t));if("horiz"!=e&&!o.empty)return!1;let s=RR(i,e,t);if(null==s)return!1;if("horiz"==e)return AR(n,r,An.near(n.doc.resolve(o.head+t),t));{let i,o=n.doc.resolve(s),a=gR(o,e,t);return i=a?An.near(a,1):t<0?An.near(n.doc.resolve(o.before(-1)),-1):An.near(n.doc.resolve(o.after(-1)),1),AR(n,r,i)}}}function OR(e,t){return(n,r,i)=>{let o=n.selection;if(!(o instanceof wR)){let r=RR(i,e,t);if(null==r)return!1;o=new wR(n.doc.resolve(r))}let s=gR(o.$headCell,e,t);return!!s&&AR(n,r,new wR(o.$anchorCell,s))}}function TR(e,t){let n=e.selection;if(!(n instanceof wR))return!1;if(t){let r=e.tr,i=cR(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(i)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new ze(i,0,0))})),r.docChanged&&t(r)}return!0}function IR(e,t){let n=dR(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new wR(n))),!0)}function LR(e,t,n){if(!pR(e.state))return!1;let r=kR(n),i=e.state.selection;if(i instanceof wR){r||(r={width:1,height:1,rows:[Te.from(ER(cR(e.state.schema).cell,n))]});let t=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),s=aR.get(t).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=function({width:e,height:t,rows:n},r,i){if(e!=r){let t=[],i=[];for(let e=0;e<n.length;e++){let o=n[e],s=[];for(let n=t[e]||0,i=0;n<r;i++){let a=o.child(i%o.childCount);n+a.attrs.colspan>r&&(a=a.type.create(yR(a.attrs,a.attrs.colspan,n+a.attrs.colspan-r),a.content)),s.push(a),n+=a.attrs.colspan;for(let n=1;n<a.attrs.rowspan;n++)t[e+n]=(t[e+n]||0)+a.attrs.colspan}i.push(Te.from(s))}n=i,e=r}if(t!=i){let e=[];for(let r=0,o=0;r<i;r++,o++){let s=[],a=n[o%t];for(let e=0;e<a.childCount;e++){let t=a.child(e);r+t.attrs.rowspan>i&&(t=t.type.create(bR(t.attrs,"rowspan",Math.max(1,i-t.attrs.rowspan)),t.content)),s.push(t)}e.push(Te.from(s))}n=e,t=i}return{width:e,height:t,rows:n}}(r,s.right-s.left,s.bottom-s.top),DR(e.state,e.dispatch,o,s,r),!0}if(r){let t=hR(e.state),n=t.start(-1);return DR(e.state,e.dispatch,n,aR.get(t.node(-1)).findCell(t.pos-n),r),!0}return!1}function jR(e,t){if(t.ctrlKey||t.metaKey)return;let n,r=FR(e,t.target);if(t.shiftKey&&e.state.selection instanceof wR)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=dR(e.state.selection.$anchor))&&zR(e,t).pos!=n.pos)i(n,t),t.preventDefault();else if(!r)return;function i(t,n){let r=zR(e,n),i=null==uR.getState(e.state);if(!r||!mR(t,r)){if(!i)return;r=t}let o=new wR(t,r);if(i||!e.state.selection.eq(o)){let n=e.state.tr.setSelection(o);i&&n.setMeta(uR,t.pos),e.dispatch(n)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",s),null!=uR.getState(e.state)&&e.dispatch(e.state.tr.setMeta(uR,-1))}function s(n){let s,a=uR.getState(e.state);if(null!=a)s=e.state.doc.resolve(a);else if(FR(e,n.target)!=r&&(s=zR(e,t),!s))return o();s&&i(s,n)}e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",s)}function RR(e,t,n){if(!(e.state.selection instanceof In))return null;let{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){let o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){let o=r.before(i),s="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?o:null}}return null}function FR(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function zR(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?dR(e.state.doc.resolve(n.pos)):null}const PR=new er("fix-tables");function BR(e,t,n,r){let i=e.childCount,o=t.childCount;e:for(let s=0,a=0;s<o;s++){let o=t.child(s);for(let t=a,r=Math.min(i,s+3);t<r;t++)if(e.child(t)==o){a=t+1,n+=o.nodeSize;continue e}r(o,n),a<i&&e.child(a).sameMarkup(o)?BR(e.child(a),o,n+1,r):o.nodesBetween(0,o.content.size,r,n+1),n+=o.nodeSize}}function UR(e,t){let n,r=(t,r)=>{"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){let i=aR.get(t);if(!i.problems)return r;r||(r=e.tr);let o,s,a=[];for(let e=0;e<i.height;e++)a.push(0);for(let e=0;e<i.problems.length;e++){let o=i.problems[e];if("collision"==o.type){let e=t.nodeAt(o.pos);for(let t=0;t<e.attrs.rowspan;t++)a[o.row+t]+=o.n;r.setNodeMarkup(r.mapping.map(n+1+o.pos),null,yR(e.attrs,e.attrs.colspan-o.n,o.n))}else if("missing"==o.type)a[o.row]+=o.n;else if("overlong_rowspan"==o.type){let e=t.nodeAt(o.pos);r.setNodeMarkup(r.mapping.map(n+1+o.pos),null,bR(e.attrs,"rowspan",e.attrs.rowspan-o.n))}else if("colwidth mismatch"==o.type){let e=t.nodeAt(o.pos);r.setNodeMarkup(r.mapping.map(n+1+o.pos),null,bR(e.attrs,"colwidth",o.colwidth))}}for(let e=0;e<a.length;e++)a[e]&&(null==o&&(o=e),s=e);for(let l=0,c=n+1;l<i.height;l++){let n=t.child(l),i=c+n.nodeSize,u=a[l];if(u>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);let a=[];for(let n=0;n<u;n++)a.push(cR(e.schema)[t].createAndFill());let d=0!=l&&o!=l-1||s!=l?i-1:c+1;r.insert(r.mapping.map(d),a)}c=i}return r.setMeta(PR,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&BR(t.doc,e.doc,0,r):e.doc.descendants(r),n}function HR(e){let t,n=e.selection,r=hR(e),i=r.node(-1),o=r.start(-1),s=aR.get(i);return t=n instanceof wR?s.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):s.findCell(r.pos-o),t.tableStart=o,t.map=s,t.table=i,t}function $R(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;(function(e,t,n){let r=cR(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0})(t,r,i+o)&&(o=0==i||i==t.width?null:0);for(let s=0;s<t.height;s++){let a=s*t.width+i;if(i>0&&i<t.width&&t.map[a-1]==t.map[a]){let o=t.map[a],l=r.nodeAt(o);e.setNodeMarkup(e.mapping.map(n+o),null,vR(l.attrs,i-t.colCount(o))),s+=l.attrs.rowspan-1}else{let l=null==o?cR(r.type.schema).cell:r.nodeAt(t.map[a+o]).type,c=t.positionAt(s,i,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function VR(e,{map:t,table:n,tableStart:r},i){let o=e.mapping.maps.length;for(let s=0;s<t.height;){let a=s*t.width+i,l=t.map[a],c=n.nodeAt(l);if(i>0&&t.map[a-1]==l||i<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,yR(c.attrs,i-t.colCount(l)));else{let t=e.mapping.slice(o).map(r+l);e.delete(t,t+c.nodeSize)}s+=c.attrs.rowspan}}function WR(e,{map:t,tableStart:n,table:r},i){let o=n;for(let e=0;e<i;e++)o+=r.child(e).nodeSize;let s=[],a=i>0?-1:0;(function(e,t,n){let r=cR(t.type.schema).header_cell;for(let i=0;i<e.width;i++)if(t.nodeAt(e.map[i+n*e.width]).type!=r)return!1;return!0})(t,r,i+a)&&(a=0==i||i==t.height?null:0);for(let o=0,l=t.width*i;o<t.width;o++,l++)if(i>0&&i<t.height&&t.map[l]==t.map[l-t.width]){let i=t.map[l],s=r.nodeAt(i).attrs;e.setNodeMarkup(n+i,null,bR(s,"rowspan",s.rowspan+1)),o+=s.colspan-1}else{let e=null==a?cR(r.type.schema).cell:r.nodeAt(t.map[l+a*t.width]).type;s.push(e.createAndFill())}return e.insert(o,cR(r.type.schema).row.create(null,s)),e}function qR(e,{map:t,table:n,tableStart:r},i){let o=0;for(let e=0;e<i;e++)o+=n.child(e).nodeSize;let s=o+n.child(i).nodeSize,a=e.mapping.maps.length;e.delete(o+r,s+r);for(let o=0,s=i*t.width;o<t.width;o++,s++){let l=t.map[s];if(i>0&&l==t.map[s-t.width]){let t=n.nodeAt(l).attrs;e.setNodeMarkup(e.mapping.slice(a).map(l+r),null,bR(t,"rowspan",t.rowspan-1)),o+=t.colspan-1}else if(i<t.width&&l==t.map[s+t.width]){let s=n.nodeAt(l),c=s.type.create(bR(s.attrs,"rowspan",s.attrs.rowspan-1),s.content),u=t.positionAt(i+1,o,n);e.insert(e.mapping.slice(a).map(r+u),c),o+=s.attrs.colspan-1}}}function KR(e){let t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function GR(e,t){let n=e.selection;if(!(n instanceof wR)||n.$anchorCell.pos==n.$headCell.pos)return!1;let r=HR(e),{map:i}=r;if(function({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,s=(r.bottom-1)*e+r.left,a=i+(r.right-r.left-1);for(let t=r.top;t<r.bottom;t++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[a]==n[a+1])return!0;o+=e,a+=e}for(let o=r.left;o<r.right;o++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[s]==n[s+e])return!0;i++,s++}return!1}(i,r))return!1;if(t){let n,o,s=e.tr,a={},l=Te.empty;for(let e=r.top;e<r.bottom;e++)for(let t=r.left;t<r.right;t++){let c=i.map[e*i.width+t],u=r.table.nodeAt(c);if(!a[c])if(a[c]=!0,null==n)n=c,o=u;else{KR(u)||(l=l.append(u.content));let e=s.mapping.map(c+r.tableStart);s.delete(e,e+u.nodeSize)}}if(s.setNodeMarkup(n+r.tableStart,null,bR(vR(o.attrs,o.attrs.colspan,r.right-r.left-o.attrs.colspan),"rowspan",r.bottom-r.top)),l.size){let e=n+1+o.content.size,t=KR(o)?n+1:e;s.replaceWith(t+r.tableStart,e+r.tableStart,l)}s.setSelection(new wR(s.doc.resolve(n+r.tableStart))),t(s)}return!0}function YR(e,t){const n=cR(e.schema);return(r=({node:e})=>n[e.type.spec.tableRole],(e,t)=>{let n,i,o=e.selection;if(o instanceof wR){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;n=o.$anchorCell.nodeAfter,i=o.$anchorCell.pos}else{if(n=function(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(o.$from),!n)return!1;i=dR(o.$from).pos}if(1==n.attrs.colspan&&1==n.attrs.rowspan)return!1;if(t){let s=n.attrs,a=[],l=s.colwidth;s.rowspan>1&&(s=bR(s,"rowspan",1)),s.colspan>1&&(s=bR(s,"colspan",1));let c,u=HR(e),d=e.tr;for(let e=0;e<u.right-u.left;e++)a.push(l?bR(s,"colwidth",l&&l[e]?[l[e]]:null):s);for(let e=u.top;e<u.bottom;e++){let t=u.map.positionAt(e,u.left,u.table);e==u.top&&(t+=n.nodeSize);for(let i=u.left,o=0;i<u.right;i++,o++)i==u.left&&e==u.top||d.insert(c=d.mapping.map(t+u.tableStart,1),r({node:n,row:e,col:i}).createAndFill(a[o]))}d.setNodeMarkup(i,r({node:n,row:u.top,col:u.left}),a[0]),o instanceof wR&&d.setSelection(new wR(d.doc.resolve(o.$anchorCell.pos),c&&d.doc.resolve(c))),t(d)}return!0})(e,t);var r}function QR(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<r.length;e++){const i=t.table.nodeAt(r[e]);if(i&&i.type!==n.header_cell)return!1}return!0}function JR(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!pR(t))return!1;if(n){let r=cR(t.schema),i=HR(t),o=t.tr,s=i.map.cellsInRect("column"==e?new sR(i.left,0,i.right,i.map.height):"row"==e?new sR(0,i.top,i.map.width,i.bottom):i),a=s.map((e=>i.table.nodeAt(e)));for(let e=0;e<s.length;e++)a[e].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[e],r.cell,a[e].attrs);if(0==o.steps.length)for(let e=0;e<s.length;e++)o.setNodeMarkup(i.tableStart+s[e],r.header_cell,a[e].attrs);n(o)}return!0}}(e):function(t,n){if(!pR(t))return!1;if(n){let r=cR(t.schema),i=HR(t),o=t.tr,s=QR("row",i,r),a=QR("column",i,r),l=("column"===e?s:"row"===e&&a)?1:0,c="column"==e?new sR(0,l,1,i.map.height):"row"==e?new sR(l,0,i.map.width,1):i,u="column"==e?a?r.cell:r.header_cell:"row"==e?s?r.cell:r.header_cell:r.cell;i.map.cellsInRect(c).forEach((e=>{const t=e+i.tableStart,n=o.doc.nodeAt(t);n&&o.setNodeMarkup(t,u,n.attrs)})),n(o)}return!0}}JR("row",{useDeprecatedLogic:!0}),JR("column",{useDeprecatedLogic:!0});let ZR=JR("cell",{useDeprecatedLogic:!0});function XR(e){return function(t,n){if(!pR(t))return!1;let r=function(e,t){if(t<0){let t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){let r=e.node(-1).child(t);if(r.childCount)return n-1-r.lastChild.nodeSize;n-=r.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let t=e.node(-1);for(let n=e.indexAfter(-1),r=e.after();n<t.childCount;n++){let e=t.child(n);if(e.childCount)return r+1;r+=e.nodeSize}}}(hR(t),e);if(null!=r){if(n){let e=t.doc.resolve(r);n(t.tr.setSelection(In.between(e,(i=e,i.node(0).resolve(i.pos+i.nodeAfter.nodeSize)))).scrollIntoView())}var i;return!0}}}class eF{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),tF(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,tF(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}}function tF(e,t,n,r,i,o){let s=0,a=!0,l=t.firstChild,c=e.firstChild;for(let e=0,n=0;e<c.childCount;e++){let{colspan:u,colwidth:d}=c.child(e).attrs;for(let e=0;e<u;e++,n++){let c=i==n?o:d&&d[e],u=c?c+"px":"";s+=c||r,c||(a=!1),l?(l.style.width!=u&&(l.style.width=u),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=u}}for(;l;){let e=l.nextSibling;l.parentNode.removeChild(l),l=e}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}const nF=new er("tableColumnResizing");function rF({handleWidth:e=5,cellMinWidth:t=25,View:n=eF,lastColumnResizable:r=!0}={}){let i=new Jn({key:nF,state:{init(e,r){return this.spec.props.nodeViews[cR(r.schema).table.name]=(e,r)=>new n(e,t,r),new iF(-1,!1)},apply:(e,t)=>t.apply(e)},props:{attributes:e=>nF.getState(e).activeHandle>-1?{class:"resize-cursor"}:null,handleDOMEvents:{mousemove(t,n){!function(e,t,n,r,i){let o=nF.getState(e.state);if(!o.dragging){let r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=-1;if(r){let{left:i,right:o}=r.getBoundingClientRect();t.clientX-i<=n?s=oF(e,t,"left"):o-t.clientX<=n&&(s=oF(e,t,"right"))}if(s!=o.activeHandle){if(!i&&-1!==s){let t=e.state.doc.resolve(s),n=t.node(-1),r=aR.get(n),i=t.start(-1);if(r.colCount(t.pos-i)+t.nodeAfter.attrs.colspan-1==r.width-1)return}aF(e,s)}}}(t,n,e,0,r)},mouseleave(e){!function(e){let t=nF.getState(e.state);t.activeHandle>-1&&!t.dragging&&aF(e,-1)}(e)},mousedown(e,n){!function(e,t,n){let r=nF.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;let i=e.state.doc.nodeAt(r.activeHandle),o=function(e,t,{colspan:n,colwidth:r}){let i=r&&r[r.length-1];if(i)return i;let o=e.domAtPos(t),s=o.node.childNodes[o.offset].offsetWidth,a=n;if(r)for(let e=0;e<n;e++)r[e]&&(s-=r[e],a--);return s/a}(e,r.activeHandle,i.attrs);function s(t){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);let r=nF.getState(e.state);r.dragging&&(!function(e,t,n){let r=e.state.doc.resolve(t),i=r.node(-1),o=aR.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let e=0;e<o.height;e++){let t=e*o.width+a;if(e&&o.map[t]==o.map[t-o.width])continue;let r=o.map[t],{attrs:c}=i.nodeAt(r),u=1==c.colspan?0:a-o.colCount(r);if(c.colwidth&&c.colwidth[u]==n)continue;let d=c.colwidth?c.colwidth.slice():lF(c.colspan);d[u]=n,l.setNodeMarkup(s+r,null,bR(c,"colwidth",d))}l.docChanged&&e.dispatch(l)}(e,r.activeHandle,sF(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(nF,{setDragging:null})))}function a(t){if(!t.which)return s(t);let r=nF.getState(e.state),i=sF(r.dragging,t,n);!function(e,t,n,r){let i=e.state.doc.resolve(t),o=i.node(-1),s=i.start(-1),a=aR.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,l=e.domAtPos(i.start(-1)).node;for(;"TABLE"!=l.nodeName;)l=l.parentNode;tF(o,l.firstChild,l,r,a,n)}(e,r.activeHandle,i,n)}e.dispatch(e.state.tr.setMeta(nF,{setDragging:{startX:t.clientX,startWidth:o}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),t.preventDefault()}(e,n,t)}},decorations(e){let t=nF.getState(e);if(t.activeHandle>-1)return function(e,t){let n=[],r=e.doc.resolve(t),i=r.node(-1),o=aR.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let e=0;e<o.height;e++){let t=a+e*o.width-1;if(!(a!=o.width&&o.map[t]==o.map[t+1]||0!=e&&o.map[t-1]==o.map[t-1-o.width])){let e=o.map[t],r=s+e+i.nodeAt(e).nodeSize-1,a=document.createElement("div");a.className="column-resize-handle",n.push(Sx.widget(r,a))}}return Ox.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}});return i}class iF{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){let t=this,n=e.getMeta(nF);if(n&&null!=n.setHandle)return new iF(n.setHandle,null);if(n&&void 0!==n.setDragging)return new iF(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){let n=e.mapping.map(t.activeHandle,-1);fR(e.doc.resolve(n))||(n=null),t=new iF(n,t.dragging)}return t}}function oF(e,t,n){let r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;let{pos:i}=r,o=dR(e.state.doc.resolve(i));if(!o)return-1;if("right"==n)return o.pos;let s=aR.get(o.node(-1)),a=o.start(-1),l=s.map.indexOf(o.pos-a);return l%s.width==0?-1:a+s.map[l-1]}function sF(e,t,n){let r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function aF(e,t){e.dispatch(e.state.tr.setMeta(nF,{setHandle:t}))}function lF(e){let t=[];for(let n=0;n<e;n++)t.push(0);return t}function cF({allowTableNodeSelection:e=!1}={}){return new Jn({key:uR,state:{init:()=>null,apply(e,t){let n=e.getMeta(uR);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;let{deleted:r,pos:i}=e.mapping.mapResult(t);return r?null:i}},props:{decorations:xR,handleDOMEvents:{mousedown:jR},createSelectionBetween(e){if(null!=uR.getState(e.state))return e.state.selection},handleTripleClick:IR,handleKeyDown:SR,handlePaste:LR},appendTransaction:(t,n,r)=>function(e,t,n){let r,i,o=(t||e).selection,s=(t||e).doc;if(o instanceof jn&&(i=o.node.type.spec.tableRole)){if("cell"==i||"header_cell"==i)r=wR.create(s,o.from);else if("row"==i){let e=s.resolve(o.from+1);r=wR.rowSelection(e,e)}else if(!n){let e=aR.get(o.node),t=o.from+1,n=t+e.map[e.width*e.height-1];r=wR.create(s,t+1,n)}}else o instanceof In&&function({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let e=t.depth;e>=0&&!(t.before(e+1)>t.start(e));e--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}(o)?r=In.create(s,o.from):o instanceof In&&function({$from:e,$to:t}){let n,r;for(let t=e.depth;t>0;t--){let r=e.node(t);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){n=r;break}}for(let e=t.depth;e>0;e--){let n=t.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){r=n;break}}return n!==r&&0===t.parentOffset}(o)&&(r=In.create(s,o.$from.start(),o.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}(r,UR(r,n),e)})}function uF(e,t,n,r,i,o){let s=0,a=!0,l=t.firstChild;const c=e.firstChild;for(let e=0,n=0;e<c.childCount;e+=1){const{colspan:u,colwidth:d}=c.child(e).attrs;for(let e=0;e<u;e+=1,n+=1){const c=i===n?o:d&&d[e],u=c?`${c}px`:"";s+=c||r,c||(a=!1),l?(l.style.width!==u&&(l.style.width=u),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=u}}for(;l;){const e=l.nextSibling;l.parentNode.removeChild(l),l=e}a?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class dF{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),uF(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type===this.node.type&&(this.node=e,uF(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"===e.type&&(e.target===this.table||this.colgroup.contains(e.target))}}function pF(e,t){return t?e.createChecked(null,t):e.createAndFill()}function hF(e,t,n,r,i){const o=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach((n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t}(e),s=[],a=[];for(let e=0;e<n;e+=1){const e=pF(o.cell,i);if(e&&a.push(e),r){const e=pF(o.header_cell,i);e&&s.push(e)}}const l=[];for(let e=0;e<t;e+=1)l.push(o.row.createChecked(null,r&&0===e?s:a));return o.table.createChecked(null,l)}const fF=({editor:e})=>{const{selection:t}=e.state;if(!(t instanceof wR))return!1;let n=0;const r=yE(t.ranges[0].$from,(e=>"table"===e.type.name));null==r||r.node.descendants((e=>{if("table"===e.type.name)return!1;["tableCell","tableHeader"].includes(e.type.name)&&(n+=1)}));return n===t.ranges.length&&(e.commands.deleteTable(),!0)},mF=$E.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:dF,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({HTMLAttributes:e}){return["table",Ik(this.options.HTMLAttributes,e),["tbody",0]]},addCommands:()=>({insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const s=hF(o.schema,e,t,n);if(i){const e=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(In.near(r.doc.resolve(e)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>function(e,t){if(!pR(e))return!1;if(t){let n=HR(e);t($R(e.tr,n,n.left))}return!0}(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>function(e,t){if(!pR(e))return!1;if(t){let n=HR(e);t($R(e.tr,n,n.right))}return!0}(e,t),deleteColumn:()=>({state:e,dispatch:t})=>function(e,t){if(!pR(e))return!1;if(t){let n=HR(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;VR(r,n,e),e!=n.left;e--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=aR.get(n.table);t(r)}return!0}(e,t),addRowBefore:()=>({state:e,dispatch:t})=>function(e,t){if(!pR(e))return!1;if(t){let n=HR(e);t(WR(e.tr,n,n.top))}return!0}(e,t),addRowAfter:()=>({state:e,dispatch:t})=>function(e,t){if(!pR(e))return!1;if(t){let n=HR(e);t(WR(e.tr,n,n.bottom))}return!0}(e,t),deleteRow:()=>({state:e,dispatch:t})=>function(e,t){if(!pR(e))return!1;if(t){let n=HR(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;qR(r,n,e),e!=n.top;e--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=aR.get(n.table);t(r)}return!0}(e,t),deleteTable:()=>({state:e,dispatch:t})=>function(e,t){let n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}(e,t),mergeCells:()=>({state:e,dispatch:t})=>GR(e,t),splitCell:()=>({state:e,dispatch:t})=>YR(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>JR("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>JR("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>ZR(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>!!GR(e,t)||YR(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>function(e,t){return function(n,r){if(!pR(n))return!1;let i=hR(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){let o=n.tr;n.selection instanceof wR?n.selection.forEachCell(((n,r)=>{n.attrs[e]!==t&&o.setNodeMarkup(r,null,bR(n.attrs,e,t))})):o.setNodeMarkup(i.pos,null,bR(i.nodeAfter.attrs,e,t)),r(o)}return!0}}(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>XR(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>XR(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&UR(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const n=wR.create(t.doc,e.anchorCell,e.headCell);t.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:fF,"Mod-Backspace":fF,Delete:fF,"Mod-Delete":fF}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[rF({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],cF({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema:e=>({tableRole:Rk(Ak(e,"tableRole",{name:e.name,options:e.options,storage:e.storage}))})});class gF{constructor(e,t){Kg(this,"build",(()=>{this.dom.className="neeto-editor-table",this.wrapper.className="neeto-editor-table__wrapper",this.dom.appendChild(this.wrapper),this.wrapper.appendChild(this.table),this.table.appendChild(this.colgroup),this.table.appendChild(this.contentDOM),this.wrapper.appendChild(this.buildController({className:"neeto-editor-table__add-column",handleClick:this.insertColumn})),this.dom.appendChild(this.buildController({className:"neeto-editor-table__add-row",handleClick:()=>this.table.insertRow()})),this.resizeColumns()})),Kg(this,"buildController",(e=>{let{className:t="",handleClick:r=n}=e;const i=document.createElement("div"),o=document.createElement("p");return i.className=t,i.onclick=r,o.textContent="+",i.appendChild(o),i})),Kg(this,"insertColumn",(()=>{const e=document.createElement("td");e.appendChild(document.createElement("p")),this.table.querySelectorAll("tr").forEach((t=>t.appendChild(e.cloneNode(!0))))})),Kg(this,"resizeColumns",(()=>{let e=0,t=!0,n=this.colgroup.firstChild;const r=this.node.firstChild;for(let i=0,o=0;i<r.childCount;++i){const{colspan:s,colwidth:a}=r.child(i).attrs;for(let r=0;r<s;++r,++o){const i=a&&a[r],o=i?`${i}px`:"";e+=i||this.cellMinWidth,i||(t=!1),n?(n.style.width!==o&&(n.style.width=o),n=n.nextSibling):this.colgroup.appendChild(document.createElement("col")).style.width=o}}for(;n;){const e=n.nextSibling;n.parentNode.removeChild(n),n=e}t?(this.table.style.width=`${e}px`,this.table.style.minWidth=""):(this.table.style.width="",this.table.style.minWidth=`${e}px`)})),this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.wrapper=document.createElement("div"),this.table=document.createElement("table"),this.colgroup=document.createElement("colgroup"),this.contentDOM=document.createElement("tbody"),this.build()}}var bF=mF.extend({addOptions:()=>({HTMLAttributes:{},resizable:!0,handleWidth:5,cellMinWidth:100,View:gF,lastColumnResizable:!0,allowTableNodeSelection:!0})}).configure({});const yF=e=>{let{onClickVariable:t,variables:n}=e;const r=function(){const e=[],t=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((n=>{const{category_key:r,category_label:i,variables:o}=n;if(r&&o){const e=o.map(we("category_key",r));t.push({label:i,variables:e})}else e.push(n)})),Sj.exports.isEmpty(e)||t.push({label:Sj.exports.isEmpty(t)?null:"Others",variables:e}),t}(n);return w(n)?null:c.createElement("div",{className:"neeto-editor-variables-list"},r.map(((e,n)=>{let{label:r,variables:i}=e;return c.createElement(vF,{index:n,key:n,title:r,variables:i,onClickItem:t})})))},vF=e=>{let{index:t,title:n,variables:r,onClickItem:i}=e;return c.createElement("div",{className:"neeto-editor-variables-block","data-cy":`neeto-editor-variable-option-category-${t}`},n&&c.createElement("h6",null,n),c.createElement("div",{className:"neeto-editor-variables-row"},r.map((e=>c.createElement("button",{className:"neeto-editor-variable","data-cy":`neeto-editor-variable-option-item-${e.label}--${e.value}`,key:`${e.label}--${e.value}`,type:"button",onClick:()=>i(e)},e.label)))))},wF=e=>{let{items:t,command:n}=e;return c.createElement("div",{className:"neeto-editor-variables-suggestion"},c.createElement(yF,{variables:t,onClickVariable:e=>{const{category_key:t,key:r}=e,i=t?`${t}.${r}`:r;n({label:i,id:i})}}))},_F=new er("variables"),xF=$E.create({name:"variable",addOptions:()=>({HTMLAttributes:{class:"neeto-editor-variable"},charOpen:"{{",charClose:"}}",renderLabel(e){let{options:t,node:n}=e;return`${t.charOpen}${n.attrs.label||n.attrs.id}${t.charClose}`},suggestion:{}}),group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}),parseHTML:()=>[{tag:"span[data-variable]"}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",Ik({"data-variable":""},this.options.HTMLAttributes,n),this.options.renderLabel({options:this.options,node:t})]},renderText(e){let{node:t}=e;return this.options.renderLabel({options:this.options,node:t})},addCommands(){return{setVariable:e=>t=>{let{chain:n}=t;n().focus().insertContent([{type:this.name,attrs:e},{type:"text",text:" "}]).run()}}},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((e=>{let{tr:t,state:n}=e,r=!1;const{selection:i}=n,{empty:o,anchor:s}=i;return!!o&&(n.doc.nodesBetween(s-1,s,((e,n)=>{if(e.type.name===this.name)return r=!0,t.insertText("",n,n+e.nodeSize),!1})),r)}))}},addProseMirrorPlugins(){return[PO({editor:this.editor,...this.options.suggestion})]}}),kF={char:"{{",startOfLine:!1,pluginKey:_F,command:e=>{let{editor:t,range:n,props:r}=e;t.chain().focus().deleteRange(n).setVariable(r).run()},items:()=>[],render:()=>{let e,t;return{onStart:n=>{e=new pD(wF,{props:n,editor:n.editor}),t=XC("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",zIndex:99999})},onUpdate(n){e.updateProps(n),t[0].setProps({getReferenceClientRect:n.clientRect})},onExit(){t[0].destroy(),e.destroy()}}}};var EF=e=>{let{suggestion:t={}}=e;return xF.configure({suggestion:{...kF,...t}})};const MF=e=>{var t;let{node:n,editor:r,getPos:i,updateAttributes:o,deleteNode:s}=e;const a=d(null),{alt:l,src:u,vidheight:p,vidwidth:h,align:f}=n.attrs,{view:m}=r;let g=p,b=h;const y=a.current?null===(t=a.current.querySelector("figcaption>div"))||void 0===t?void 0:t.textContent:l;return c.createElement(dD,{className:`neeto-editor__image-wrapper neeto-editor__image--${f}`},c.createElement("figure",{ref:a},c.createElement(gL,{align:f,deleteNode:s,updateAttributes:o}),c.createElement(mL,{lockAspectRatio:!0,className:"neeto-editor__image",size:{height:g,width:b},onResizeStop:(e,t,o)=>{g=o.offsetHeight,b=o.offsetWidth,m.dispatch(m.state.tr.setNodeMarkup(i(),void 0,{...n.attrs,vidheight:g,vidwidth:b,height:g,width:b})),r.commands.focus()}},c.createElement("video",Vy({controls:!0},n.attrs,{alt:y,preload:"metadata",src:u}))),c.createElement(uD,{as:"figcaption",className:Ka({"is-empty":w(y)})})))},CF=$E.create({name:"video",addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",draggable:!0,isolating:!0,addAttributes:()=>({src:{default:null,parseHTML:e=>{var t;return null===(t=e.querySelector("video"))||void 0===t?void 0:t.getAttribute("src")}},alt:{default:"",parseHTML:e=>{var t;return null===(t=e.querySelector("video"))||void 0===t?void 0:t.getAttribute("alt")}},vidheight:{default:288,parseHTML:e=>{var t;return null===(t=e.querySelector("video"))||void 0===t?void 0:t.getAttribute("vidheight")}},vidwidth:{default:"fit-content",parseHTML:e=>{var t;return null===(t=e.querySelector("video"))||void 0===t?void 0:t.getAttribute("vidwidth")}},align:{default:"left",parseHTML:e=>{var t;return null===(t=e.querySelector("video"))||void 0===t?void 0:t.getAttribute("align")}}}),parseHTML:()=>[{tag:"figure[data-video]",getAttrs:e=>"normal"!==e.style.fontWeight&&null,contentElement:"figcaption"}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;const{align:r,src:i,vidheight:o,vidwidth:s}=t.attrs,a={class:"neeto-editor__image",style:`height:${o}px;width:${s}px;`};return["a",{href:i,target:"_blank",rel:"noopener noreferrer",class:`neeto-editor__image-wrapper neeto-editor__image--${r}`},["figure",Ik(this.options.HTMLAttributes,{"data-video":""}),["div",a,["video",Ik(n,{preload:"metadata",controls:!0,draggable:!1,contenteditable:!1})]],["figcaption",0]]]},addNodeView:()=>fD(MF),addCommands(){return{setVideo:e=>{let{caption:t,...n}=e;return e=>{let{chain:r}=e;return r().insertContent({type:this.name,attrs:n,content:t?[{type:"text",text:t}]:[]}).command((e=>{let{tr:t,commands:n}=e;const{doc:r,selection:i}=t,o=r.resolve(i.to).end();return n.setTextSelection(o)})).run()}}}}}),DF=e=>{let{placeholder:t,extensions:n,mentions:r,variables:i,isSlashCommandsActive:o,options:s,addonCommands:l,onSubmit:c,keyboardShortcuts:u,uploadEndpoint:d,isVideoEmbedActive:p,setMediaUploader:h,setIsEmbedModalOpen:f}=e,m=[DD,CD,oA,OD,jO,_L,tA,YI,UI,RO,kD,SD.configure({mode:"shallowest"}),CF,wL({uploadEndpoint:d}),hN.configure({document:!1,codeBlock:!1,code:!1}),kL({onSubmit:c,shortcuts:u}),Dj.configure({placeholder:t}),bF.configure({resizable:!0}),iA,rA,nA];if(p&&m.push(FO),o&&m.push(Zj({options:s,addonCommands:l,setMediaUploader:h,setIsEmbedModalOpen:f})),!w(r)){const e=function(){const e=kj(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);return t=>{let{query:n}=t;if(!n)return e.slice(0,10);const r=new xj(e,{keys:["name"],threshold:.25}).search(n).slice(0,10);return a("item",r)}}(r);m.push(Cj({suggestion:{items:e}})),m.push(rR({suggestion:{items:e}}))}return w(i)||m.push(EF({suggestion:{items:()=>i}})),m=m.concat(n),m},SF=e=>{var t;let{uppy:n}=e;const[r,i]=u(0);h((()=>{n.on("upload-progress",((e,t)=>{let{progress:n}=t;return i(n)}))}),[n]);const o=`${r}%`;return c.createElement("div",{className:"ne-media-uploader__progress"},c.createElement("p",{className:"ne-media-uploader__progress-title"},"Uploading..."),c.createElement("p",{className:"ne-media-uploader__progress-file"},null===(t=n.getFiles()[0])||void 0===t?void 0:t.name),c.createElement("div",{className:"neeto-editor-progress-bar__wrapper","data-cy":"neeto-editor-image-upload-progress-bar"},c.createElement("div",{className:"neeto-editor-progress-bar__percent"},c.createElement("p",null,o),c.createElement(A,{icon:H,size:"small",style:"text",onClick:()=>n.cancelAll()})),c.createElement("div",{className:"neeto-editor-progress-bar__indicator"},c.createElement("div",{className:"neeto-editor-progress-bar__indicator-inner",style:{width:o}}))))},AF=e=>{let{isImage:t,endpoint:n,onSuccess:r}=e;const i=t?Bg:Ug,{uppy:o,isUploading:s}=Fy({endpoint:n,uppyConfig:i,onSuccess:r});return s?c.createElement(SF,{uppy:o}):c.createElement("div",{className:"ne-media-uploader__dnd-wrapper"},c.createElement(rg,{className:"ne-media-uploader__dnd","data-cy":"neeto-editor-media-local-uploader",uppy:o,locale:{strings:{dropHereOr:"Drop your file(s) here or %{browse}",browse:"Browse"}},note:`Max. File Size: ${Vg(i.restrictions.maxFileSize)}`}))},NF=e=>{let{isImage:t,url:n,editor:r,onClose:i,alt:o="",setMediaUrl:s}=e;const{t:a}=E(),[l,d]=u(o||""),[p,h]=u(!1),f=()=>{t?r.chain().focus().setFigure({src:n,caption:l,alt:l}).run():r.chain().focus().setVideo({src:n,caption:l,alt:l}).run(),i()};return c.createElement("div",{className:"ne-media-editor",onKeyDown:e=>{"Enter"===e.key&&f()}},c.createElement(A,{icon:se,iconPosition:"left",label:a("common.back"),size:"small",style:"text",onClick:()=>s("")}),p?c.createElement("div",{className:"ne-media-editor__error"},c.createElement("h2",null,"Something Went Wrong!"),c.createElement("p",null,"The selected media cannot be displayed. Please try again.")):c.createElement(c.Fragment,null,t?c.createElement("img",{loading:"lazy",src:n,onError:e=>{let{currentTarget:t}=e;h(!0),t.onerror=null}}):c.createElement("video",{src:n,onError:e=>{let{currentTarget:t}=e;h(!0),t.onerror=null}}),c.createElement(S,{autoFocus:!0,label:a("common.caption"),placeholder:"Enter a caption",value:l,onChange:e=>d(e.target.value)})),c.createElement("div",{className:"ne-media-editor__footer"},c.createElement(A,{disabled:p,label:a("common.save-changes"),onClick:f}),c.createElement(A,{label:a("common.cancel"),style:"text",onClick:i})))};var OF={},TF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.create(null);function n(e,n){return t[e]=t[e]||[],t[e].push(n),this}function r(e,t){return t._once=!0,n(e,t),this}function i(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?t[e].splice(t[e].indexOf(n),1):delete t[e],this}function o(e){for(var n=this,r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var a=t[e]&&t[e].slice();return a&&a.forEach((function(t){t._once&&i(e,t),t.apply(n,o)})),this}return TF({},e,{on:n,once:r,off:i,emit:o})},LF=Object.freeze({__proto__:null,default:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,s=void 0,a=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,f=0===e.packed.indexOf("data-")?e.packed:"data-"+e.packed,m=e.sizes.slice().reverse(),g=!1!==e.position,b=e.container.nodeType?e.container:document.querySelector(e.container),y={all:function(){return k(b.children)},new:function(){return k(b.children).filter((function(e){return!e.hasAttribute(""+f)}))}},v=[C,D,S],w=[A,N,O,T],_=IF({pack:j,update:R,resize:F});return _;function x(e){e.forEach((function(e){return e()}))}function k(e){return Array.prototype.slice.call(e)}function E(e){return Array.apply(null,Array(e)).map((function(){return 0}))}function M(){return m.map((function(e){return e.mq&&window.matchMedia("(min-width: "+e.mq+")").matches})).indexOf(!0)}function C(){r=M()}function D(){i=-1===r?m[m.length-1]:m[r]}function S(){s=E(i.columns)}function A(){d=y[t?"new":"all"]()}function N(){0!==d.length&&(p=d.map((function(e){return e.clientWidth})),h=d.map((function(e){return e.clientHeight})))}function O(){d.forEach((function(e,t){o=s.indexOf(Math.min.apply(Math,s)),e.style.position="absolute",a=s[o]+"px",l=o*p[t]+o*i.gutter+"px",g?(e.style.top=a,e.style.left=l):e.style.transform="translate3d("+l+", "+a+", 0)",e.setAttribute(f,""),c=p[t],u=h[t],c&&u&&(s[o]+=u+i.gutter)}))}function T(){b.style.position="relative",b.style.width=i.columns*c+(i.columns-1)*i.gutter+"px",b.style.height=Math.max.apply(Math,s)-i.gutter+"px"}function I(){n||(window.requestAnimationFrame(L),n=!0)}function L(){r!==M()&&(j(),_.emit("resize",i)),n=!1}function j(){return t=!1,x(v.concat(w)),_.emit("pack")}function R(){return t=!0,x(w),_.emit("update")}function F(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"addEventListener":"removeEventListener";return window[t]("resize",I),_}}}),jF=Si(LF),RF={exports:{}},FF={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=c,i=s(r),o=s(um.exports);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),r=void 0;if(this.props.useWindow){var i=document.documentElement||document.body.parentNode||document.body,o=void 0!==t.pageYOffset?t.pageYOffset:i.scrollTop;r=this.props.isReverse?o:this.calculateOffset(e,o)}else r=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;r<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,r=t.element,o=t.hasMore;t.initialLoad;var s=t.isReverse,a=t.loader;t.loadMore,t.pageStart;var l=t.ref;t.threshold,t.useCapture,t.useWindow,t.getScrollParent;var c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]);c.ref=function(t){e.scrollComponent=t,l&&l(t)};var u=[n];return o&&(a?s?u.unshift(a):u.push(a):this.defaultLoader&&(s?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),i.default.createElement(r,c,u)}}]),t}(r.Component);a.propTypes={children:o.default.node.isRequired,element:o.default.node,hasMore:o.default.bool,initialLoad:o.default.bool,isReverse:o.default.bool,loader:o.default.node,loadMore:o.default.func.isRequired,pageStart:o.default.number,ref:o.default.func,getScrollParent:o.default.func,threshold:o.default.number,useCapture:o.default.bool,useWindow:o.default.bool},a.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=a,e.exports=t["default"]}(FF,FF.exports),RF.exports=FF.exports,Object.defineProperty(OF,"__esModule",{value:!0});var zF,PF,BF=OF.default=void 0,UF=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),HF=c,$F=KF(HF),VF=KF(um.exports),WF=KF(jF),qF=KF(RF.exports);function KF(e){return e&&e.__esModule?e:{default:e}}function GF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var QF=(PF=zF=function(e){function t(){var e,n,r;GF(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=YF(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setContainerRef=function(e){r.masonryContainer=e},r.forcePack=function(){r.masonryContainer&&r.state.instance.pack()},r.forceUpdate=function(){r.masonryContainer&&r.state.instance.update()},r.createNewInstance=function(){var e=r.props,t=e.packed,n=e.sizes,i=e.children,o=e.position,s=(0,WF.default)({container:r.masonryContainer,packed:t,sizes:n,position:o});s.resize(!0),i.length>0&&s.pack(),r.setState((function(){return{instance:s}}))},YF(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HF.Component),UF(t,[{key:"componentDidMount",value:function(){this.createNewInstance()}},{key:"componentDidUpdate",value:function(e){var t=this.props.children,n=this.state.instance;if(0!==e.children.length||0!==t.length)return 0===e.children.length&&t.length>0?n.pack():e.children.length!==t.length?this.props.pack?n.pack():n.update():void 0}},{key:"componentWillUnmount",value:function(){this.state&&this.state.instance.resize(!1)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.style;e.pack,e.packed,e.position,e.sizes;var i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className","style","pack","packed","position","sizes"]);return $F.default.createElement(qF.default,i,$F.default.createElement("div",{ref:this.setContainerRef,className:n,style:r},t))}}]),t}(),zF.propTypes={children:VF.default.arrayOf(VF.default.element).isRequired,className:VF.default.string,initialLoad:VF.default.bool,pack:VF.default.bool,packed:VF.default.string,position:VF.default.bool,sizes:VF.default.array,style:VF.default.object},zF.defaultProps={className:"",initialLoad:!0,pack:!1,packed:"data-packed",position:!0,sizes:[{columns:1,gutter:20},{mq:"768px",columns:2,gutter:20},{mq:"1024px",columns:3,gutter:20}],style:{}},PF);BF=OF.default=QF;const JF=e=>{let{onSubmit:t,unsplashApiKey:n}=e;const r=d(null),[i,o]=u(""),[s,a]=u(!1),[l,p]=u([]),[f,m]=u(1),[g,b]=u(!0),[y,v]=u(!1),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;const[n,r]=u(e);return h((()=>{const n=setTimeout((()=>{r(e)}),t);return()=>{clearTimeout(n)}}),[e,t]),n}(i||"latest");h((()=>{_(1)}),[w]);const _=async e=>{try{v(!0),a(!1);const t=await(e=>{let{pageNo:t,query:n,apiKey:r}=e;return ve.get(nr,{headers:{Authorization:`Client-ID ${r}`},params:{page:t,per_page:30,order_by:"popular",query:n}})})({page:e,query:w,apiKey:n}),{data:{results:r,total_pages:i}}=t;p(1===e?r:[...l,...r]),m(e+1),b(e<i)}catch{a(!0)}finally{v(!1)}},x=c.createElement("div",{className:"neeto-editor-unsplash-gallery__loader"},c.createElement(L,null));return c.createElement("div",{className:"neeto-editor-unsplash-wrapper"},c.createElement(S,{autoFocus:!0,className:"neeto-editor-unsplash-search","data-cy":"neeto-editor-unsplash-image-picker-search-input",name:"text",placeholder:"Search Unsplash",value:i,onChange:e=>{let{target:{value:t}}=e;o(t)}}),s&&c.createElement("p",{className:"neeto-editor-unsplash-gallery__text","data-cy":"neeto-editor-unsplash-image-picker-error"},"Something went wrong! Please try again later."),!s&&!y&&cs(l)&&c.createElement("p",{className:"neeto-editor-unsplash-gallery__text","data-cy":"neeto-editor-unsplash-image-picker-no-results-error"},"No results"),!s&&c.createElement("div",{className:"neeto-editor-unsplash-container"},c.createElement(BF,{pack:!0,position:!0,className:"neeto-editor-unsplash-gallery",hasMore:g,loadMore:()=>{!y&&g&&f>1&&_(f)},loader:x,ref:r,style:{width:"100%"},useWindow:!1,sizes:[{columns:3,gutter:0},{mq:"768px",columns:3,gutter:0},{mq:"1024px",columns:3,gutter:0}]},l&&l.map(((e,n)=>c.createElement("div",{className:"neeto-editor-unsplash-gallery__item","data-cy":`neeto-editor-unsplash-image-picker-result-${n}`,key:n},c.createElement("div",{className:"neeto-editor-unsplash-gallery__item-placeholder",style:{paddingBottom:`${e.height/e.width*100}%`}},c.createElement("div",{className:"neeto-editor-unsplash-gallery__item-inner",id:`unsplashImage${n}`},c.createElement("img",{src:e.urls.regular,onClick:()=>t(e.urls.small)}),c.createElement("a",{href:`https://unsplash.com/@${e.user.username}`,rel:"noreferrer",target:"_blank"},e.user.name," "))))))),!g&&c.createElement("p",{className:"neeto-editor-unsplash-gallery__text"},"End of results")))},ZF=e=>{let{buttonLabel:t="Submit",placeholder:n,onSubmit:r,className:i}=e;const{t:o}=E(),[s,a]=u(""),[l,d]=u("");return c.createElement("div",{className:Ka("neeto-editor-url-form__wrapper",{[i]:i})},c.createElement(S,{autoFocus:!0,"data-cy":"neeto-editor-media-upload-url-input",error:l,name:"url",placeholder:n,value:s,onChange:e=>{let{target:{value:t}}=e;return a(t)},onFocus:()=>d("")}),c.createElement(A,{"data-cy":"neeto-editor-media-upload-url-submit",disabled:!s,label:t,onClick:e=>{e.preventDefault(),ir.test(s)?r(s):d(o("error.invalid-url"))}}))},XF=e=>{let{mediaUploader:t,onClose:n,editor:r,uploadEndpoint:i,unsplashApiKey:o}=e;const[s,a]=u("local"),[l,d]=u(""),p=t.image||t.video;let h=o?$g:$g.slice(0,2);t.video&&(h=[]);const f=()=>{n(),d(""),a("local")};return c.createElement(I,{closeButton:!1,isOpen:p,onClose:f},c.createElement("div",{className:"ne-media-uploader"},!cs(h)&&c.createElement(R,null,h.map((e=>{let{key:t,title:n}=e;return c.createElement(R.Item,{active:s===t,key:t,onClick:()=>{d(""),a(t)}},n)}))),c.createElement("div",{className:"ne-media-uploader__content"},l?c.createElement(NF,{editor:r,isImage:t.image,setMediaUrl:d,url:l,onClose:f}):c.createElement(c.Fragment,null,"local"===s&&c.createElement(AF,{endpoint:i,isImage:t.image,onSuccess:d}),"link"===s&&c.createElement(ZF,{placeholder:"Paste the link here...",buttonLabel:t.image?"Upload image":"Upload video",onSubmit:d}),"unsplash"===s&&c.createElement(JF,{unsplashApiKey:o,onSubmit:d})))))};var ez=[],tz=[];function nz(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",i=!0===t.singleTag,o="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var s=ez.indexOf(o);-1===s&&(s=ez.push(o)-1,tz[s]={}),n=tz[s]&&tz[s][r]?tz[s][r]:tz[s][r]=a()}else n=a();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function a(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),i=0;i<n.length;i++)e.setAttribute(n[i],t.attributes[n[i]]);var s="prepend"===r?"afterbegin":"beforeend";return o.insertAdjacentElement(s,e),e}}nz(".tippy-box[data-placement^=top]>.tippy-svg-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-svg-arrow:after,.tippy-box[data-placement^=top]>.tippy-svg-arrow>svg{top:16px;transform:rotate(180deg)}.tippy-box[data-placement^=bottom]>.tippy-svg-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-svg-arrow>svg{bottom:16px}.tippy-box[data-placement^=left]>.tippy-svg-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-svg-arrow:after,.tippy-box[data-placement^=left]>.tippy-svg-arrow>svg{transform:rotate(90deg);top:calc(50% - 3px);left:11px}.tippy-box[data-placement^=right]>.tippy-svg-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-svg-arrow:after,.tippy-box[data-placement^=right]>.tippy-svg-arrow>svg{transform:rotate(-90deg);top:calc(50% - 3px);right:11px}.tippy-svg-arrow{width:16px;height:16px;fill:#333;text-align:initial}.tippy-svg-arrow,.tippy-svg-arrow>svg{position:absolute}",{});const rz=e=>{let{editor:t,handleClose:n,handleAnimateInvalidLink:r}=e;const[i,o]=u("");h((()=>{o(t.getAttributes("link").href||"")}),[t]);const s=()=>{ir.test(i)?(t.chain().focus().setLink({href:i}).run(),n()):cs(i)?(t.chain().focus().unsetLink().run(),n()):(o(""),r())};return c.createElement("div",{className:"neeto-editor-bubble-menu__link",onKeyDown:e=>{"Escape"===e.key?n():"Enter"===e.key&&s()}},c.createElement("input",{autoFocus:!0,className:"neeto-editor-bubble-menu-link__input","data-cy":"neeto-editor-link-input",name:"url",placeholder:"Paste or type a link...",value:i,onChange:e=>{let{target:{value:t}}=e;return o(t)}}),c.createElement(A,{"data-cy":"neeto-editor-link-cancel-button",icon:H,size:"small",style:"icon",onClick:()=>{i?(o(""),t.chain().focus().unsetLink().run()):n()}}))},iz=e=>{let{tooltip:t,Icon:n,command:r,active:i,optionName:o,highlight:s}=e;return c.createElement(A,Vy({"data-cy":`neeto-editor-bubble-menu-${o}-option`,icon:n,key:o,size:"small",style:i?"secondary":"text",tooltipProps:{content:t,position:"bottom",theme:"dark",delay:[500]},onClick:r},Tj(s)))},oz=e=>{let{editor:t,mentions:n,tooltipContent:r}=e;const i=kj(n),{Menu:o,MenuItem:s}=O;return w(i)?null:c.createElement(O,{buttonStyle:"text","data-cy":"neeto-editor-mention-option",icon:ae,strategy:"fixed",buttonProps:{tooltipProps:{content:r,position:"bottom"},className:"neeto-editor-fixed-menu__item"}},c.createElement(o,null,i.map((e=>{let{key:n,name:r,imageUrl:i}=e;return c.createElement(s.Button,{"data-cy":`neeto-editor-mention-option-${n}`,key:n,onClick:()=>t.commands.setMention({id:n,label:r})},c.createElement(j,{size:"small",user:{name:r,imageUrl:i}}),c.createElement(N,{style:"body2"},r))}))))},sz=e=>{let{editor:t,isActive:n,setActive:r,tooltipContent:i}=e;return c.createElement(O,{buttonStyle:"text",closeOnSelect:!1,dropdownProps:{classNames:"neeto-editor-fixed-menu__emoji-dropdown"},icon:te,isOpen:n,position:"bottom-start",strategy:"fixed",buttonProps:{tooltipProps:{content:i,position:"bottom"},className:"neeto-editor-fixed-menu__item"},onClick:()=>r((e=>!e)),onClose:()=>r(!1)},c.createElement(PI,{editor:t,setActive:r}))},az=e=>{let{size:t,color:n,strokeWidth:r,...i}=e;return c.createElement("svg",Vy({fill:"none",height:t,viewBox:"0 0 24 24",width:t},i),c.createElement("path",{d:"M13.8791 8.37527L8.39309 13.8613C7.56709 14.6873 7.56709 16.0273 8.39309 16.8533C9.21909 17.6793 10.5591 17.6793 11.3851 16.8533L18.6171 9.62127C20.1321 8.10627 20.1321 5.65027 18.6171 4.13527C17.1021 2.62027 14.6461 2.62027 13.1311 4.13527L5.89909 11.3673C3.69509 13.5713 3.69509 17.1433 5.89909 19.3473C8.10309 21.5513 11.6751 21.5513 13.8791 19.3473L18.2681 14.9583",stroke:n,strokeWidth:r}))};az.defaultProps={color:"currentColor",size:24,strokeWidth:"1.5"},az.propTypes={color:um.exports.string,size:um.exports.oneOfType([um.exports.string,um.exports.number]),strokeWidth:um.exports.oneOfType([um.exports.string,um.exports.number])};const{t:lz}=Ma,cz=[{label:"Paragraph",value:0},{label:"Heading 1",value:1},{label:"Heading 2",value:2},{label:"Heading 3",value:3}],uz=e=>{let{tooltips:t,editor:n,options:r,setMediaUploader:i,handleUploadAttachments:o,setIsEmbedModalOpen:s}=e;const a=(e=>{let{tooltips:t,editor:n,setMediaUploader:r,handleUploadAttachments:i,setIsEmbedModalOpen:o}=e;return{font:[{Icon:le,command:()=>n.chain().focus().toggleBold().run(),active:n.isActive("bold"),optionName:"bold",tooltip:t.bold||lz("menu.bold")},{Icon:ce,command:()=>n.chain().focus().toggleItalic().run(),active:n.isActive("italic"),optionName:"italic",tooltip:t.italic||lz("menu.italic")},{Icon:ue,command:()=>n.chain().focus().toggleUnderline().run(),active:n.isActive("underline"),optionName:"underline",tooltip:t.underline||lz("menu.underline")},{Icon:de,command:()=>n.chain().focus().toggleStrike().run(),active:n.isActive("strike"),optionName:"strike",tooltip:t.strike||lz("menu.strike")},{Icon:pe,command:()=>n.chain().focus().toggleHighlight().run(),active:n.isActive("highlight"),optionName:"highlight",tooltip:t.highlight||lz("menu.highlight")}],block:[{Icon:he,command:()=>n.chain().focus().toggleBlockquote().run(),active:n.isActive("blockquote"),optionName:"block-quote",highlight:!0,tooltip:t.blockQuote||lz("menu.block-quote")},{Icon:ee,command:()=>n.chain().focus().toggleCode().run(),active:n.isActive("code"),optionName:"code",tooltip:t.code||lz("menu.code")}],list:[{Icon:Q,command:()=>n.chain().focus().toggleBulletList().run(),active:n.isActive("bulletList"),optionName:"bullet-list",highlight:!0,tooltip:t.bulletList||lz("menu.bullet-list")},{Icon:Y,command:()=>n.chain().focus().toggleOrderedList().run(),active:n.isActive("orderedList"),optionName:"ordered-list",highlight:!0,tooltip:t.orderedList||lz("menu.ordered-list")}],misc:[{Icon:az,command:i,active:!1,optionName:"attachments",tooltip:t.attachments||lz("menu.attachments")},{Icon:J,command:()=>r(we("image",!0)),optionName:"image-upload",tooltip:t.imageUpload||lz("menu.image-upload")},{Icon:Z,command:()=>r(we("video",!0)),optionName:"video-upload",tooltip:t.videoUpload||lz("menu.video-upload")},{Icon:re,command:()=>o(!0),optionName:"video-embed",tooltip:t.videoEmbed||lz("menu.video-embed")},{Icon:oe,command:()=>n.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),optionName:"table",tooltip:t.table||lz("menu.table")}],right:[{Icon:fe,command:()=>n.chain().focus().undo().run(),active:!1,disabled:!n.can().undo(),optionName:"undo",tooltip:t.undo||lz("menu.undo")},{Icon:me,command:()=>n.chain().focus().redo().run(),active:!1,disabled:!n.can().redo(),optionName:"redo",tooltip:t.redo||lz("menu.redo")}]}})({tooltips:t,editor:n,setMediaUploader:i,handleUploadAttachments:o,setIsEmbedModalOpen:s});return De(["font","block","list","misc","right"].map((e=>[e,a[e].filter((e=>r.includes(e.optionName)))])))},dz=e=>{let{Icon:t,command:n,active:r,optionName:i,highlight:o,disabled:s,tooltip:a}=e;return c.createElement(A,Vy({className:"neeto-editor-fixed-menu__item","data-cy":`neeto-editor-fixed-menu-${i}-option`,disabled:s,icon:t,key:i,style:r?"secondary":"text",tooltipProps:{content:a,position:"bottom"},onClick:n},Tj(o)))},pz=e=>{let{editor:t,commands:n}=e;const{to:r}=t.state.selection;return n.map((e=>{var n;return{...e,active:null===(n=e.active)||void 0===n?void 0:n.call(e,{editor:t}),command:()=>{var n;return null===(n=e.command)||void 0===n?void 0:n.call(e,{editor:t,range:{from:r,to:r}})}}}))},hz=e=>{let{editor:t,options:n,mentions:r,tooltips:i,setIsInvalidLink:o,isLinkOptionActive:s,setIsLinkOptionActive:a,setMediaUploader:l,handleUploadAttachments:u,isEmojiPickerActive:d,setIsEmojiPickerActive:p,setIsEmbedModalOpen:h}=e;const{t:f}=E(),{Menu:m,MenuItem:g}=O,b=(e=>{let{editor:t}=e;return[{optionName:"Heading 1",active:t.isActive("heading",{level:1}),command:()=>t.chain().focus().setNode("heading",{level:1}).run()},{optionName:"Heading 2",active:t.isActive("heading",{level:2}),command:()=>t.chain().focus().setNode("heading",{level:2}).run()},{optionName:"Heading 3",active:t.isActive("heading",{level:3}),command:()=>t.chain().focus().setNode("heading",{level:3}).run()},{optionName:"Ordered List",active:t.isActive("orderedList"),command:()=>t.chain().focus().toggleOrderedList().run()},{optionName:"Bulleted List",active:t.isActive("bulletList"),command:()=>t.chain().focus().toggleBulletList().run()},{optionName:"Text",active:t.isActive("paragraph"),command:()=>t.chain().focus().setNode("paragraph").run()}]})({editor:t}),y=(e=>{var t;return(null===(t=e.find(Ce("active")))||void 0===t?void 0:t.optionName)||"Text"})(b),v=n.includes(tr.EMOJI),w=n.includes(tr.LINK),{font:_,block:x,list:k}=uz({editor:t,options:n,setMediaUploader:l,tooltips:i,handleUploadAttachments:u,setIsEmbedModalOpen:h}),M=()=>{o(!0),setTimeout((()=>{o(!1)}),1e3)};return s?c.createElement(rz,{editor:t,handleAnimateInvalidLink:M,handleClose:()=>a(!1)}):c.createElement(c.Fragment,null,c.createElement(O,{buttonSize:"small",buttonStyle:"text",label:y,strategy:"fixed"},c.createElement(m,null,b.map((e=>{let{optionName:t,command:n}=e;return c.createElement(g.Button,{key:t,onClick:n},t)})))),_.map(iz),x.map(iz),v&&c.createElement(sz,{editor:t,isActive:d,setActive:p,tooltipContent:i.emoji||f("menu.emoji")}),k.map(iz),w&&iz({Icon:ge,command:()=>a(!0),active:t.isActive("link"),optionName:"link",highlight:!1,tooltip:i.link||f("menu.link")}),c.createElement(oz,{editor:t,mentions:r,tooltipContent:i.mention||f("menu.mention")}))},fz=e=>{let{editor:t,options:n,mentions:r=[],setMediaUploader:i,tooltips:o={},handleUploadAttachments:s,isEmojiPickerActive:a,setIsEmojiPickerActive:l,setIsEmbedModalOpen:d}=e;const[p,h]=u(!1),[f,m]=u(!1),g=t&&t.view.state.selection.node,b=g&&"image"===g.type.name,y=[tr.BOLD,tr.ITALIC,tr.UNDERLINE,tr.STRIKETHROUGH,tr.LINK],v=cs(n.filter((e=>y.includes(e))));return!t||!b&&v?null:c.createElement("div",null,c.createElement(rD,{editor:t,className:Ka("neeto-editor-bubble-menu",{"neeto-editor-bubble-menu-animate-shake":p}),tippyOptions:{arrow:dC,zIndex:99999,onHide:()=>m(!1),theme:"neeto-editor-bubble-menu",maxWidth:500}},c.createElement(hz,{editor:t,handleUploadAttachments:s,isEmojiPickerActive:a,isLinkOptionActive:f,mentions:r,options:n,setIsEmbedModalOpen:d,setIsEmojiPickerActive:l,setIsInvalidLink:h,setIsLinkOptionActive:m,setMediaUploader:i,tooltips:o})))},{Menu:mz,MenuItem:gz}=O,bz=e=>{var t;let{editor:n,tooltipContent:r}=e;const i=(null===(t=cz.find((e=>{let{value:t}=e;return r=t,n.isActive("heading",{level:r});var r})))||void 0===t?void 0:t.label)||"Paragraph";return c.createElement(O,{autoWidth:!0,buttonStyle:"text","data-cy":"neeto-editor-fixed-menu-font-size-option",label:i,placement:"bottom-start",buttonProps:{tooltipProps:{content:r,position:"bottom"},className:"neeto-editor-fixed-menu__item neeto-editor-font-size__wrapper"}},c.createElement(mz,null,cz.map((e=>{let{label:t,value:r}=e;return c.createElement(gz.Button,{"data-cy":`neeto-editor-fixed-menu-font-size-option-${t}`,key:r,onClick:()=>{return(e=r)?n.chain().focus().toggleHeading({level:e}).run():n.chain().focus().setNode("paragraph").run();var e}},t)}))))},{Menu:yz}=O,vz=e=>{let{editor:t,tooltipContent:n}=e;const{t:r}=E(),[i,o]=u(""),[s,a]=u(""),[l,d]=u(!1),p=t.isActive("link"),h=()=>{d(!1),a(""),o("")},f=()=>{ir.test(s)?(t.chain().focus().setLink({href:s}).run(),h()):o(r("errors.invalid-url"))};return c.createElement(O,{buttonStyle:p?"secondary":"text",closeOnSelect:!1,"data-cy":"neeto-editor-fixed-menu-link-option",icon:ge,isOpen:l,position:"bottom",buttonProps:{tooltipProps:{content:n,position:"bottom"},className:"neeto-editor-fixed-menu__item"},onClick:()=>{a(t.getAttributes("link").href),d((e=>!e))},onClose:h},c.createElement(yz,{className:"neeto-editor-link__item",onKeyDown:e=>{"Escape"===e.key?h():"Enter"===e.key&&f()}},c.createElement(S,{autoFocus:!0,"data-cy":"neeto-editor-fixed-menu-link-option-input",error:i,name:"url",placeholder:r("placeholders.url"),value:s,onChange:e=>{let{target:{value:t}}=e;return a(t)},onFocus:()=>o("")}),c.createElement(A,{"data-cy":"neeto-editor-fixed-menu-link-option-link-button",label:r("menu.link"),onClick:f}),p&&c.createElement(A,{"data-cy":"neeto-editor-fixed-menu-link-option-unlink-button",label:r("common.unlink"),style:"text",onClick:()=>{t.chain().focus().unsetLink().run(),a(""),h()}})))},{Menu:wz}=O,_z=e=>{let{editor:t,variables:n,tooltipContent:r}=e;return w(n)?null:c.createElement(O,{buttonSize:"small",buttonStyle:"secondary","data-cy":"neeto-editor-variable-option",icon:be,strategy:"fixed",buttonProps:{tooltipProps:{content:r,position:"bottom"}}},c.createElement(wz,null,c.createElement(yF,{variables:n,onClickVariable:e=>{const{category_key:n,key:r}=e,i=n?`${n}.${r}`:r;t.chain().focus().setVariable({label:i}).run()}})))},xz=t=>{let{editor:n,options:r,mentions:i=[],variables:o=[],setMediaUploader:s,addonCommands:a=[],isIndependant:l=!0,className:u,tooltips:d={},handleUploadAttachments:p,isEmojiPickerActive:h,setIsEmojiPickerActive:f,setIsEmbedModalOpen:m}=t;const{t:g}=E();if(!n)return null;const{font:b,block:y,list:v,misc:w,right:_}=uz({tooltips:d,editor:n,options:r,setMediaUploader:s,handleUploadAttachments:p,setIsEmbedModalOpen:m}),x=r.filter((e=>e.match(/^h[1-6]$/))),k=e(x),M=r.includes(tr.EMOJI),C=r.includes(tr.LINK),D=pz({editor:n,commands:a});return c.createElement("div",{className:Ka("neeto-editor-fixed-menu",{"neeto-editor-fixed-menu--independant":l,[u]:u})},c.createElement("div",{className:"neeto-editor-fixed-menu__wrapper"},k&&c.createElement(bz,{editor:n,tooltipContent:d.fontSize||g("menu.font-size")}),b.map(dz),y.map(dz),M&&c.createElement(sz,{editor:n,isActive:h,setActive:f,tooltipContent:d.emoji||g("menu.emoji")}),v.map(dz),C&&c.createElement(vz,{editor:n,tooltipContent:d.link||g("menu.link")}),w.map(dz),c.createElement(oz,{editor:n,mentions:i,tooltipContent:d.mention||g("menu.mention")}),D.map(dz),c.createElement("div",{className:"neeto-editor-fixed-menu__right-options"},_.map(dz))),c.createElement("div",{className:"neeto-editor-fixed-menu__variables"},c.createElement(_z,{editor:n,tooltipContent:d.variables||g("menu.variables"),variables:o})))},kz=e=>{let{icon:t=null,onClick:r=n,disabled:i=!1,className:o,tooltipProps:s,...a}=e;const l=t;return c.createElement(D,Vy({disabled:!s,onClick:()=>r()},s),c.createElement("button",Vy({className:Ka("ne-headless-btn",{[o]:o}),disabled:i,type:"button",onClick:r},a),t&&c.createElement(l,{"aria-hidden":"true",key:"2",size:18})))},Ez={name:"hideOnEsc",defaultValue:!0,fn(e){let{hide:t,props:{hideOnEsc:n,onClose:r}}=e;function i(e){"escape"===e.key.toLowerCase()&&n&&(r(),t())}return{onShow(){document.addEventListener("keydown",i)},onHide(){document.removeEventListener("keydown",i)}}}},Mz=e=>{let{icon:t,isOpen:r,onClose:i=n,children:o,className:s,onClick:a,buttonProps:l={},...d}=e;const[p,h]=u(!1);return c.createElement(Vj,Vy({hideOnEsc:!0,interactive:!0,animation:!1,arrow:!1,duration:0,hideOnClick:!1,maxWidth:"none",offset:0,plugins:[Ez],popperOptions:{strategy:"fixed"},role:"dropdown",theme:"light",trigger:"click",visible:r,className:Ka("ne-headless-dropdown",{[s]:s}),content:p&&c.createElement("div",{className:"ne-headless-dropdown__popup"},o),onClickOutside:i,onClose:i,onHidden:()=>h(!1),onMount:()=>h(!0)},d),c.createElement("span",null,c.createElement(kz,Vy({icon:t,onClick:a},l))))},Cz=e=>{let{editor:t,isActive:n,setActive:r,tooltipContent:i}=e;return c.createElement(Mz,{className:"ne-headless__emoji",icon:te,isOpen:n,buttonProps:{tooltipProps:{content:i,delay:[500],position:"bottom"}},onClick:()=>r((e=>!e)),onClose:()=>r(!1)},c.createElement(PI,{editor:t,setActive:r}))},Dz=e=>{let{editor:t,optionName:n,command:r,disabled:i,Icon:o,isActive:s,setActive:a,tooltip:l}=e;return n===tr.EMOJI?c.createElement(Cz,{editor:t,isActive:s,setActive:a,tooltipContent:l||"Emoji"}):c.createElement(kz,{className:s?"ne-headless-btn--active":"",disabled:i,icon:o,tooltipProps:{content:l,delay:[500],position:"bottom"},onClick:r})},{t:Sz}=Ma,Az=e=>{let{tooltips:r,editor:i,options:o,setMediaUploader:s,handleUploadAttachments:a,isEmojiPickerActive:l,setIsEmojiPickerActive:c,setIsEmbedModalOpen:u}=e;const d=(e=>{let{editor:t,tooltips:r,setMediaUploader:i,handleUploadAttachments:o,isEmojiPickerActive:s,setIsEmojiPickerActive:a,setIsEmbedModalOpen:l}=e;return[{Icon:le,command:()=>t.chain().focus().toggleBold().run(),active:t.isActive("bold"),optionName:"bold",tooltip:r.bold||Sz("menu.bold")},{Icon:ce,command:()=>t.chain().focus().toggleItalic().run(),active:t.isActive("italic"),optionName:"italic",tooltip:r.italic||Sz("menu.italic")},{Icon:ue,command:()=>t.chain().focus().toggleUnderline().run(),active:t.isActive("underline"),optionName:"underline",tooltip:r.underline||Sz("menu.underline")},{Icon:de,command:()=>t.chain().focus().toggleStrike().run(),active:t.isActive("strike"),optionName:"strike",tooltip:r.strike||Sz("menu.strike")},{Icon:pe,command:()=>t.chain().focus().toggleHighlight().run(),active:t.isActive("highlight"),optionName:"highlight",tooltip:r.highlight||Sz("menu.highlight")},{Icon:he,command:()=>t.chain().focus().toggleBlockquote().run(),active:t.isActive("blockquote"),optionName:"block-quote",tooltip:r.blockQuote||Sz("menu.block-quote")},{Icon:ee,command:()=>t.chain().focus().toggleCode().run(),active:t.isActive("code"),optionName:"code",tooltip:r.code||Sz("menu.code")},{Icon:Q,command:()=>t.chain().focus().toggleBulletList().run(),active:t.isActive("bulletList"),optionName:"bullet-list",tooltip:r.bulletList||Sz("menu.bullet-list")},{Icon:Y,command:()=>t.chain().focus().toggleOrderedList().run(),active:t.isActive("orderedList"),optionName:"ordered-list",tooltip:r.orderedList||Sz("menu.ordered-list")},{Icon:ye,command:o,optionName:"attachments",tooltip:r.attachments||Sz("menu.attachments")},{Icon:J,command:()=>i(we("image",!0)),optionName:"image-upload",tooltip:r.imageUpload||Sz("menu.image-upload")},{Icon:Z,command:()=>i(we("video",!0)),optionName:"video-upload",tooltip:r.videoUpload||Sz("menu.video-upload")},{Icon:re,command:()=>l(!0),optionName:"video-embed",tooltip:r.videoEmbed||Sz("menu.video-embed")},{Icon:te,command:n,optionName:"emoji",tooltip:r.emoji||Sz("menu.emoji"),isActive:s,setActive:a},{Icon:oe,command:()=>t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),optionName:"table",tooltip:r.table||Sz("menu.table")},{Icon:fe,command:()=>t.chain().focus().undo().run(),disabled:!t.can().undo(),optionName:"undo",tooltip:r.undo||Sz("menu.undo")},{Icon:me,command:()=>t.chain().focus().redo().run(),disabled:!t.can().redo(),optionName:"redo",tooltip:r.redo||Sz("menu.redo")}]})({editor:i,tooltips:r,setMediaUploader:s,handleUploadAttachments:a,isEmojiPickerActive:l,setIsEmojiPickerActive:c,setIsEmbedModalOpen:u});return o.map((e=>t({optionName:e},d))).filter(Boolean)},Nz=e=>{let{editor:t,options:n,tooltips:r={},setMediaUploader:i,addonCommands:o=[],children:s,className:a,handleUploadAttachments:l,isEmojiPickerActive:u,setIsEmojiPickerActive:d,setIsEmbedModalOpen:p}=e;if(!t)return null;const h=[...Az({tooltips:r,editor:t,options:n,setMediaUploader:i,handleUploadAttachments:l,isEmojiPickerActive:u,setIsEmojiPickerActive:d,setIsEmbedModalOpen:p}),...pz({editor:t,commands:o})];return c.createElement("div",{className:Ka("ne-headless",{[a]:a})},h.map((e=>c.createElement(Dz,Vy({editor:t,key:e.optionName},e)))),s)},Oz=e=>{const[t,n]=u(!1),[r,i]=u(!1),[o,s]=u({image:!1,video:!1}),{menuType:a="fixed",addons:l=[],options:d=[],editor:p,uploadEndpoint:f=rr,editorSecrets:m={},handleUploadAttachments:g}=e,b={fixed:xz,bubble:fz,headless:Nz,none:()=>c.createElement("div",null)}[a],y=w(d)?[...cr,...l]:d;return h((()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&e.altKey&&("KeyE"===e.code?n((e=>!e)):"KeyA"===e.code?g():"KeyK"===e.code?s(we("image",!0)):"KeyV"===e.code&&s(we("video",!0)))};return"none"!==a&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),c.createElement(c.Fragment,null,c.createElement(b,Vy({},e,{handleUploadAttachments:g,isEmojiPickerActive:t,options:y,setIsEmbedModalOpen:i,setIsEmojiPickerActive:n,setMediaUploader:s})),c.createElement(XF,{editor:p,mediaUploader:o,unsplashApiKey:m.unsplash,uploadEndpoint:f,onClose:()=>s({image:!1,video:!1})}),l.includes("video-embed")&&c.createElement(xD,{editor:p,isEmbedModalOpen:r,setIsEmbedModalOpen:i}))},Tz=(e,t)=>{let{addonCommands:r=[],addons:i=[],attachments:o=[],attachmentsConfig:a={},autoFocus:l=!1,className:f,contentClassName:m,defaults:g=cr,editorSecrets:b={},error:y=null,extensions:v=[],hideSlashCommands:w=!1,initialValue:_="",isCharacterCountActive:x=!1,keyboardShortcuts:k=[],label:E="",mentions:M=[],menuType:C="fixed",placeholder:D,required:S=!1,rows:A=6,tooltips:N={},uploadEndpoint:O=rr,variables:T=[],onChange:I=n,onFocus:L=n,onBlur:j=n,onSubmit:R=n,onChangeAttachments:z=n,...P}=e;const B=d(null),U=i.includes(tr.ATTACHMENTS),H=i.includes(tr.VIDEO_EMBED),$="fixed"===C,V="bubble"===C,W=!w,q=!!D,[K,G]=u(!1),[Y,Q]=u({image:!1,video:!1}),J=d(null),Z=DF({placeholder:D,extensions:v,mentions:M,variables:T,isSlashCommandsActive:W,options:[...g,...i],addonCommands:r,onSubmit:R,keyboardShortcuts:k,uploadEndpoint:O,setMediaUploader:Q,setIsEmbedModalOpen:G,isVideoEmbedActive:H});(e=>{let{initialValue:t}=e;h((()=>{![process.env.RAILS_ENV,"production"].includes("production")&&cs(t)&&console.warn(`[neeto-editor]: Empty value of "initialValue" in needtoEditor is expected to be "<p></p>" instead of "${t}".`)}),[t])})({initialValue:_});const X=Ka("neeto-editor",{"slash-active":W&&!q,"fixed-menu-active border":$,"bubble-menu-active":V,"placeholder-active":q,"attachments-active":U,[m]:m}),ee=mD({extensions:Z,content:_,injectCSS:!1,autofocus:l&&"end",editorProps:{attributes:{class:X,style:hr({rows:A})},clipboardTextParser:fr},parseOptions:{preserveWhitespace:!0},onCreate:e=>{let{editor:t}=e;return!l&&(e=>{const{state:t,view:n}=e,r=An.atEnd(t.doc),i=t.tr;i.setSelection(r),n.dispatch(i)})(t)},onUpdate:e=>{let{editor:t}=e;return I(t.getHTML())},onFocus:L,onBlur:j});return p(t,(()=>({editor:ee,focus:()=>ee.commands.focus()}))),Zx.prototype.updateState=function(e){this.docView&&this.updateStateInner(e,this.state.plugins!==e.plugins)},c.createElement("div",{ref:B,className:Ka({[f]:f,"ne-attachments__wrapper":U})},E&&c.createElement(F,{className:"neeto-ui-mb-2","data-cy":`${s(E)}-editor-label`,required:S},E),c.createElement(gD,{error:y},c.createElement(bD,{editor:ee,isActive:x},c.createElement(Oz,{addonCommands:r,addons:i,defaults:g,editor:ee,editorSecrets:b,handleUploadAttachments:()=>{var e;return(null===(e=J.current)||void 0===e?void 0:e.handleUploadAttachments())||n()},isIndependant:!1,mentions:M,menuType:C,tooltips:N,uploadEndpoint:O,variables:T}),c.createElement(aD,Vy({editor:ee},P)),c.createElement(XF,{editor:ee,mediaUploader:Y,unsplashApiKey:b.unsplash,uploadEndpoint:O,onClose:()=>Q({image:!1,video:!1})}),H&&c.createElement(xD,{editor:ee,isEmbedModalOpen:K,setIsEmbedModalOpen:G}),U&&c.createElement(Kv,{attachments:o,className:"ne-attachments--integrated",config:a,dragDropRef:B,isIndependent:!1,ref:J,onChange:z}))))};var Iz=c.forwardRef(Tz);nz('@charset "UTF-8";\n@import url("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/github.min.css");\n@keyframes shake {\n  0% {\n    transform: translateX(0);\n  }\n  10% {\n    transform: translateX(-4px);\n  }\n  20% {\n    transform: translateX(4px);\n  }\n  30% {\n    transform: translateX(-4px);\n  }\n  40% {\n    transform: translateX(4px);\n  }\n  50% {\n    transform: translateX(-4px);\n  }\n  60% {\n    transform: translateX(4px);\n  }\n  70% {\n    transform: translateX(-4px);\n  }\n  80% {\n    transform: translateX(4px);\n  }\n  90% {\n    transform: translateX(-4px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n.neeto-editor-slash-commands__wrapper {\n  padding: 12px;\n  overflow-y: auto;\n  max-height: 384px;\n  width: 256px;\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 4px;\n}\n.neeto-editor-slash-commands__wrapper .neeto-editor-slash-commands__item {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 8px 12px;\n  gap: 12px;\n  border-radius: var(--neeto-ui-rounded);\n  transition: var(--neeto-ui-transition);\n  cursor: pointer;\n  color: rgb(var(--neeto-ui-white));\n}\n.neeto-editor-slash-commands__wrapper .neeto-editor-slash-commands__item:hover, .neeto-editor-slash-commands__wrapper .neeto-editor-slash-commands__item.active {\n  background-color: rgb(var(--neeto-ui-gray-700));\n}\n.neeto-editor-slash-commands__wrapper .neeto-editor-slash-commands__item .neeto-editor-slash-commands__item-content h5 {\n  font-size: var(--neeto-ui-text-sm);\n  font-weight: var(--neeto-ui-font-semibold);\n  line-height: var(--neeto-ui-leading-normal);\n}\n.neeto-editor-slash-commands__wrapper .neeto-editor-slash-commands__item .neeto-editor-slash-commands__item-content p {\n  font-size: var(--neeto-ui-text-xs);\n  color: rgb(var(--neeto-ui-gray-300));\n}\n.neeto-editor-mentions__wrapper {\n  padding: 8px;\n  width: auto;\n  min-width: 208px;\n  max-height: 256px;\n  overflow-y: auto;\n}\n.neeto-editor-mentions__wrapper .neeto-editor-mentions__item {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  padding: 8px;\n  transition: var(--neeto-ui-transition);\n  cursor: pointer;\n  font-size: var(--neeto-ui-text-xs);\n  color: rgb(var(--neeto-ui-white));\n  border-radius: var(--neeto-ui-rounded);\n  gap: 8px;\n}\n.neeto-editor-mentions__wrapper .neeto-editor-mentions__item p {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.neeto-editor-mentions__wrapper .neeto-editor-mentions__item:hover, .neeto-editor-mentions__wrapper .neeto-editor-mentions__item.active {\n  background-color: rgb(var(--neeto-ui-gray-700));\n}\n.ProseMirror.slash-active p.is-empty:last-child::before {\n  content: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgMjAwIDIwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMy44MjEyOSAxNUg1LjA1MTc2VjYuMjQzMTZIOC4yMzA0N1Y1LjEzNTc0SDAuNjQyNTc4VjYuMjQzMTZIMy44MjEyOVYxNVpNOS43MjA3IDE3LjU4NEMxMS4wMjY0IDE3LjU4NCAxMS42MzQ4IDE3LjEwNTUgMTIuMjQzMiAxNS40NTEyTDE1LjEyMTEgNy42MzA4NkgxMy44NzAxTDExLjg1MzUgMTMuNjk0M0gxMS43NDQxTDkuNzIwNyA3LjYzMDg2SDguNDQ5MjJMMTEuMTc2OCAxNS4wMDY4TDExLjA0IDE1LjQ0NDNDMTAuNzczNCAxNi4yOTIgMTAuMzYzMyAxNi41OTk2IDkuNjg2NTIgMTYuNTk5NkM5LjUyMjQ2IDE2LjU5OTYgOS4zMzc4OSAxNi41OTI4IDkuMTk0MzQgMTYuNTY1NFYxNy41NDNDOS4zNTg0IDE3LjU3MDMgOS41NjM0OCAxNy41ODQgOS43MjA3IDE3LjU4NFpNMTYuNjkzNCAxNy40NjA5SDE3Ljg4MjhWMTMuODM3OUgxNy45OTIyQzE4LjM5NTUgMTQuNjI0IDE5LjI3NzMgMTUuMTI5OSAyMC4yODkxIDE1LjEyOTlDMjIuMTYyMSAxNS4xMjk5IDIzLjM3ODkgMTMuNjMyOCAyMy4zNzg5IDExLjMyMjNWMTEuMzA4NkMyMy4zNzg5IDkuMDExNzIgMjIuMTU1MyA3LjUwMDk4IDIwLjI4OTEgNy41MDA5OEMxOS4yNjM3IDcuNTAwOTggMTguNDQzNCA3Ljk4NjMzIDE3Ljk5MjIgOC44MDY2NEgxNy44ODI4VjcuNjMwODZIMTYuNjkzNFYxNy40NjA5Wk0yMC4wMTU2IDE0LjA3NzFDMTguNjc1OCAxNC4wNzcxIDE3Ljg1NTUgMTMuMDI0NCAxNy44NTU1IDExLjMyMjNWMTEuMzA4NkMxNy44NTU1IDkuNjA2NDUgMTguNjc1OCA4LjU1MzcxIDIwLjAxNTYgOC41NTM3MUMyMS4zNjIzIDguNTUzNzEgMjIuMTYyMSA5LjU5Mjc3IDIyLjE2MjEgMTEuMzA4NlYxMS4zMjIzQzIyLjE2MjEgMTMuMDM4MSAyMS4zNjIzIDE0LjA3NzEgMjAuMDE1NiAxNC4wNzcxWk0yOC4yNDYxIDE1LjEyOTlDMjkuOTgyNCAxNS4xMjk5IDMxLjAzNTIgMTQuMTQ1NSAzMS4yODgxIDEzLjE0NzVMMzEuMzAxOCAxMy4wOTI4SDMwLjExMjNMMzAuMDg1IDEzLjE1NDNDMjkuODg2NyAxMy41OTg2IDI5LjI3MTUgMTQuMDcwMyAyOC4yNzM0IDE0LjA3MDNDMjYuOTYwOSAxNC4wNzAzIDI2LjEyMDEgMTMuMTgxNiAyNi4wODU5IDExLjY1NzJIMzEuMzkwNlYxMS4xOTI0QzMxLjM5MDYgOC45OTEyMSAzMC4xNzM4IDcuNTAwOTggMjguMTcwOSA3LjUwMDk4QzI2LjE2OCA3LjUwMDk4IDI0Ljg2OTEgOS4wNTk1NyAyNC44NjkxIDExLjMzNTlWMTEuMzQyOEMyNC44NjkxIDEzLjY1MzMgMjYuMTQwNiAxNS4xMjk5IDI4LjI0NjEgMTUuMTI5OVpNMjguMTY0MSA4LjU2MDU1QzI5LjI1MSA4LjU2MDU1IDMwLjA1NzYgOS4yNTA5OCAzMC4xODA3IDEwLjcwN0gyNi4xMDY0QzI2LjIzNjMgOS4zMDU2NiAyNy4wNzAzIDguNTYwNTUgMjguMTY0MSA4LjU2MDU1WiIgZmlsbD0iIzg3OTI5RCIvPgo8cmVjdCB4PSIzNyIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iMyIgZmlsbD0iI0U5RUJFRCIvPgo8cGF0aCBkPSJNNTAuNDI4MiA1LjkxNDQzTDQzLjU3MTggMTQuMDg1NiIgc3Ryb2tlPSIjMjUyQzMyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik02NC43MjU2IDE1LjA1NDdDNjQuOTU4IDE1LjA1NDcgNjUuMTgzNiAxNS4wMjczIDY1LjQxNiAxNC45ODYzVjEzLjk3NDZDNjUuMTk3MyAxMy45OTUxIDY1LjA4MTEgMTQuMDAyIDY0Ljg2OTEgMTQuMDAyQzY0LjEwMzUgMTQuMDAyIDYzLjgwMjcgMTMuNjUzMyA2My44MDI3IDEyLjc4NTJWOC42MTUyM0g2NS40MTZWNy42MzA4Nkg2My44MDI3VjUuNzIzNjNINjIuNTcyM1Y3LjYzMDg2SDYxLjQxMDJWOC42MTUyM0g2Mi41NzIzVjEzLjA4NTlDNjIuNTcyMyAxNC40OTQxIDYzLjIwOCAxNS4wNTQ3IDY0LjcyNTYgMTUuMDU0N1pNNzAuMTEyMyAxNS4xMjk5QzcyLjIxMDkgMTUuMTI5OSA3My41MDk4IDEzLjY4MDcgNzMuNTA5OCAxMS4zMjIzVjExLjMwODZDNzMuNTA5OCA4Ljk0MzM2IDcyLjIxMDkgNy41MDA5OCA3MC4xMTIzIDcuNTAwOThDNjguMDEzNyA3LjUwMDk4IDY2LjcxNDggOC45NDMzNiA2Ni43MTQ4IDExLjMwODZWMTEuMzIyM0M2Ni43MTQ4IDEzLjY4MDcgNjguMDEzNyAxNS4xMjk5IDcwLjExMjMgMTUuMTI5OVpNNzAuMTEyMyAxNC4wNzcxQzY4LjcxNzggMTQuMDc3MSA2Ny45MzE2IDEzLjA1ODYgNjcuOTMxNiAxMS4zMjIzVjExLjMwODZDNjcuOTMxNiA5LjU2NTQzIDY4LjcxNzggOC41NTM3MSA3MC4xMTIzIDguNTUzNzFDNzEuNTA2OCA4LjU1MzcxIDcyLjI5MyA5LjU2NTQzIDcyLjI5MyAxMS4zMDg2VjExLjMyMjNDNzIuMjkzIDEzLjA1ODYgNzEuNTA2OCAxNC4wNzcxIDcwLjExMjMgMTQuMDc3MVpNODIuMzA3NiAxNS4xMjk5Qzg0LjA3ODEgMTUuMTI5OSA4NS4wNjkzIDE0LjE3OTcgODUuMzcwMSAxMi44NDY3TDg1LjM4MzggMTIuNzcxNUw4NC4yMDggMTIuNzc4M0w4NC4xOTQzIDEyLjgxOTNDODMuOTIwOSAxMy42Mzk2IDgzLjI5MiAxNC4wNzcxIDgyLjMwMDggMTQuMDc3MUM4MC45ODgzIDE0LjA3NzEgODAuMTQwNiAxMi45OTAyIDgwLjE0MDYgMTEuMjk0OVYxMS4yODEyQzgwLjE0MDYgOS42MjAxMiA4MC45NzQ2IDguNTUzNzEgODIuMzAwOCA4LjU1MzcxQzgzLjM2MDQgOC41NTM3MSA4NC4wMTY2IDkuMTQxNiA4NC4yMDEyIDkuODY2MjFMODQuMjA4IDkuODg2NzJIODUuMzkwNkw4NS4zODM4IDkuODQ1N0M4NS4xNjUgOC41MzMyIDg0LjA5MTggNy41MDA5OCA4Mi4zMDA4IDcuNTAwOThDODAuMjM2MyA3LjUwMDk4IDc4LjkyMzggOC45OTEyMSA3OC45MjM4IDExLjI4MTJWMTEuMjk0OUM3OC45MjM4IDEzLjYzMjggODAuMjQzMiAxNS4xMjk5IDgyLjMwNzYgMTUuMTI5OVpNODcuMTk1MyAxNUg4OC4zODQ4VjEwLjYzODdDODguMzg0OCA5LjM0NjY4IDg5LjEyOTkgOC41NTM3MSA5MC4zMDU3IDguNTUzNzFDOTEuNDgxNCA4LjU1MzcxIDkyLjAyODMgOS4xODk0NSA5Mi4wMjgzIDEwLjUxNTZWMTVIOTMuMjE3OFYxMC4yMjg1QzkzLjIxNzggOC40Nzg1MiA5Mi4yOTQ5IDcuNTAwOTggOTAuNjQwNiA3LjUwMDk4Qzg5LjU1MzcgNy41MDA5OCA4OC44NjMzIDcuOTU4OTggODguNDk0MSA4LjczODI4SDg4LjM4NDhWNC43MDUwOEg4Ny4xOTUzVjE1Wk05Ny4zOTQ1IDE1LjEyOTlDOTguMzg1NyAxNS4xMjk5IDk5LjE1ODIgMTQuNjk5MiA5OS42MjMgMTMuOTEzMUg5OS43MzI0VjE1SDEwMC45MjJWOS45NTUwOEMxMDAuOTIyIDguNDIzODMgOTkuOTE3IDcuNTAwOTggOTguMTE5MSA3LjUwMDk4Qzk2LjU0NjkgNy41MDA5OCA5NS40MjU4IDguMjgwMjcgOTUuMjM0NCA5LjQzNTU1TDk1LjIyNzUgOS40NzY1Nkg5Ni40MTdMOTYuNDIzOCA5LjQ1NjA1Qzk2LjYxNTIgOC44ODE4NCA5Ny4xOTYzIDguNTUzNzEgOTguMDc4MSA4LjU1MzcxQzk5LjE3ODcgOC41NTM3MSA5OS43MzI0IDkuMDQ1OSA5OS43MzI0IDkuOTU1MDhWMTAuNjI1TDk3LjYyMDEgMTAuNzU0OUM5NS45MDQzIDEwLjg1NzQgOTQuOTMzNiAxMS42MTYyIDk0LjkzMzYgMTIuOTI4N1YxMi45NDI0Qzk0LjkzMzYgMTQuMjgyMiA5NS45OTMyIDE1LjEyOTkgOTcuMzk0NSAxNS4xMjk5Wk05Ni4xNTA0IDEyLjkxNVYxMi45MDE0Qzk2LjE1MDQgMTIuMTY5OSA5Ni42NDI2IDExLjc3MzQgOTcuNzYzNyAxMS43MDUxTDk5LjczMjQgMTEuNTgyVjEyLjI1MkM5OS43MzI0IDEzLjMwNDcgOTguODUwNiAxNC4wOTc3IDk3LjY0MDYgMTQuMDk3N0M5Ni43ODYxIDE0LjA5NzcgOTYuMTUwNCAxMy42NjAyIDk2LjE1MDQgMTIuOTE1Wk0xMDMuMDk2IDE1SDEwNC4yODVWMTAuNjM4N0MxMDQuMjg1IDkuMzQ2NjggMTA1LjAzIDguNTUzNzEgMTA2LjIwNiA4LjU1MzcxQzEwNy4zODIgOC41NTM3MSAxMDcuOTI5IDkuMTg5NDUgMTA3LjkyOSAxMC41MTU2VjE1SDEwOS4xMThWMTAuMjI4NUMxMDkuMTE4IDguNDc4NTIgMTA4LjE5NSA3LjUwMDk4IDEwNi41NDEgNy41MDA5OEMxMDUuNDU0IDcuNTAwOTggMTA0Ljc2NCA3Ljk1ODk4IDEwNC4zOTUgOC43MzgyOEgxMDQuMjg1VjcuNjMwODZIMTAzLjA5NlYxNVpNMTE0LjMwNyAxNy41OTc3QzExNi4zMTYgMTcuNTk3NyAxMTcuNTg4IDE2LjU0NDkgMTE3LjU4OCAxNC44OTc1VjcuNjMwODZIMTE2LjM5OFY4Ljg0NzY2SDExNi4zMTZDMTE1Ljg2NSA4LjAxMzY3IDExNS4wNTkgNy41MDA5OCAxMTQuMDIgNy41MDA5OEMxMTIuMDkyIDcuNTAwOTggMTEwLjkwMiA4Ljk5ODA1IDExMC45MDIgMTEuMDYyNVYxMS4wNzYyQzExMC45MDIgMTMuMTQwNiAxMTIuMDg1IDE0LjYxNzIgMTEzLjk5MiAxNC42MTcyQzExNS4wMDQgMTQuNjE3MiAxMTUuODM4IDE0LjE1OTIgMTE2LjMwMyAxMy4zNDU3SDExNi40MTJWMTQuODM1OUMxMTYuNDEyIDE1LjkyMjkgMTE1LjYyNiAxNi41NDQ5IDExNC4zMDcgMTYuNTQ0OUMxMTMuMjQ3IDE2LjU0NDkgMTEyLjU5MSAxNi4xNDg0IDExMi40NjEgMTUuNTg3OUwxMTIuNDU0IDE1LjU4MTFIMTExLjIyNEwxMTEuMjEgMTUuNTg3OUMxMTEuMzk1IDE2Ljc5NzkgMTEyLjUyOSAxNy41OTc3IDExNC4zMDcgMTcuNTk3N1pNMTE0LjI1MiAxMy41NjQ1QzExMi44ODUgMTMuNTY0NSAxMTIuMTE5IDEyLjUzOTEgMTEyLjExOSAxMS4wNzYyVjExLjA2MjVDMTEyLjExOSA5LjU5OTYxIDExMi44ODUgOC41NTM3MSAxMTQuMjUyIDguNTUzNzFDMTE1LjYxMiA4LjU1MzcxIDExNi40MzkgOS41OTk2MSAxMTYuNDM5IDExLjA2MjVWMTEuMDc2MkMxMTYuNDM5IDEyLjUzOTEgMTE1LjYxOSAxMy41NjQ1IDExNC4yNTIgMTMuNTY0NVpNMTIyLjgxMSAxNS4xMjk5QzEyNC41NDcgMTUuMTI5OSAxMjUuNiAxNC4xNDU1IDEyNS44NTMgMTMuMTQ3NUwxMjUuODY2IDEzLjA5MjhIMTI0LjY3N0wxMjQuNjQ5IDEzLjE1NDNDMTI0LjQ1MSAxMy41OTg2IDEyMy44MzYgMTQuMDcwMyAxMjIuODM4IDE0LjA3MDNDMTIxLjUyNSAxNC4wNzAzIDEyMC42ODUgMTMuMTgxNiAxMjAuNjUgMTEuNjU3MkgxMjUuOTU1VjExLjE5MjRDMTI1Ljk1NSA4Ljk5MTIxIDEyNC43MzggNy41MDA5OCAxMjIuNzM1IDcuNTAwOThDMTIwLjczMiA3LjUwMDk4IDExOS40MzQgOS4wNTk1NyAxMTkuNDM0IDExLjMzNTlWMTEuMzQyOEMxMTkuNDM0IDEzLjY1MzMgMTIwLjcwNSAxNS4xMjk5IDEyMi44MTEgMTUuMTI5OVpNMTIyLjcyOSA4LjU2MDU1QzEyMy44MTUgOC41NjA1NSAxMjQuNjIyIDkuMjUwOTggMTI0Ljc0NSAxMC43MDdIMTIwLjY3MUMxMjAuODAxIDkuMzA1NjYgMTIxLjYzNSA4LjU2MDU1IDEyMi43MjkgOC41NjA1NVpNMTM1LjQwMiAxNS4xMjk5QzEzNy4yNjkgMTUuMTI5OSAxMzguNDkyIDEzLjYxOTEgMTM4LjQ5MiAxMS4zMjIzVjExLjMwODZDMTM4LjQ5MiA4Ljk5ODA1IDEzNy4yNzUgNy41MDA5OCAxMzUuNDAyIDcuNTAwOThDMTM0LjM5MSA3LjUwMDk4IDEzMy41MDkgOC4wMDY4NCAxMzMuMTA1IDguNzkyOTdIMTMyLjk5NlY0LjcwNTA4SDEzMS44MDdWMTVIMTMyLjk5NlYxMy44MjQySDEzMy4xMDVDMTMzLjU1NyAxNC42NDQ1IDEzNC4zNzcgMTUuMTI5OSAxMzUuNDAyIDE1LjEyOTlaTTEzNS4xMjkgMTQuMDc3MUMxMzMuNzg5IDE0LjA3NzEgMTMyLjk2OSAxMy4wMjQ0IDEzMi45NjkgMTEuMzIyM1YxMS4zMDg2QzEzMi45NjkgOS42MDY0NSAxMzMuNzg5IDguNTUzNzEgMTM1LjEyOSA4LjU1MzcxQzEzNi40NzYgOC41NTM3MSAxMzcuMjc1IDkuNTkyNzcgMTM3LjI3NSAxMS4zMDg2VjExLjMyMjNDMTM3LjI3NSAxMy4wMzgxIDEzNi40NzYgMTQuMDc3MSAxMzUuMTI5IDE0LjA3NzFaTTE0MC40MDYgMTVIMTQxLjU5NlY0LjcwNTA4SDE0MC40MDZWMTVaTTE0Ni45MDcgMTUuMTI5OUMxNDkuMDA2IDE1LjEyOTkgMTUwLjMwNSAxMy42ODA3IDE1MC4zMDUgMTEuMzIyM1YxMS4zMDg2QzE1MC4zMDUgOC45NDMzNiAxNDkuMDA2IDcuNTAwOTggMTQ2LjkwNyA3LjUwMDk4QzE0NC44MDkgNy41MDA5OCAxNDMuNTEgOC45NDMzNiAxNDMuNTEgMTEuMzA4NlYxMS4zMjIzQzE0My41MSAxMy42ODA3IDE0NC44MDkgMTUuMTI5OSAxNDYuOTA3IDE1LjEyOTlaTTE0Ni45MDcgMTQuMDc3MUMxNDUuNTEzIDE0LjA3NzEgMTQ0LjcyNyAxMy4wNTg2IDE0NC43MjcgMTEuMzIyM1YxMS4zMDg2QzE0NC43MjcgOS41NjU0MyAxNDUuNTEzIDguNTUzNzEgMTQ2LjkwNyA4LjU1MzcxQzE0OC4zMDIgOC41NTM3MSAxNDkuMDg4IDkuNTY1NDMgMTQ5LjA4OCAxMS4zMDg2VjExLjMyMjNDMTQ5LjA4OCAxMy4wNTg2IDE0OC4zMDIgMTQuMDc3MSAxNDYuOTA3IDE0LjA3NzFaTTE1NS4xNjUgMTUuMTI5OUMxNTYuOTM2IDE1LjEyOTkgMTU3LjkyNyAxNC4xNzk3IDE1OC4yMjggMTIuODQ2N0wxNTguMjQxIDEyLjc3MTVMMTU3LjA2NSAxMi43NzgzTDE1Ny4wNTIgMTIuODE5M0MxNTYuNzc4IDEzLjYzOTYgMTU2LjE0OSAxNC4wNzcxIDE1NS4xNTggMTQuMDc3MUMxNTMuODQ2IDE0LjA3NzEgMTUyLjk5OCAxMi45OTAyIDE1Mi45OTggMTEuMjk0OVYxMS4yODEyQzE1Mi45OTggOS42MjAxMiAxNTMuODMyIDguNTUzNzEgMTU1LjE1OCA4LjU1MzcxQzE1Ni4yMTggOC41NTM3MSAxNTYuODc0IDkuMTQxNiAxNTcuMDU5IDkuODY2MjFMMTU3LjA2NSA5Ljg4NjcySDE1OC4yNDhMMTU4LjI0MSA5Ljg0NTdDMTU4LjAyMiA4LjUzMzIgMTU2Ljk0OSA3LjUwMDk4IDE1NS4xNTggNy41MDA5OEMxNTMuMDk0IDcuNTAwOTggMTUxLjc4MSA4Ljk5MTIxIDE1MS43ODEgMTEuMjgxMlYxMS4yOTQ5QzE1MS43ODEgMTMuNjMyOCAxNTMuMTAxIDE1LjEyOTkgMTU1LjE2NSAxNS4xMjk5Wk0xNjAuMDUzIDE1SDE2MS4yNDJWMTIuMjA0MUwxNjEuOTMzIDExLjUzNDJMMTY0LjY5NCAxNUgxNjYuMTkxTDE2Mi43NjcgMTAuNzI3NUwxNjUuOTc5IDcuNjMwODZIMTY0LjUzN0wxNjEuMzUyIDEwLjg1MDZIMTYxLjI0MlY0LjcwNTA4SDE2MC4wNTNWMTVaTTE3NC4xNDIgMTUuMDU0N0MxNzQuMzc0IDE1LjA1NDcgMTc0LjYgMTUuMDI3MyAxNzQuODMyIDE0Ljk4NjNWMTMuOTc0NkMxNzQuNjEzIDEzLjk5NTEgMTc0LjQ5NyAxNC4wMDIgMTc0LjI4NSAxNC4wMDJDMTczLjUyIDE0LjAwMiAxNzMuMjE5IDEzLjY1MzMgMTczLjIxOSAxMi43ODUyVjguNjE1MjNIMTc0LjgzMlY3LjYzMDg2SDE3My4yMTlWNS43MjM2M0gxNzEuOTg4VjcuNjMwODZIMTcwLjgyNlY4LjYxNTIzSDE3MS45ODhWMTMuMDg1OUMxNzEuOTg4IDE0LjQ5NDEgMTcyLjYyNCAxNS4wNTQ3IDE3NC4xNDIgMTUuMDU0N1pNMTc3LjIzOCAxNy41ODRDMTc4LjU0NCAxNy41ODQgMTc5LjE1MiAxNy4xMDU1IDE3OS43NjEgMTUuNDUxMkwxODIuNjM5IDcuNjMwODZIMTgxLjM4OEwxNzkuMzcxIDEzLjY5NDNIMTc5LjI2MkwxNzcuMjM4IDcuNjMwODZIMTc1Ljk2N0wxNzguNjk0IDE1LjAwNjhMMTc4LjU1OCAxNS40NDQzQzE3OC4yOTEgMTYuMjkyIDE3Ny44ODEgMTYuNTk5NiAxNzcuMjA0IDE2LjU5OTZDMTc3LjA0IDE2LjU5OTYgMTc2Ljg1NSAxNi41OTI4IDE3Ni43MTIgMTYuNTY1NFYxNy41NDNDMTc2Ljg3NiAxNy41NzAzIDE3Ny4wODEgMTcuNTg0IDE3Ny4yMzggMTcuNTg0Wk0xODQuMjExIDE3LjQ2MDlIMTg1LjRWMTMuODM3OUgxODUuNTFDMTg1LjkxMyAxNC42MjQgMTg2Ljc5NSAxNS4xMjk5IDE4Ny44MDcgMTUuMTI5OUMxODkuNjggMTUuMTI5OSAxOTAuODk2IDEzLjYzMjggMTkwLjg5NiAxMS4zMjIzVjExLjMwODZDMTkwLjg5NiA5LjAxMTcyIDE4OS42NzMgNy41MDA5OCAxODcuODA3IDcuNTAwOThDMTg2Ljc4MSA3LjUwMDk4IDE4NS45NjEgNy45ODYzMyAxODUuNTEgOC44MDY2NEgxODUuNFY3LjYzMDg2SDE4NC4yMTFWMTcuNDYwOVpNMTg3LjUzMyAxNC4wNzcxQzE4Ni4xOTMgMTQuMDc3MSAxODUuMzczIDEzLjAyNDQgMTg1LjM3MyAxMS4zMjIzVjExLjMwODZDMTg1LjM3MyA5LjYwNjQ1IDE4Ni4xOTMgOC41NTM3MSAxODcuNTMzIDguNTUzNzFDMTg4Ljg4IDguNTUzNzEgMTg5LjY4IDkuNTkyNzcgMTg5LjY4IDExLjMwODZWMTEuMzIyM0MxODkuNjggMTMuMDM4MSAxODguODggMTQuMDc3MSAxODcuNTMzIDE0LjA3NzFaTTE5NS43NjQgMTUuMTI5OUMxOTcuNSAxNS4xMjk5IDE5OC41NTMgMTQuMTQ1NSAxOTguODA2IDEzLjE0NzVMMTk4LjgxOSAxMy4wOTI4SDE5Ny42M0wxOTcuNjAzIDEzLjE1NDNDMTk3LjQwNCAxMy41OTg2IDE5Ni43ODkgMTQuMDcwMyAxOTUuNzkxIDE0LjA3MDNDMTk0LjQ3OSAxNC4wNzAzIDE5My42MzggMTMuMTgxNiAxOTMuNjA0IDExLjY1NzJIMTk4LjkwOFYxMS4xOTI0QzE5OC45MDggOC45OTEyMSAxOTcuNjkxIDcuNTAwOTggMTk1LjY4OCA3LjUwMDk4QzE5My42ODYgNy41MDA5OCAxOTIuMzg3IDkuMDU5NTcgMTkyLjM4NyAxMS4zMzU5VjExLjM0MjhDMTkyLjM4NyAxMy42NTMzIDE5My42NTggMTUuMTI5OSAxOTUuNzY0IDE1LjEyOTlaTTE5NS42ODIgOC41NjA1NUMxOTYuNzY5IDguNTYwNTUgMTk3LjU3NSA5LjI1MDk4IDE5Ny42OTggMTAuNzA3SDE5My42MjRDMTkzLjc1NCA5LjMwNTY2IDE5NC41ODggOC41NjA1NSAxOTUuNjgyIDguNTYwNTVaIiBmaWxsPSIjODc5MjlEIi8+Cjwvc3ZnPgo=");\n  position: absolute;\n  top: -2px;\n  height: 0;\n  z-index: -1;\n  pointer-events: none;\n}\n.neeto-editor {\n  max-width: 100% !important;\n  border-radius: var(--neeto-ui-rounded);\n  white-space: pre-wrap;\n  padding: 16px;\n  color: rgb(var(--neeto-ui-gray-800));\n  background-color: rgb(var(--neeto-ui-white));\n}\n.neeto-editor:focus {\n  outline: none;\n}\n.neeto-editor a {\n  pointer-events: none;\n}\n.neeto-editor mark {\n  background: rgb(var(--neeto-ui-pastel-green));\n  border-radius: var(--neeto-ui-rounded-sm);\n  padding: 0px 4px;\n  color: inherit;\n}\n.neeto-editor [data-variable] {\n  display: inline-flex;\n  color: rgb(var(--neeto-ui-gray-700));\n  background-color: rgb(var(--neeto-ui-gray-200));\n  border-radius: var(--neeto-ui-rounded-sm);\n  line-height: 1;\n  padding: 4px 6px;\n}\n.neeto-editor .ProseMirror-separator {\n  display: none;\n}\n.neeto-editor.fixed-menu-active {\n  border: thin solid rgb(var(--neeto-ui-gray-300));\n  border-top: none;\n  border-top-left-radius: 0px;\n  border-top-right-radius: 0px;\n}\n.neeto-editor.attachments-active {\n  border-bottom: none;\n  border-bottom-left-radius: 0px;\n  border-bottom-right-radius: 0px;\n}\n.neeto-editor .is-empty {\n  position: relative;\n}\n.neeto-editor.placeholder-active .is-editor-empty:first-child::before {\n  content: attr(data-placeholder);\n  float: left;\n  color: #ced4da;\n  pointer-events: none;\n  height: 0;\n}\n.neeto-editor hr {\n  margin: 8px 0;\n}\n.neeto-editor .ProseMirror-selectednode {\n  outline: 3px solid rgb(var(--neeto-ui-pastel-blue));\n}\n.neeto-editor .has-focus {\n  background: var(--focus-background-color);\n  transition: background-color 200ms ease;\n}\n.neeto-editor-character-count {\n  padding: 4px;\n  color: rgb(var(--neeto-ui-gray-600));\n  font-size: 12px;\n  text-align: right;\n}\n.neeto-editor-error {\n  color: rgb(var(--neeto-ui-error-500));\n  border-width: 1px;\n  border-color: rgb(var(--neeto-ui-error-500));\n  border-radius: var(--neeto-ui-rounded);\n}\n.neeto-editor-error:focus-within {\n  border-color: rgb(var(--neeto-ui-error-600));\n}\n.neeto-editor-content, .neeto-editor {\n  white-space: pre-wrap;\n  word-break: break-word;\n  -moz-tab-size: 2;\n    -o-tab-size: 2;\n       tab-size: 2;\n}\n.neeto-editor-content h1, .neeto-editor h1,\n.neeto-editor-content h2,\n.neeto-editor h2,\n.neeto-editor-content h3,\n.neeto-editor h3,\n.neeto-editor-content h4,\n.neeto-editor h4,\n.neeto-editor-content h5,\n.neeto-editor h5,\n.neeto-editor-content h6,\n.neeto-editor h6 {\n  font-size: revert;\n  margin: 0 0 16px 0;\n}\n.neeto-editor-content p, .neeto-editor p {\n  line-height: var(--neeto-ui-leading-normal);\n  color: rgb(var(--neeto-ui-gray-700));\n  margin-bottom: 8px;\n}\n.neeto-editor-content p:empty::after, .neeto-editor p:empty::after {\n  content: "";\n}\n.neeto-editor-content p:last-child, .neeto-editor p:last-child {\n  margin-bottom: 0;\n}\n.neeto-editor-content code, .neeto-editor code {\n  padding: 2px;\n  font-size: 85%;\n  border-radius: var(--neeto-ui-rounded-sm);\n  background-color: rgb(var(--neeto-ui-gray-200));\n  font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;\n}\n.neeto-editor-content pre, .neeto-editor pre {\n  background-color: #f6f8fa;\n  overflow-x: auto;\n  font-size: 14px;\n  line-height: 20px;\n  margin-top: 8px;\n  margin-bottom: 8px;\n  border-radius: var(--neeto-ui-rounded-sm);\n  padding: 16px;\n}\n.neeto-editor-content pre > code, .neeto-editor pre > code {\n  background-color: transparent;\n  border-width: 0;\n  border-radius: 0;\n  padding: 0;\n  font-weight: 400;\n  color: inherit;\n  font-size: inherit;\n  font-family: inherit;\n  line-height: inherit;\n}\n.neeto-editor-content blockquote, .neeto-editor blockquote {\n  font-weight: var(--neeto-ui-font-medium);\n  color: rgb(var(--neeto-ui-black));\n  border-left-width: 4px;\n  border-left-color: #e5e7eb;\n  quotes: "" "" "" "";\n  margin: 8px 0;\n  padding-left: 12px;\n}\n.neeto-editor-content blockquote > p::before, .neeto-editor blockquote > p::before {\n  content: "" !important;\n}\n.neeto-editor-content blockquote > p::after, .neeto-editor blockquote > p::after {\n  content: "" !important;\n}\n.neeto-editor-content ul, .neeto-editor ul,\n.neeto-editor-content ol,\n.neeto-editor ol {\n  list-style: revert;\n  margin: revert;\n  padding: revert;\n}\n.neeto-editor-content ul > li > p, .neeto-editor ul > li > p,\n.neeto-editor-content ol > li > p,\n.neeto-editor ol > li > p {\n  margin-top: 0 !important;\n  margin-bottom: 0.375rem !important;\n}\n.neeto-editor-content ul li::before, .neeto-editor ul li::before,\n.neeto-editor-content ol li::before,\n.neeto-editor ol li::before {\n  background-color: rgb(var(--neeto-ui-black));\n}\n.neeto-editor-content a[href], .neeto-editor a[href] {\n  color: rgb(var(--neeto-ui-primary-800));\n  font-weight: 500;\n}\n.neeto-editor-content .video-wrapper, .neeto-editor .video-wrapper {\n  width: 560px;\n  height: 315px;\n  margin: auto;\n}\n.neeto-editor-content mark, .neeto-editor mark {\n  background: rgb(var(--neeto-ui-pastel-green));\n  border-radius: var(--neeto-ui-rounded-sm);\n  padding: 0px 4px;\n  color: inherit;\n}\n.neeto-editor-content [data-variable], .neeto-editor [data-variable] {\n  display: inline-flex;\n  color: rgb(var(--neeto-ui-gray-700));\n  background-color: rgb(var(--neeto-ui-gray-200));\n  border-radius: var(--neeto-ui-rounded-sm);\n  line-height: 1;\n  padding: 4px 6px;\n}\n.neeto-editor-content [data-type=mention], .neeto-editor [data-type=mention] {\n  color: rgb(var(--neeto-ui-primary-800));\n}\n.neeto-editor-content [data-type=special-mention], .neeto-editor [data-type=special-mention] {\n  color: rgb(var(--neeto-ui-primary-800));\n}\n.neeto-editor-content table, .neeto-editor table {\n  overflow: hidden;\n  border: 1px solid rgba(var(--neeto-ui-gray-300));\n  border-collapse: separate;\n  border-radius: var(--neeto-ui-rounded-sm);\n  border-spacing: 0;\n  table-layout: fixed;\n  min-width: 300px;\n}\n.neeto-editor-content table th, .neeto-editor table th,\n.neeto-editor-content table td,\n.neeto-editor table td {\n  border-left: 1px solid rgba(var(--neeto-ui-gray-300));\n  border-top: 1px solid rgba(var(--neeto-ui-gray-300));\n  padding: 8px 12px;\n  position: relative;\n}\n.neeto-editor-content table td:first-child, .neeto-editor table td:first-child,\n.neeto-editor-content table th:first-child,\n.neeto-editor table th:first-child {\n  border-left: none;\n}\n.neeto-editor-content table th, .neeto-editor table th {\n  background: rgb(var(--neeto-ui-gray-100));\n  border-top: none;\n}\n.neeto-editor-content table td, .neeto-editor table td {\n  background: rgb(var(--neeto-ui-white));\n}\n.neeto-editor-content--hidden {\n  display: none;\n}\n.neeto-editor__image-wrapper {\n  display: flex;\n  color: unset !important;\n  font-weight: normal !important;\n}\n.neeto-editor__image-wrapper figure {\n  position: relative;\n  display: inline-block;\n}\n.neeto-editor__image-wrapper .neeto-editor__image {\n  display: inline-block;\n}\n.neeto-editor__image-wrapper .neeto-editor__image img,\n.neeto-editor__image-wrapper .neeto-editor__image video {\n  display: inline-block;\n  height: 100%;\n  border: 2px solid rgb(var(--neeto-ui-gray-300));\n  border-radius: var(--neeto-ui-rounded-lg);\n  padding: 4px;\n}\n.neeto-editor__image-wrapper figcaption {\n  margin-top: 4px;\n  text-align: center;\n  font-size: var(--neeto-ui-text-sm);\n  font-weight: var(--neeto-ui-font-normal);\n}\n.neeto-editor__image-wrapper figcaption a {\n  display: inline-block;\n  text-align: center;\n}\n.neeto-editor__image-wrapper figcaption.is-empty div:before {\n  position: absolute;\n  inset: 0;\n  content: "Add a caption";\n  color: rgb(var(--neeto-ui-gray-500));\n}\n.neeto-editor__image--left {\n  justify-content: flex-start;\n}\n.neeto-editor__image--center {\n  justify-content: center;\n}\n.neeto-editor__image--right {\n  justify-content: flex-end;\n}\n.neeto-editor-fixed-menu {\n  border: thin solid rgb(var(--neeto-ui-gray-300));\n  border-radius: var(--neeto-ui-rounded) var(--neeto-ui-rounded) 0px 0px;\n  border-bottom: none;\n  background-color: rgb(var(--neeto-ui-white));\n  text-align: center;\n  position: relative;\n}\n.neeto-editor-fixed-menu--independant {\n  border-radius: unset;\n  border-bottom: thin solid rgb(var(--neeto-ui-gray-300));\n}\n.neeto-editor-fixed-menu__item {\n  border-radius: var(--neeto-ui-rounded-sm) !important;\n}\n.neeto-editor-fixed-menu button.neeto-editor-fixed-menu__item {\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n}\n.neeto-editor-fixed-menu button.neeto-editor-fixed-menu__item .neeto-ui-btn__icon {\n  height: 18px !important;\n  width: 18px !important;\n}\n.neeto-editor-fixed-menu__wrapper {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  overflow: auto;\n  width: 100%;\n  padding: 2px;\n  gap: 0 4px;\n}\n.neeto-editor-fixed-menu__variables {\n  position: absolute;\n  right: 8px;\n  bottom: -24px;\n  z-index: 10;\n}\n.neeto-editor-fixed-menu__variables .neeto-editor-menu__item {\n  padding: 4px;\n  border-radius: var(--neeto-ui-rounded-sm);\n  background-color: rgb(var(--neeto-ui-gray-800));\n}\n.neeto-editor-fixed-menu__variables .neeto-editor-menu__item:hover, .neeto-editor-fixed-menu__variables .neeto-editor-menu__item.active {\n  background-color: rgb(var(--neeto-ui-gray-700));\n}\n.neeto-editor-fixed-menu__right-options {\n  display: flex;\n  justify-self: flex-end;\n  margin-left: auto;\n}\n.neeto-editor-fixed-menu__emoji-dropdown {\n  max-height: unset !important;\n}\n.neeto-editor-fixed-menu__separator {\n  display: flex;\n  height: 28px;\n  width: 32px;\n}\n.neeto-editor-fixed-menu__separator span {\n  width: 100%;\n}\n.neeto-editor-fixed-menu__separator span:first-child {\n  border-right: 1px solid rgb(var(--neeto-ui-gray-200));\n}\n.neeto-editor-menu__item {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  gap: 4px;\n  align-items: center;\n  padding: 8px;\n  cursor: pointer;\n  transition: var(--neeto-ui-transition);\n  border-radius: 2px;\n}\n.neeto-editor-menu__item p {\n  color: rgb(var(--neeto-ui-gray-700));\n  font-size: var(--neeto-ui-text-xs);\n  line-height: 1;\n  white-space: nowrap;\n}\n.neeto-editor-menu__item:hover, .neeto-editor-menu__item.active {\n  background-color: rgb(var(--neeto-ui-gray-200));\n}\n.neeto-editor-menu__item:focus, .neeto-editor-menu__item:focus-visible {\n  outline: rgb(var(--neeto-ui-gray-300)) auto 1px;\n}\n.neeto-editor-menu__item input[type=color] {\n  visibility: hidden;\n  height: 0;\n  width: 0;\n}\n.neeto-editor-menu__item:disabled {\n  opacity: 0.5;\n  background-color: rgb(var(--neeto-ui-gray-100));\n}\n.neeto-editor-variables-suggestion {\n  padding: 4px 0;\n}\n.neeto-editor-variables-list {\n  padding: 4px 8px;\n  min-width: 184px;\n  max-width: 360px;\n}\n.neeto-editor-variables-list .neeto-editor-variables-block:not(:last-child) {\n  margin-bottom: 12px;\n}\n.neeto-editor-variables-list .neeto-editor-variables-block h6 {\n  font-size: var(--neeto-ui-text-xs);\n  font-weight: var(--neeto-ui-font-medium);\n  color: rgb(var(--neeto-ui-gray-600));\n  margin-bottom: 4px;\n}\n.neeto-editor-variables-list .neeto-editor-variables-block .neeto-editor-variables-row {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.neeto-editor-variables-list .neeto-editor-variables-block .neeto-editor-variables-row .neeto-editor-variable {\n  padding: 4px 6px;\n  font-size: var(--neeto-ui-text-xs);\n  color: rgb(var(--neeto-ui-gray-700));\n  line-height: 1;\n  background-color: rgb(var(--neeto-ui-pastel-blue));\n  border-radius: var(--neeto-ui-rounded-sm);\n  transition: var(--neeto-ui-transition);\n}\n.neeto-editor-variables-list .neeto-editor-variables-block .neeto-editor-variables-row .neeto-editor-variable:hover {\n  background-color: rgb(var(--neeto-ui-info-100));\n}\n.neeto-editor-link__item {\n  display: flex !important;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 8px;\n  padding: 8px !important;\n}\n.neeto-editor-font-size__wrapper {\n  font-weight: var(--neeto-ui-font-normal) !important;\n  padding: 8px !important;\n}\n.neeto-editor-bubble-menu {\n  position: relative;\n  display: flex;\n  gap: 1px;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  border-radius: var(--neeto-ui-rounded);\n  background: rgb(var(--neeto-ui-gray-800));\n  padding: 0 4px;\n}\n.neeto-editor-bubble-menu button.neeto-ui-btn--style-text {\n  color: rgb(var(--neeto-ui-gray-200));\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n}\n.neeto-editor-bubble-menu button.neeto-ui-btn--style-text:hover, .neeto-editor-bubble-menu button.neeto-ui-btn--style-text:active, .neeto-editor-bubble-menu button.neeto-ui-btn--style-text.active {\n  color: rgb(var(--neeto-ui-gray-200)) !important;\n  background-color: rgb(var(--neeto-ui-gray-600)) !important;\n}\n.neeto-editor-bubble-menu button.neeto-ui-btn--style-secondary {\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n  background-color: rgb(var(--neeto-ui-gray-400));\n}\n.neeto-editor-bubble-menu .neeto-ui-dropdown__popup {\n  background-color: rgb(var(--neeto-ui-gray-800));\n}\n.neeto-editor-bubble-menu .neeto-ui-dropdown__popup-menu-item-btn {\n  color: rgb(var(--neeto-ui-gray-200)) !important;\n}\n.neeto-editor-bubble-menu .neeto-ui-dropdown__popup-menu-item-btn:hover, .neeto-editor-bubble-menu .neeto-ui-dropdown__popup-menu-item-btn:active, .neeto-editor-bubble-menu .neeto-ui-dropdown__popup-menu-item-btn.active {\n  background-color: rgb(var(--neeto-ui-gray-600)) !important;\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__link {\n  width: 256px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 6px;\n  gap: 8px;\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__link .neeto-editor-bubble-menu-link__input {\n  background-color: transparent;\n  outline: none;\n  line-height: 20px;\n  width: 100%;\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__link .neeto-editor-bubble-menu-link__input::-moz-placeholder {\n  color: rgba(var(--neeto-ui-white, 0.4));\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__link .neeto-editor-bubble-menu-link__input::placeholder {\n  color: rgba(var(--neeto-ui-white, 0.4));\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__link .ne-btn--icon-only {\n  padding: 0;\n  min-height: 0;\n  opacity: 0.8;\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__link .ne-btn--icon-only:hover {\n  opacity: 1;\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__dropdown-target {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  white-space: nowrap;\n  font-size: var(--neeto-ui-text-xs);\n  line-height: var(--neeto-ui-leading-normal);\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__dropdown {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__dropdown .neeto-editor-bubble-menu__dropdown-item {\n  width: 100%;\n  text-align: left;\n  padding: 8px 12px;\n  font-size: var(--neeto-ui-text-xs);\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__dropdown .neeto-editor-bubble-menu__dropdown-item:first-child {\n  border-top-left-radius: var(--neeto-ui-rounded);\n  border-top-right-radius: var(--neeto-ui-rounded);\n}\n.neeto-editor-bubble-menu .neeto-editor-bubble-menu__dropdown .neeto-editor-bubble-menu__dropdown-item:last-child {\n  border-bottom-left-radius: var(--neeto-ui-rounded);\n  border-bottom-right-radius: var(--neeto-ui-rounded);\n}\n.neeto-editor-bubble-menu-animate-shake {\n  animation: 1s linear infinite alternate both shake;\n}\n.neeto-editor__image-menu .neeto-ui-dropdown__popup {\n  display: flex;\n  min-width: unset;\n}\n.neeto-editor__image-menu .neeto-ui-dropdown__popup .neeto-ui-btn .neeto-ui-btn__icon {\n  height: 18px !important;\n  width: 18px !important;\n}\n.neeto-editor__image-menu-btn {\n  position: absolute !important;\n  top: 4px;\n  right: 4px;\n  z-index: 1;\n  padding: 2px !important;\n}\n.ne-media-uploader {\n  display: flex;\n  flex-direction: column;\n  min-height: 184px;\n}\n.ne-media-uploader .ne-tab__wrapper .ne-tab {\n  min-width: 88px;\n}\n.ne-media-uploader .ne-media-uploader__content {\n  flex-grow: 1;\n  display: flex;\n  padding: 16px;\n}\n.ne-media-uploader .ne-media-uploader__progress {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  text-align: center;\n}\n.ne-media-uploader .ne-media-uploader__progress-title, .ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd .uppy-DragDrop-label {\n  color: rgb(var(--neeto-ui-gray-700));\n  font-size: var(--neeto-ui-text-sm);\n  margin-bottom: 4px;\n}\n.ne-media-uploader .ne-media-uploader__progress-file, .ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd .uppy-DragDrop-note {\n  color: rgb(var(--neeto-ui-gray-400));\n  font-size: var(--neeto-ui-text-xs);\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  border: 1px dashed rgb(var(--neeto-ui-gray-400));\n  box-sizing: border-box;\n  border-radius: var(--neeto-ui-rounded);\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd .uppy-Root {\n  width: 100%;\n  height: 100%;\n  background-color: rgb(var(--neeto-ui-white));\n  cursor: pointer;\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd .uppy-Root::-moz-focus-inner {\n  border: 0;\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd .uppy-DragDrop-inner {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  line-height: 1.4;\n  text-align: center;\n  font-weight: var(--neeto-ui-font-normal);\n  margin: 0;\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd .uppy-DragDrop-arrow {\n  visibility: hidden;\n  display: none;\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd .uppy-DragDrop--isDraggingOver {\n  background-color: rgb(var(--neeto-ui-gray-200));\n  border: 2px dashed rgb(var(--neeto-ui-primary-500));\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd .uppy-DragDrop-browse {\n  color: rgb(var(--neeto-ui-primary-500));\n  font-size: var(--neeto-ui-text-sm);\n  font-weight: var(--neeto-ui-font-semibold);\n  cursor: pointer;\n}\n.ne-media-uploader .ne-media-uploader__dnd-wrapper .ne-media-uploader__dnd--error {\n  color: rgb(var(--neeto-ui-error));\n  font-size: var(--neeto-ui-text-xs);\n  margin-top: 12px;\n  text-align: center;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper {\n  width: 100%;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-container {\n  max-height: 50vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-search {\n  padding: 0px 8px;\n  margin-bottom: 16px;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery {\n  width: 100%;\n  right: -8px;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__loader {\n  display: flex;\n  justify-content: center;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__item {\n  width: 33.3%;\n  padding-right: 16px;\n  padding-bottom: 16px;\n  float: left;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__item-placeholder {\n  width: 100%;\n  position: relative;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__item-placeholder .neeto-editor-unsplash-gallery__item-inner {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgb(var(--neeto-ui-gray-100));\n  border-radius: var(--neeto-ui-rounded-sm);\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__item-placeholder .neeto-editor-unsplash-gallery__item-inner img {\n  height: 100%;\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n  animation: fade-in 1.2s 1s cubic-bezier(0.39, 0.575, 0.565, 1) both;\n  border-radius: var(--neeto-ui-rounded);\n  position: relative;\n  cursor: pointer;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__item-placeholder .neeto-editor-unsplash-gallery__item-inner a {\n  opacity: 0;\n  position: absolute;\n  left: 8px;\n  bottom: 8px;\n  margin: auto;\n  color: rgb(var(--neeto-ui-white));\n  font-size: 12px;\n  font-weight: var(--neeto-ui-font-normal);\n  line-height: 1;\n  text-transform: capitalize;\n  transition: var(--neeto-ui-transition);\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__item-placeholder .neeto-editor-unsplash-gallery__item-inner a:hover {\n  text-decoration: underline;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__item-placeholder .neeto-editor-unsplash-gallery__item-inner:hover a {\n  opacity: 1;\n}\n.ne-media-uploader .neeto-editor-unsplash-wrapper .neeto-editor-unsplash-gallery__text {\n  font-size: var(--neeto-ui-text-xs);\n  color: rgb(var(--neeto-ui-gray-800));\n  text-align: center;\n  margin-top: 12px;\n}\n.neeto-editor-progress-bar__wrapper {\n  width: 100%;\n  max-width: 256px;\n  margin-top: 10px;\n}\n.neeto-editor-progress-bar__wrapper .neeto-editor-progress-bar__percent {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n.neeto-editor-progress-bar__wrapper .neeto-editor-progress-bar__percent p {\n  font-size: var(--neeto-ui-text-xs);\n  color: rgb(var(--neeto-ui-gray-800));\n}\n.neeto-editor-progress-bar__wrapper .neeto-editor-progress-bar__indicator {\n  position: relative;\n  width: 100%;\n  height: 6px;\n  border-radius: var(--neeto-ui-rounded-full);\n  overflow: hidden;\n  background-color: rgba(var(--neeto-ui-primary-500), 0.2);\n  margin-top: 4px;\n}\n.neeto-editor-progress-bar__wrapper .neeto-editor-progress-bar__indicator-inner {\n  height: 100%;\n  background-color: rgb(var(--neeto-ui-primary-500));\n}\n.neeto-editor-url-form__wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  padding: 0 24px;\n}\n.neeto-editor-url-form__wrapper .neeto-ui-input__wrapper {\n  width: 100%;\n  flex-grow: 0;\n  margin-bottom: 16px;\n}\n.neeto-editor-emoji {\n  font-family: apple color emoji, segoe ui emoji, noto color emoji, android emoji, emojisymbols, emojione mozilla, twemoji mozilla, segoe ui symbol;\n}\n.emoji-mart.emoji-mart-light {\n  font-size: 14px;\n  color: rgb(var(--neeto-ui-gray-800));\n  border: none;\n}\n.emoji-mart.emoji-mart-light .emoji-mart-bar .emoji-mart-anchors .emoji-mart-anchor {\n  color: rgb(var(--neeto-ui-gray-500));\n}\n.emoji-mart.emoji-mart-light .emoji-mart-bar .emoji-mart-anchors .emoji-mart-anchor svg {\n  margin: auto;\n}\n.emoji-mart.emoji-mart-light .emoji-mart-bar .emoji-mart-anchors .emoji-mart-anchor .emoji-mart-anchor-bar {\n  background-color: rgb(var(--neeto-ui-gray-800)) !important;\n}\n.emoji-mart.emoji-mart-light .emoji-mart-bar .emoji-mart-anchors .emoji-mart-anchor.emoji-mart-anchor-selected {\n  color: rgb(var(--neeto-ui-gray-800)) !important;\n}\n.emoji-mart.emoji-mart-light .emoji-mart-search input {\n  border-radius: var(--neeto-ui-rounded-sm);\n}\n.emoji-mart.emoji-mart-light .emoji-mart-category .emoji-mart-category-label span {\n  padding-top: 8px;\n}\n.emoji-mart.emoji-mart-light .emoji-mart-category .emoji-mart-emoji span {\n  cursor: pointer;\n}\n.emoji-mart.emoji-mart-light .emoji-mart-category .emoji-mart-emoji:hover::before {\n  background-color: rgb(var(--neeto-ui-gray-200));\n  border-radius: var(--neeto-ui-rounded-sm);\n}\n.emoji-mart.emoji-mart-light .emoji-mart-scroll {\n  height: 264px;\n  padding-bottom: 0px;\n}\n.neeto-editor-emoji-suggestion {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 4px;\n  gap: 2px;\n  font-family: apple color emoji, segoe ui emoji, noto color emoji, android emoji, emojisymbols, emojione mozilla, twemoji mozilla, segoe ui symbol;\n}\n.neeto-editor-emoji-suggestion p {\n  font-size: var(--neeto-ui-text-xs);\n  color: rgb(var(--neeto-ui-gray-800));\n}\n.neeto-editor-emoji-suggestion span {\n  height: 16px !important;\n  width: 16px !important;\n  font-size: 10px;\n}\n.neeto-editor-emoji-suggestion .neeto-editor-emoji-suggestion__item {\n  padding: 6px;\n  font-size: var(--neeto-ui-text-2xl);\n  transition: var(--neeto-ui-transition);\n  border-radius: var(--neeto-ui-rounded-sm);\n  line-height: 1;\n  cursor: pointer;\n}\n.neeto-editor-emoji-suggestion .neeto-editor-emoji-suggestion__item:hover {\n  background-color: rgb(var(--neeto-ui-gray-200));\n}\n.neeto-editor-emoji-suggestion .neeto-editor-emoji-suggestion__item--selected {\n  background-color: rgb(var(--neeto-ui-gray-200));\n}\n.ne-media-editor {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1.25rem;\n}\n.ne-media-editor button {\n  margin-right: auto;\n}\n.ne-media-editor img,\n.ne-media-editor video {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-height: 208px;\n  max-height: 400px;\n  height: -moz-fit-content;\n  height: fit-content;\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.ne-media-editor__error {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 288px;\n  max-height: 400px;\n  width: 100%;\n  padding: 24px;\n  background: rgb(var(--neeto-ui-gray-100));\n  border-radius: var(--neeto-ui-rounded-sm);\n  gap: 8px;\n}\n.ne-media-editor__error h2 {\n  font-size: var(--neeto-ui-text-lg);\n  font-weight: var(--neeto-ui-font-medium);\n}\n.ne-media-editor .neeto-ui-input__wrapper {\n  width: 100%;\n}\n.ne-media-editor .ne-media-editor__footer {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 0.5rem;\n}\n.ne-media-editor .ne-media-editor__footer button {\n  margin-right: 0;\n}\n.neeto-editor-table {\n  display: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.neeto-editor-table table th p,\n.neeto-editor-table table td p {\n  margin: 0;\n}\n.neeto-editor-table table .column-resize-handle {\n  position: absolute;\n  top: 0;\n  bottom: 0px;\n  right: -2px;\n  width: 4px;\n  background-color: rgb(var(--neeto-ui-gray-300));\n}\n.neeto-editor-table table .selectedCell:after {\n  position: absolute;\n  inset: 0;\n  content: "";\n  background: rgba(var(--neeto-ui-primary-500), 0.1);\n}\n.neeto-editor-table__wrapper {\n  display: flex;\n  gap: 4px;\n}\n.neeto-editor-table__add-row, .neeto-editor-table__add-column {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(var(--neeto-ui-gray-200));\n  border-radius: var(--neeto-ui-rounded-sm);\n  transition: var(--neeto-ui-transition);\n  cursor: pointer;\n}\n.neeto-editor-table__add-row p, .neeto-editor-table__add-column p {\n  background: white;\n  color: rgb(var(--neeto-ui-gray-800));\n  font-size: var(--neeto-ui-text-xl);\n  line-height: 16px;\n  padding: 4px;\n}\n.neeto-editor-table__add-row:hover, .neeto-editor-table__add-column:hover {\n  background: rgba(var(--neeto-ui-gray-300));\n}\n.neeto-editor-table__add-row {\n  margin: 4px 20px 4px 0;\n  height: 16px;\n}\n.neeto-editor-table__add-column {\n  flex-direction: column;\n  width: 16px;\n}\n.ProseMirror.resize-cursor {\n  cursor: col-resize;\n}\n.ne-attachments {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.ne-attachments__items {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n.ne-attachments__attachment {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 2px 4px 8px;\n  border-radius: var(--neeto-ui-rounded-sm);\n  border: 1px solid rgb(var(--neeto-ui-gray-200));\n  background-color: rgb(var(--neeto-ui-white));\n  width: 256px;\n}\n.ne-attachments__attachment-file-icon {\n  height: auto;\n  width: 15px;\n}\n.ne-attachments__attachment__progress {\n  display: flex;\n  opacity: 0.5;\n  justify-content: space-between;\n  width: 76%;\n}\n.ne-attachments__attachment__progress p {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n}\n.ne-attachments__attachment__progress p:nth-child(2) {\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.ne-attachments__attachment__progress-icon {\n  width: 15px;\n  height: auto;\n}\n.ne-attachments__attachment p {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: block;\n  width: 75%;\n}\n.ne-attachments input[type=file] {\n  display: none;\n}\n.ne-attachments--integrated {\n  padding: 0px 6px;\n  border: 1px solid rgb(var(--neeto-ui-gray-300));\n  border-top: none;\n  border-radius: 0px 0px var(--neeto-ui-rounded) var(--neeto-ui-rounded);\n}\n.ne-attachments__wrapper {\n  position: relative;\n}\n.ne-attachments__wrapper.uppy-is-drag-over::after {\n  position: absolute;\n  inset: 7px;\n  border-radius: 5px;\n  background-color: rgba(var(--neeto-ui-gray-300), 0.5);\n  border: 3px dashed rgb(var(--neeto-ui-gray-500));\n  color: rgb(var(--neeto-ui-gray-700));\n  content: "Drop the file here";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n.ProseMirror {\n  overflow-y: auto;\n  height: 100%;\n  white-space: break-spaces;\n}\n.ProseMirror:focus {\n  outline: none;\n}',{});const Lz=(e,t)=>{let{name:n,...r}=e;return c.createElement(Se,{name:n},(e=>{let{field:i,form:o,meta:s}=e;return c.createElement(Iz,Vy({error:s.touched?s.error:"",initialValue:i.value,ref:t,onBlur:()=>o.setFieldTouched(n,!0),onChange:e=>o.setFieldValue(n,e)},r))}))};var jz=g(Lz);
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function Rz(e){return Rz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rz(e)}function Fz(e,t){return Fz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fz(e,t)}function zz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Pz(e,t,n){return Pz=zz()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Fz(i,n.prototype),i},Pz.apply(null,arguments)}function Bz(e){return function(e){if(Array.isArray(e))return Uz(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Uz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uz(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hz=Object.hasOwnProperty,$z=Object.setPrototypeOf,Vz=Object.isFrozen,Wz=Object.getPrototypeOf,qz=Object.getOwnPropertyDescriptor,Kz=Object.freeze,Gz=Object.seal,Yz=Object.create,Qz="undefined"!=typeof Reflect&&Reflect,Jz=Qz.apply,Zz=Qz.construct;Jz||(Jz=function(e,t,n){return e.apply(t,n)}),Kz||(Kz=function(e){return e}),Gz||(Gz=function(e){return e}),Zz||(Zz=function(e,t){return Pz(e,Bz(t))});var Xz,eP=uP(Array.prototype.forEach),tP=uP(Array.prototype.pop),nP=uP(Array.prototype.push),rP=uP(String.prototype.toLowerCase),iP=uP(String.prototype.match),oP=uP(String.prototype.replace),sP=uP(String.prototype.indexOf),aP=uP(String.prototype.trim),lP=uP(RegExp.prototype.test),cP=(Xz=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zz(Xz,t)});function uP(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Jz(e,t,r)}}function dP(e,t,n){n=n||rP,$z&&$z(e,null);for(var r=t.length;r--;){var i=t[r];if("string"==typeof i){var o=n(i);o!==i&&(Vz(t)||(t[r]=o),i=o)}e[i]=!0}return e}function pP(e){var t,n=Yz(null);for(t in e)Jz(Hz,e,[t])&&(n[t]=e[t]);return n}function hP(e,t){for(;null!==e;){var n=qz(e,t);if(n){if(n.get)return uP(n.get);if("function"==typeof n.value)return uP(n.value)}e=Wz(e)}return function(e){return console.warn("fallback value for",e),null}}var fP=Kz(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mP=Kz(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),gP=Kz(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bP=Kz(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yP=Kz(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),vP=Kz(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wP=Kz(["#text"]),_P=Kz(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),xP=Kz(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kP=Kz(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),EP=Kz(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MP=Gz(/\{\{[\w\W]*|[\w\W]*\}\}/gm),CP=Gz(/<%[\w\W]*|[\w\W]*%>/gm),DP=Gz(/^data-[\-\w.\u00B7-\uFFFF]/),SP=Gz(/^aria-[\-\w]+$/),AP=Gz(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),NP=Gz(/^(?:\w+script|data):/i),OP=Gz(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),TP=Gz(/^html$/i),IP=function(){return"undefined"==typeof window?null:window},LP=function(e,t){if("object"!==Rz(e)||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};var jP=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IP(),n=function(t){return e(t)};if(n.version="2.4.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,p=t.HTMLFormElement,h=t.DOMParser,f=t.trustedTypes,m=l.prototype,g=hP(m,"cloneNode"),b=hP(m,"nextSibling"),y=hP(m,"childNodes"),v=hP(m,"parentNode");if("function"==typeof s){var w=i.createElement("template");w.content&&w.content.ownerDocument&&(i=w.content.ownerDocument)}var _=LP(f,r),x=_?_.createHTML(""):"",k=i,E=k.implementation,M=k.createNodeIterator,C=k.createDocumentFragment,D=k.getElementsByTagName,S=r.importNode,A={};try{A=pP(i).documentMode?i.documentMode:{}}catch(e){}var N={};n.isSupported="function"==typeof v&&E&&void 0!==E.createHTMLDocument&&9!==A;var O,T,I=MP,L=CP,j=DP,R=SP,F=NP,z=OP,P=AP,B=null,U=dP({},[].concat(Bz(fP),Bz(mP),Bz(gP),Bz(yP),Bz(wP))),H=null,$=dP({},[].concat(Bz(_P),Bz(xP),Bz(kP),Bz(EP))),V=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,q=null,K=!0,G=!0,Y=!1,Q=!1,J=!1,Z=!1,X=!1,ee=!1,te=!1,ne=!1,re=!0,ie=!1,oe="user-content-",se=!0,ae=!1,le={},ce=null,ue=dP({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),de=null,pe=dP({},["audio","video","img","source","image","track"]),he=null,fe=dP({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",be="http://www.w3.org/1999/xhtml",ye=be,ve=!1,we=["application/xhtml+xml","text/html"],_e="text/html",xe=null,ke=i.createElement("form"),Ee=function(e){return e instanceof RegExp||e instanceof Function},Me=function(e){xe&&xe===e||(e&&"object"===Rz(e)||(e={}),e=pP(e),O=O=-1===we.indexOf(e.PARSER_MEDIA_TYPE)?_e:e.PARSER_MEDIA_TYPE,T="application/xhtml+xml"===O?function(e){return e}:rP,B="ALLOWED_TAGS"in e?dP({},e.ALLOWED_TAGS,T):U,H="ALLOWED_ATTR"in e?dP({},e.ALLOWED_ATTR,T):$,he="ADD_URI_SAFE_ATTR"in e?dP(pP(fe),e.ADD_URI_SAFE_ATTR,T):fe,de="ADD_DATA_URI_TAGS"in e?dP(pP(pe),e.ADD_DATA_URI_TAGS,T):pe,ce="FORBID_CONTENTS"in e?dP({},e.FORBID_CONTENTS,T):ue,W="FORBID_TAGS"in e?dP({},e.FORBID_TAGS,T):{},q="FORBID_ATTR"in e?dP({},e.FORBID_ATTR,T):{},le="USE_PROFILES"in e&&e.USE_PROFILES,K=!1!==e.ALLOW_ARIA_ATTR,G=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=e.SAFE_FOR_TEMPLATES||!1,J=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,se=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||P,ye=e.NAMESPACE||be,e.CUSTOM_ELEMENT_HANDLING&&Ee(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ee(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(G=!1),te&&(ee=!0),le&&(B=dP({},Bz(wP)),H=[],!0===le.html&&(dP(B,fP),dP(H,_P)),!0===le.svg&&(dP(B,mP),dP(H,xP),dP(H,EP)),!0===le.svgFilters&&(dP(B,gP),dP(H,xP),dP(H,EP)),!0===le.mathMl&&(dP(B,yP),dP(H,kP),dP(H,EP))),e.ADD_TAGS&&(B===U&&(B=pP(B)),dP(B,e.ADD_TAGS,T)),e.ADD_ATTR&&(H===$&&(H=pP(H)),dP(H,e.ADD_ATTR,T)),e.ADD_URI_SAFE_ATTR&&dP(he,e.ADD_URI_SAFE_ATTR,T),e.FORBID_CONTENTS&&(ce===ue&&(ce=pP(ce)),dP(ce,e.FORBID_CONTENTS,T)),se&&(B["#text"]=!0),J&&dP(B,["html","head","body"]),B.table&&(dP(B,["tbody"]),delete W.tbody),Kz&&Kz(e),xe=e)},Ce=dP({},["mi","mo","mn","ms","mtext"]),De=dP({},["foreignobject","desc","title","annotation-xml"]),Se=dP({},["title","style","font","a","script"]),Ae=dP({},mP);dP(Ae,gP),dP(Ae,bP);var Ne=dP({},yP);dP(Ne,vP);var Oe=function(e){var t=v(e);t&&t.tagName||(t={namespaceURI:be,tagName:"template"});var n=rP(e.tagName),r=rP(t.tagName);return e.namespaceURI===ge?t.namespaceURI===be?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||Ce[r]):Boolean(Ae[n]):e.namespaceURI===me?t.namespaceURI===be?"math"===n:t.namespaceURI===ge?"math"===n&&De[r]:Boolean(Ne[n]):e.namespaceURI===be&&(!(t.namespaceURI===ge&&!De[r])&&(!(t.namespaceURI===me&&!Ce[r])&&(!Ne[n]&&(Se[n]||!Ae[n]))))},Te=function(e){nP(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=x}catch(t){e.remove()}}},Ie=function(e,t){try{nP(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){nP(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!H[e])if(ee||te)try{Te(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Le=function(e){var t,n;if(X)e="<remove></remove>"+e;else{var r=iP(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===O&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=_?_.createHTML(e):e;if(ye===be)try{t=(new h).parseFromString(o,O)}catch(e){}if(!t||!t.documentElement){t=E.createDocument(ye,"template",null);try{t.documentElement.innerHTML=ve?"":o}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(i.createTextNode(n),s.childNodes[0]||null),ye===be?D.call(t,J?"html":"body")[0]:J?t.documentElement:s},je=function(e){return M.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Re=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},Fe=function(e){return"object"===Rz(a)?e instanceof a:e&&"object"===Rz(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ze=function(e,t,r){N[e]&&eP(N[e],(function(e){e.call(n,t,r,xe)}))},Pe=function(e){var t;if(ze("beforeSanitizeElements",e,null),Re(e))return Te(e),!0;if(lP(/[\u0080-\uFFFF]/,e.nodeName))return Te(e),!0;var r=T(e.nodeName);if(ze("uponSanitizeElement",e,{tagName:r,allowedTags:B}),e.hasChildNodes()&&!Fe(e.firstElementChild)&&(!Fe(e.content)||!Fe(e.content.firstElementChild))&&lP(/<[/\w]/g,e.innerHTML)&&lP(/<[/\w]/g,e.textContent))return Te(e),!0;if("select"===r&&lP(/<template/i,e.innerHTML))return Te(e),!0;if(!B[r]||W[r]){if(!W[r]&&Ue(r)){if(V.tagNameCheck instanceof RegExp&&lP(V.tagNameCheck,r))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(r))return!1}if(se&&!ce[r]){var i=v(e)||e.parentNode,o=y(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(g(o[s],!0),b(e))}return Te(e),!0}return e instanceof l&&!Oe(e)?(Te(e),!0):"noscript"!==r&&"noembed"!==r||!lP(/<\/no(script|embed)/i,e.innerHTML)?(Q&&3===e.nodeType&&(t=e.textContent,t=oP(t,I," "),t=oP(t,L," "),e.textContent!==t&&(nP(n.removed,{element:e.cloneNode()}),e.textContent=t)),ze("afterSanitizeElements",e,null),!1):(Te(e),!0)},Be=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in i||n in ke))return!1;if(G&&!q[t]&&lP(j,t));else if(K&&lP(R,t));else if(!H[t]||q[t]){if(!(Ue(e)&&(V.tagNameCheck instanceof RegExp&&lP(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&lP(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t))||"is"===t&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&lP(V.tagNameCheck,n)||V.tagNameCheck instanceof Function&&V.tagNameCheck(n))))return!1}else if(he[t]);else if(lP(P,oP(n,z,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==sP(n,"data:")||!de[e]){if(Y&&!lP(F,oP(n,z,"")));else if(n)return!1}else;return!0},Ue=function(e){return e.indexOf("-")>0},He=function(e){var t,r,i,o;ze("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};for(o=s.length;o--;){var l=t=s[o],c=l.name,u=l.namespaceURI;if(r="value"===c?t.value:aP(t.value),i=T(c),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,ze("uponSanitizeAttribute",e,a),r=a.attrValue,!a.forceKeepAttr&&(Ie(c,e),a.keepAttr))if(lP(/\/>/i,r))Ie(c,e);else{Q&&(r=oP(r,I," "),r=oP(r,L," "));var d=T(e.nodeName);if(Be(d,i,r)){if(!ie||"id"!==i&&"name"!==i||(Ie(c,e),r=oe+r),_&&"object"===Rz(f)&&"function"==typeof f.getAttributeType)if(u);else switch(f.getAttributeType(d,i)){case"TrustedHTML":r=_.createHTML(r);break;case"TrustedScriptURL":r=_.createScriptURL(r)}try{u?e.setAttributeNS(u,c,r):e.setAttribute(c,r),tP(n.removed)}catch(e){}}}}ze("afterSanitizeAttributes",e,null)}},$e=function e(t){var n,r=je(t);for(ze("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)ze("uponSanitizeShadowNode",n,null),Pe(n)||(n.content instanceof o&&e(n.content),He(n));ze("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){var i,s,l,c,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Fe(e)){if("function"!=typeof e.toString)throw cP("toString is not a function");if("string"!=typeof(e=e.toString()))throw cP("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Rz(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Fe(e))return t.toStaticHTML(e.outerHTML)}return e}if(Z||Me(d),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){var p=T(e.nodeName);if(!B[p]||W[p])throw cP("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(s=(i=Le("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!ee&&!Q&&!J&&-1===e.indexOf("<"))return _&&ne?_.createHTML(e):e;if(!(i=Le(e)))return ee?null:ne?x:""}i&&X&&Te(i.firstChild);for(var h=je(ae?e:i);l=h.nextNode();)3===l.nodeType&&l===c||Pe(l)||(l.content instanceof o&&$e(l.content),He(l),c=l);if(c=null,ae)return e;if(ee){if(te)for(u=C.call(i.ownerDocument);i.firstChild;)u.appendChild(i.firstChild);else u=i;return H.shadowroot&&(u=S.call(r,u,!0)),u}var f=J?i.outerHTML:i.innerHTML;return J&&B["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&lP(TP,i.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+f),Q&&(f=oP(f,I," "),f=oP(f,L," ")),_&&ne?_.createHTML(f):f},n.setConfig=function(e){Me(e),Z=!0},n.clearConfig=function(){xe=null,Z=!1},n.isValidAttribute=function(e,t,n){xe||Me({});var r=T(e),i=T(t);return Be(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(N[e]=N[e]||[],nP(N[e],t))},n.removeHook=function(e){if(N[e])return tP(N[e])},n.removeHooks=function(e){N[e]&&(N[e]=[])},n.removeAllHooks=function(){N={}},n}();const RP=e=>{let{content:t="",variables:n=[],className:r,...i}=e;const o=ss((e=>e.replace(ns,((e,t)=>{const n=Xo.highlightAuto(t.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")).children.map(is);return`<pre><code>${v(n)}</code></pre>`})))(t),n),s=jP.sanitize;return c.createElement("div",Vy({"data-cy":"neeto-editor-content",className:Ka(es,{[r]:r}),dangerouslySetInnerHTML:{__html:s(o,ts)}},i))};var FP;FP={translationResources:{en:{translation:Ca}}},Ma.use(k).init({resources:x({en:{translation:Ca}},FP),lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1,skipOnVariables:!1}});export{Kv as Attachments,Iz as Editor,RP as EditorContent,jz as FormikEditor,Oz as Menu,us as isEditorEmpty,mr as isEditorOverlaysActive,ss as substituteVariables};
